# Production Orchestrator Configuration Template
# This template provides a robust configuration for production environments

orchestrator:
  # Production-grade settings
  max_concurrent_strategies: 15
  signal_aggregation_method: "confidence_weighted"
  conflict_resolution_method: "weighted_combination"
  enable_dynamic_allocation: true
  enable_strategy_auto_discovery: false  # Disabled for stability

  # Conservative allocation management
  allocation:
    method: "risk_parity"
    rebalance_frequency: "daily"
    min_allocation: 0.02
    max_allocation: 0.20
    rebalance_threshold: 0.03
    lookback_period: 60

  # Strict risk management
  risk:
    max_portfolio_drawdown: 0.08
    max_strategy_correlation: 0.70
    position_size_limit: 0.03
    stop_loss_threshold: 0.015
    var_confidence_level: 0.99
    max_leverage: 1.0
    correlation_lookback: 90
    risk_free_rate: 0.02
    emergency_stop_conditions:
      - "max_drawdown_exceeded"
      - "correlation_limit_exceeded"
      - "strategy_failure_cascade"
      - "risk_limit_breach"

  # Comprehensive monitoring
  monitoring:
    performance_tracking: true
    real_time_metrics: true
    reporting_frequency: "daily"
    metrics_retention_days: 730  # 2 years
    enable_notifications: true
    notification_channels: ["email", "slack", "log"]
    alert_thresholds:
      drawdown: 0.04
      correlation: 0.65
      performance_degradation: -0.05
      risk_limit_breach: 0.80

  # Conservative optimization
  optimization:
    optimization_frequency: "weekly"
    lookback_period: 90
    optimization_method: "calmar_ratio"
    min_performance_threshold: 0.05
    enable_parameter_optimization: false

  # Production strategy portfolio
  strategies:
    # Core trend following strategies
    - type: "MovingAverageStrategy"
      name: "ma_conservative"
      enabled: true
      allocation_weight: 1.0
      parameters:
        short_period: 20
        long_period: 50
        market_types: ["crypto", "forex"]
      risk_limits:
        max_position_size: 0.02
        stop_loss: 0.01
      performance_thresholds:
        min_sharpe_ratio: 0.8
        max_drawdown: 0.06

    - type: "MovingAverageStrategy"
      name: "ma_medium_term"
      enabled: true
      allocation_weight: 1.0
      parameters:
        short_period: 50
        long_period: 100
        market_types: ["crypto", "forex"]
      risk_limits:
        max_position_size: 0.025
        stop_loss: 0.012

    # Mean reversion strategies
    - type: "RSIStrategy"
      name: "rsi_conservative"
      enabled: true
      allocation_weight: 0.8
      parameters:
        period: 21
        oversold: 25
        overbought: 75
        market_types: ["crypto", "forex"]
      risk_limits:
        max_position_size: 0.02
        stop_loss: 0.01

    - type: "MeanReversionStrategy"
      name: "mean_reversion_stable"
      enabled: true
      allocation_weight: 0.9
      parameters:
        lookback_period: 30
        z_score_threshold: 2.5
        market_types: ["crypto"]
      risk_limits:
        max_position_size: 0.015
        stop_loss: 0.008

    # Multi-factor strategies
    - type: "MultiIndicatorStrategy"
      name: "multi_conservative"
      enabled: true
      allocation_weight: 1.2
      parameters:
        indicators: ["rsi", "macd", "bollinger_bands"]
        confirmation_threshold: 2
        market_types: ["crypto", "forex"]
      risk_limits:
        max_position_size: 0.025
        stop_loss: 0.012

    # Volatility-based strategies
    - type: "ATRVolatilityStrategy"
      name: "atr_adaptive"
      enabled: true
      allocation_weight: 0.7
      parameters:
        atr_period: 21
        volatility_multiplier: 1.5
        market_types: ["crypto", "forex"]
      risk_limits:
        max_position_size: 0.02
        stop_loss: 0.01

    # Momentum strategies
    - type: "AdvancedMomentumStrategy"
      name: "momentum_conservative"
      enabled: true
      allocation_weight: 0.8
      parameters:
        momentum_period: 21
        breakout_threshold: 0.015
        market_types: ["crypto"]
      risk_limits:
        max_position_size: 0.02
        stop_loss: 0.015

    # Forex-specific strategies
    - type: "ForexCarryTradeStrategy"
      name: "carry_trade_stable"
      enabled: true
      allocation_weight: 0.6
      parameters:
        currency_pairs: ["EURUSD", "GBPUSD", "USDJPY", "AUDUSD"]
        interest_rate_threshold: 0.01
        market_types: ["forex"]
      risk_limits:
        max_position_size: 0.015
        stop_loss: 0.008

    - type: "ForexSessionStrategy"
      name: "session_breakout_conservative"
      enabled: true
      allocation_weight: 0.5
      parameters:
        sessions: ["london", "new_york"]
        breakout_threshold: 0.0008
        market_types: ["forex"]
      risk_limits:
        max_position_size: 0.015
        stop_loss: 0.008

    # Cross-market arbitrage (conservative settings)
    - type: "CrossMarketArbitrageStrategy"
      name: "arbitrage_conservative"
      enabled: true
      allocation_weight: 0.4
      parameters:
        markets: ["crypto", "forex"]
        min_spread: 0.002
        max_execution_time: 15
      risk_limits:
        max_position_size: 0.01
        stop_loss: 0.005

    - type: "TriangularArbitrageStrategy"
      name: "triangular_conservative"
      enabled: true
      allocation_weight: 0.3
      parameters:
        currency_triplets: [["USD", "EUR", "GBP"]]
        min_profit_threshold: 0.001
      risk_limits:
        max_position_size: 0.01
        stop_loss: 0.005

_template_metadata:
  name: "production"
  description: "Production orchestrator configuration with conservative risk management"
  created_at: "2024-01-01T00:00:00"
  version: "1.2"