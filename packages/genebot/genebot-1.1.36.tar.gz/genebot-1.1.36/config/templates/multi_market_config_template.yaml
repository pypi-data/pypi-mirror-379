# Multi-Market Trading Bot Configuration Template
# This template provides a complete example of multi-market configuration
# Copy this file and customize it for your specific needs

# Application Settings
app_name: "MultiMarketTradingBot"
version: "2.0.0"
debug: false
dry_run: true  # Set to false for live trading
base_currency: "USD"  # Base currency for P&L calculations
environment: "development"  # development, staging, production

# Crypto Market Configuration
crypto:
  enabled: true
  default_quote_currency: "USDT"
  min_trade_amount: 10.0
  max_slippage: 0.005  # 0.5% max slippage
  
  exchanges:
    binance:
      exchange_type: "binance"
      api_key: "${BINANCE_API_KEY}"
      api_secret: "${BINANCE_API_SECRET}"
      sandbox: true
      rate_limit: 1200
      timeout: 30
      enabled: true
      supported_symbols: ["BTC/USDT", "ETH/USDT", "ADA/USDT", "DOT/USDT", "LTC/USDT", "BNB/USDT", "SOL/USDT", "MATIC/USDT"]
      fee_structure:
        maker: 0.001
        taker: 0.001
    
    coinbase:
      exchange_type: "coinbase"
      api_key: "${COINBASE_API_KEY}"
      api_secret: "${COINBASE_API_SECRET}"
      api_passphrase: "${COINBASE_PASSPHRASE}"
      sandbox: true
      rate_limit: 600
      timeout: 30
      enabled: false
      supported_symbols: ["BTC/USD", "ETH/USD", "ADA/USD", "DOT/USD", "LTC/USD"]
      fee_structure:
        maker: 0.005
        taker: 0.005
    
    kraken:
      exchange_type: "kraken"
      api_key: "${KRAKEN_API_KEY}"
      api_secret: "${KRAKEN_API_SECRET}"
      sandbox: false  # Kraken doesn't have sandbox
      rate_limit: 900
      timeout: 30
      enabled: false
      supported_symbols: ["BTC/USD", "ETH/USD", "ADA/USD", "DOT/USD", "LTC/USD"]
      fee_structure:
        maker: 0.0016
        taker: 0.0026
    
    kucoin:
      exchange_type: "kucoin"
      api_key: "${KUCOIN_API_KEY}"
      api_secret: "${KUCOIN_API_SECRET}"
      api_passphrase: "${KUCOIN_PASSPHRASE}"
      sandbox: true
      rate_limit: 1800
      timeout: 30
      enabled: false
      supported_symbols: ["BTC/USDT", "ETH/USDT", "ADA/USDT", "DOT/USDT", "LTC/USDT"]
      fee_structure:
        maker: 0.001
        taker: 0.001
    
    bybit:
      exchange_type: "bybit"
      api_key: "${BYBIT_API_KEY}"
      api_secret: "${BYBIT_API_SECRET}"
      sandbox: true
      rate_limit: 1200
      timeout: 30
      enabled: false
      supported_symbols: ["BTC/USDT", "ETH/USDT", "ADA/USDT", "DOT/USDT", "SOL/USDT"]
      fee_structure:
        maker: 0.001
        taker: 0.001

# Forex Market Configuration
forex:
  enabled: false  # Enable when ready to trade forex
  default_lot_size: 0.01
  max_spread_pips: 5
  swap_free_account: false
  max_slippage_pips: 2
  
  brokers:
    oanda:
      broker_type: "oanda"
      api_key: "${OANDA_API_KEY}"
      account_id: "${OANDA_ACCOUNT_ID}"
      environment: "practice"  # practice or live
      sandbox: true
      timeout: 30
      max_retries: 3
      enabled: false
      supported_symbols: ["EUR/USD", "GBP/USD", "USD/JPY", "USD/CHF", "AUD/USD", "USD/CAD", "NZD/USD", "EUR/GBP", "EUR/JPY", "GBP/JPY", "AUD/JPY", "NZD/JPY"]
      spread_info:
        "EUR/USD": 0.5
        "GBP/USD": 0.8
        "USD/JPY": 0.4
        "AUD/USD": 0.6
      leverage: 50
    
    mt5:
      broker_type: "mt5"
      server: "${MT5_SERVER}"
      login: "${MT5_LOGIN}"
      password: "${MT5_PASSWORD}"
      path: "${MT5_PATH}"  # Optional MT5 installation path
      sandbox: true
      timeout: 30
      max_retries: 3
      enabled: false
      supported_symbols: ["EURUSD", "GBPUSD", "USDJPY", "USDCHF", "AUDUSD", "USDCAD", "NZDUSD", "EURGBP", "EURJPY", "GBPJPY"]
      leverage: 100
      hedge_allowed: true
    
    ib:
      broker_type: "ib"
      host: "127.0.0.1"
      port: 7497  # 7497 for paper trading, 7496 for live
      client_id: 1
      sandbox: true
      timeout: 30
      max_retries: 3
      enabled: false
      supported_symbols: ["EUR.USD", "GBP.USD", "USD.JPY", "USD.CHF", "AUD.USD", "USD.CAD", "NZD.USD"]
      commission_structure:
        per_trade: 2.0
        minimum: 1.0
      margin_requirements:
        "EUR.USD": 0.02
        "GBP.USD": 0.02
        "USD.JPY": 0.02
    
    alpaca:
      broker_type: "alpaca"
      api_key: "${ALPACA_API_KEY}"
      api_secret: "${ALPACA_API_SECRET}"
      base_url: "${ALPACA_BASE_URL}"  # paper or live URL
      sandbox: true
      timeout: 30
      max_retries: 3
      enabled: false
      supported_symbols: ["EUR/USD", "GBP/USD", "USD/JPY", "AUD/USD", "USD/CAD"]
      commission_free: true
    
    fxcm:
      broker_type: "fxcm"
      api_key: "${FXCM_API_KEY}"
      access_token: "${FXCM_ACCESS_TOKEN}"
      server: "${FXCM_SERVER}"
      sandbox: true
      timeout: 30
      max_retries: 3
      enabled: false
      supported_symbols: ["EUR/USD", "GBP/USD", "USD/JPY", "USD/CHF", "AUD/USD", "USD/CAD", "NZD/USD"]
      min_lot_size: 0.01
  
  # Trading Sessions (UTC times)
  sessions:
    sydney:
      name: "sydney"
      start_time: "22:00"
      end_time: "07:00"
      timezone: "UTC"
      enabled: true
    
    tokyo:
      name: "tokyo"
      start_time: "00:00"
      end_time: "09:00"
      timezone: "UTC"
      enabled: true
    
    london:
      name: "london"
      start_time: "08:00"
      end_time: "17:00"
      timezone: "UTC"
      enabled: true
    
    new_york:
      name: "new_york"
      start_time: "13:00"
      end_time: "22:00"
      timezone: "UTC"
      enabled: true
  
  # Market Holidays (examples)
  holidays:
    - name: "New Year's Day"
      date: "2024-01-01"
      markets: ["forex"]
    
    - name: "Christmas Day"
      date: "2024-12-25"
      markets: ["forex"]

# Strategy Configurations
strategies:
  # Technical Analysis Strategies
  rsi_strategy:
    strategy_type: "rsi"
    enabled: true
    symbols: ["BTC/USDT", "ETH/USDT", "ADA/USDT"]
    timeframe: "1h"
    parameters:
      rsi_period: 14
      oversold_threshold: 30
      overbought_threshold: 70
      min_confidence: 0.7
    max_positions: 3
    risk_per_trade: 0.02
  
  moving_average_strategy:
    strategy_type: "moving_average"
    enabled: true
    symbols: ["BTC/USDT", "ETH/USDT", "LTC/USDT"]
    timeframe: "4h"
    parameters:
      short_window: 10
      long_window: 30
      min_confidence: 0.7
    max_positions: 2
    risk_per_trade: 0.015
  
  mean_reversion_strategy:
    strategy_type: "mean_reversion"
    enabled: false
    symbols: ["BTC/USDT", "ETH/USDT"]
    timeframe: "1h"
    parameters:
      lookback_period: 20
      std_dev_multiplier: 2.0
      min_confidence: 0.75
    max_positions: 2
    risk_per_trade: 0.02
  
  multi_indicator_strategy:
    strategy_type: "multi_indicator"
    enabled: false
    symbols: ["BTC/USDT", "ETH/USDT", "ADA/USDT", "DOT/USDT"]
    timeframe: "1h"
    parameters:
      ma_fast: 10
      ma_slow: 20
      rsi_period: 14
      rsi_oversold: 30
      rsi_overbought: 70
      macd_fast: 12
      macd_slow: 26
      macd_signal: 9
      min_confidence: 0.85
    max_positions: 3
    risk_per_trade: 0.025
  
  atr_volatility_strategy:
    strategy_type: "atr_volatility"
    enabled: false
    symbols: ["BTC/USDT", "ETH/USDT"]
    timeframe: "1h"
    parameters:
      atr_period: 14
      atr_multiplier: 2.0
      volatility_threshold: 0.02
      min_confidence: 0.8
    max_positions: 2
    risk_per_trade: 0.02
  
  advanced_momentum_strategy:
    strategy_type: "advanced_momentum"
    enabled: false
    symbols: ["BTC/USDT", "ETH/USDT", "BNB/USDT"]
    timeframe: "2h"
    parameters:
      momentum_period: 20
      rsi_period: 14
      volume_threshold: 1.5
      min_confidence: 0.8
    max_positions: 3
    risk_per_trade: 0.02
  
  ml_pattern_strategy:
    strategy_type: "ml_pattern"
    enabled: false
    symbols: ["BTC/USDT", "ETH/USDT"]
    timeframe: "1h"
    parameters:
      pattern_lookback: 50
      confidence_threshold: 0.85
      feature_count: 20
      model_retrain_interval: 168  # hours
    max_positions: 2
    risk_per_trade: 0.015
  
  # Forex-Specific Strategies
  forex_session_strategy:
    strategy_type: "forex_session"
    enabled: false  # Enable when forex is configured
    symbols: ["EUR/USD", "GBP/USD", "USD/JPY", "AUD/USD"]
    timeframe: "15m"
    parameters:
      session_overlap_only: true
      min_volatility_threshold: 0.0015
      momentum_period: 20
      atr_period: 14
      atr_multiplier: 2.0
      rsi_period: 14
      rsi_oversold: 30
      rsi_overbought: 70
      preferred_sessions: ["london", "new_york"]
      min_overlap_minutes: 60
      major_pairs: ["EUR/USD", "GBP/USD", "USD/JPY", "USD/CHF", "AUD/USD", "USD/CAD", "NZD/USD"]
    max_positions: 2
    risk_per_trade: 0.02
  
  forex_carry_trade_strategy:
    strategy_type: "forex_carry_trade"
    enabled: false
    symbols: ["AUD/JPY", "NZD/JPY", "EUR/JPY"]
    timeframe: "1d"
    parameters:
      min_interest_differential: 0.02
      trend_confirmation_period: 20
      volatility_threshold: 0.01
      correlation_threshold: 0.7
    max_positions: 3
    risk_per_trade: 0.015
  
  forex_news_strategy:
    strategy_type: "forex_news"
    enabled: false
    symbols: ["EUR/USD", "GBP/USD", "USD/JPY"]
    timeframe: "5m"
    parameters:
      news_impact_threshold: "high"
      pre_news_minutes: 15
      post_news_minutes: 60
      volatility_multiplier: 2.0
    max_positions: 1
    risk_per_trade: 0.01
  
  # Arbitrage Strategies
  cross_market_arbitrage_strategy:
    strategy_type: "cross_market_arbitrage"
    enabled: false  # Enable when both markets are configured
    symbols: ["BTC/USD", "EUR/USD"]  # Cross-market pairs
    timeframe: "5m"
    parameters:
      min_arbitrage_opportunity: 0.001
      max_execution_time: 30
      correlation_threshold: 0.7
      min_confidence: 0.90
      slippage_tolerance: 0.0005
    max_positions: 1
    risk_per_trade: 0.005
  
  crypto_forex_arbitrage_strategy:
    strategy_type: "crypto_forex_arbitrage"
    enabled: false
    symbols: ["BTC/USD", "EUR/USD"]
    timeframe: "1m"
    parameters:
      min_spread_threshold: 0.002
      max_position_hold_time: 300  # seconds
      correlation_window: 100
      volatility_adjustment: true
    max_positions: 1
    risk_per_trade: 0.005
  
  triangular_arbitrage_strategy:
    strategy_type: "triangular_arbitrage"
    enabled: false
    symbols: ["BTC/USDT", "ETH/BTC", "ETH/USDT"]
    timeframe: "1m"
    parameters:
      min_profit_threshold: 0.001
      max_execution_time: 10
      transaction_cost_estimate: 0.001
    max_positions: 1
    risk_per_trade: 0.005

# Base Risk Management
risk:
  max_position_size: 0.1  # 10% max position size
  max_daily_loss: 0.05    # 5% max daily loss
  max_drawdown: 0.15      # 15% max drawdown
  stop_loss_percentage: 0.02  # 2% stop loss
  take_profit_percentage: 0.04  # 4% take profit
  max_open_positions: 10
  position_sizing_method: "fixed_fraction"
  risk_per_trade: 0.01    # 1% risk per trade

# Cross-Market Risk Management
cross_market_risk:
  max_total_exposure: 0.8         # 80% max total portfolio exposure
  max_correlation_exposure: 0.5   # 50% max exposure to correlated positions
  correlation_threshold: 0.7      # 70% correlation threshold
  crypto_max_allocation: 0.6      # 60% max allocation to crypto
  forex_max_allocation: 0.4       # 40% max allocation to forex
  max_cross_market_positions: 10  # Max positions across all markets
  max_positions_per_market: 5     # Max positions per market type

# Regulatory Compliance
compliance:
  enabled: true
  generate_reports: true
  report_frequency: "daily"  # hourly, daily, weekly, monthly
  report_output_dir: "reports/compliance"
  audit_trail_enabled: true
  audit_retention_days: 2555  # 7 years
  fifo_accounting: true
  position_reporting_threshold: 10000.0  # $10,000 threshold

# Database Configuration
database:
  database_type: "sqlite"
  database_url: "sqlite:///multi_market_trading_bot.db"
  pool_size: 5
  max_overflow: 10
  pool_timeout: 30
  echo: false  # Set to true for SQL debugging

# Logging Configuration
logging:
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_format: "standard"  # standard, json
  log_file: "logs/multi_market_trading_bot.log"
  max_file_size: 10485760  # 10MB
  backup_count: 5