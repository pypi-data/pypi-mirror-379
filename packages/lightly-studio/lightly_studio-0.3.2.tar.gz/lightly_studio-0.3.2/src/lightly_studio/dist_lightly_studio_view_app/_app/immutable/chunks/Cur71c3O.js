import{g as f,c as M}from"./i0ZZ4z06.js";import{l,w as b}from"./DcGCxgpH.js";import{u as m}from"./BBoGk9hq.js";const i=b(!1),x=async o=>{if(l(i))return;const s=f({path:{dataset_id:o}});M(s).subscribe(e=>{if(e.data){const t=e.data,{updateMetadataBounds:u,updateMetadataValues:n,updateMetadataInfo:p}=m(),r={},c={};t.forEach(a=>{(a.type==="integer"||a.type==="float")&&a.min!=null&&a.max!=null&&(r[a.name]={min:a.min,max:a.max},c[a.name]={min:a.min,max:a.max})}),u(r),n(c),p(t),i.set(!0)}})},I=o=>{const s=[],{metadataBounds:d}=m();for(const[e,t]of Object.entries(o)){const n=l(d)[e];n&&(t.min>n.min&&s.push({key:e,value:t.min,op:">="}),t.max<n.max&&s.push({key:e,value:t.max,op:"<="}))}return s},B=o=>{o&&x(o);const{metadataBounds:s,metadataValues:d,metadataInfo:e,updateMetadataValues:t,updateMetadataBounds:u,updateMetadataInfo:n}=m();return{metadataBounds:s,metadataValues:d,metadataInfo:e,updateMetadataValues:t,updateMetadataBounds:u,updateMetadataInfo:n,createMetadataFilters:I}};export{I as c,B as u};
