import"./CWj6FrbW.js";import{p as H,f as G,n as W,a as X,c as C,r as D,t as K,g as h,d as dt,s as $,ax as Et,u as Tt,a7 as ht,J as nt}from"./DcGCxgpH.js";import{c as tt,a as T,t as q,d as Vt}from"./Crk-jcvV.js";import{s as F,P as At}from"./C0JiMuYn.js";import{s as gt,r as Q,p as it,b as rt,a as st}from"./D8GZDMNN.js";import{I as pt,R as Rt,s as mt,e as yt,p as Nt,B as Bt,h as Pt,j as ct,U as Yt,Z as St,$ as wt,a0 as zt,a1 as Mt}from"./BRnH9v23.js";import{i as xt}from"./DqUGznj_.js";import{r as qt,u as Ft,c as Ht}from"./i0ZZ4z06.js";import{s as ut}from"./KpAtIldw.js";import{f as Zt,a as Xt}from"./M1Q1F7bw.js";import{o as jt}from"./2O287xak.js";import{s as ot,p as lt,d as Ot,y as Gt}from"./CzgC3GFB.js";function Kt(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"chevron-right"},()=>o,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(i,s)=>{var r=tt(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),X()}function Ne(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"database"},()=>o,{iconNode:[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]],children:(i,s)=>{var r=tt(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),X()}function Ye(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"house"},()=>o,{iconNode:[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]],children:(i,s)=>{var r=tt(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),X()}function Wt(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"zoom-in"},()=>o,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]],children:(i,s)=>{var r=tt(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),X()}function Qt(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"zoom-out"},()=>o,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]],children:(i,s)=>{var r=tt(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),X()}function Ut(a){return new Rt([document.querySelectorAll(a)],[document.documentElement])}var Lt=q("<nav><!></nav>");function qe(a,e){H(e,!0);let o=it(e,"ref",15),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=Lt();let s;var r=C(i);F(r,()=>e.children??W),D(i),rt(i,d=>o(d),()=>o()),K(()=>s=mt(i,s,{class:e.class,"aria-label":"breadcrumb",...f})),T(a,i),X()}var Jt=q("<li><!></li>");function Fe(a,e){H(e,!0);let o=it(e,"ref",15,null),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=Jt();let s;var r=C(i);F(r,()=>e.children??W),D(i),rt(i,d=>o(d),()=>o()),K(d=>s=mt(i,s,{class:d,...f}),[()=>yt("inline-flex items-center gap-1.5",e.class)]),T(a,i),X()}var $t=q("<li><!></li>");function He(a,e){H(e,!0);let o=it(e,"ref",15,null),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=$t();let s;var r=C(i);{var d=m=>{var k=tt(),S=G(k);F(S,()=>e.children??W),T(m,k)},_=m=>{Kt(m,{})};xt(r,m=>{e.children?m(d):m(_,!1)})}D(i),rt(i,m=>o(m),()=>o()),K(m=>s=mt(i,s,{role:"presentation","aria-hidden":"true",class:m,...f}),[()=>yt("[&>svg]:size-3.5",e.class)]),T(a,i),X()}var te=q("<a><!></a>");function Xe(a,e){H(e,!0);let o=it(e,"ref",15,null),f=it(e,"href",3,void 0),i=Q(e,["$$slots","$$events","$$legacy","ref","class","href","child","children"]);const s=dt(()=>({class:yt("hover:text-foreground transition-colors",e.class),href:f(),...i})),r=Nt(),[d,_]=r;var m=tt(),k=G(m);{var S=w=>{var b=tt(),M=G(b);F(M,()=>e.child,()=>({props:h(s)})),T(w,b)},x=w=>{var b=te();let M;var I=C(b);F(I,()=>e.children??W),D(b),rt(b,l=>o(l),()=>o()),K(l=>M=mt(b,M,{...l}),[()=>_({...h(s)},[{attribute_name:"href",lang_attribute_name:"hreflang"}])]),T(w,b)};xt(k,w=>{e.child?w(S):w(x,!1)})}T(a,m),X()}var ee=q("<ol><!></ol>");function je(a,e){H(e,!0);let o=it(e,"ref",15,null),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=ee();let s;var r=C(i);F(r,()=>e.children??W),D(i),rt(i,d=>o(d),()=>o()),K(d=>s=mt(i,s,{class:d,...f}),[()=>yt("text-muted-foreground flex flex-wrap items-center gap-1.5 break-words text-sm sm:gap-2.5",e.class)]),T(a,i),X()}var ae=q("<span><!></span>");function Oe(a,e){H(e,!0);let o=it(e,"ref",15,null),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=ae();let s;var r=C(i);F(r,()=>e.children??W),D(i),rt(i,d=>o(d),()=>o()),K(d=>s=mt(i,s,{role:"link","aria-disabled":"true","aria-current":"page",class:d,...f}),[()=>yt("text-foreground font-normal",e.class)]),T(a,i),X()}const Ge=a=>`${At}/sample/${a}`,Ke=({sampleId:a,datasetId:e})=>{const o=qt({path:{sample_id:a,dataset_id:e}}),f=Ft(),i=Ht(o);return{refetch:()=>{f.invalidateQueries({queryKey:o.queryKey})},sample:i}};var ne=q('<span class="text-sm"> </span> <span class="break-all text-sm"> </span>',1),oe=q('<div class="grid grid-cols-[6rem_1fr] gap-y-3 text-diffuse-foreground"></div>'),ie=q('<div class="flex items-start gap-3"><span class="truncate text-sm font-medium"> </span> <pre class="min-w-[8rem] flex-1 overflow-x-auto whitespace-pre-wrap rounded bg-muted p-2 text-sm"> </pre></div>'),re=q('<div class="flex items-start gap-3"><span class="truncate text-sm font-medium"> </span> <span class="min-w-[8rem] flex-1 break-all text-sm"> </span></div>'),se=q('<div class="space-y-3 text-diffuse-foreground"></div>'),le=q("<!> <!>",1);function We(a,e){H(e,!0);const o=it(e,"showCustomMetadata",3,!0),f=dt(()=>[{id:"height",label:"Height:",value:Zt(e.sample.height)+"px"},{id:"width",label:"Width:",value:Zt(e.sample.width)+"px"},{id:"filename",label:"Filename:",value:e.sample.file_name},{id:"filepath",label:"Filepath:",value:e.sample.file_path_abs}]),i=dt(()=>{const m=[];if(e.sample.metadata_dict&&typeof e.sample.metadata_dict=="object"&&"data"in e.sample.metadata_dict){const k=e.sample.metadata_dict.data;k&&typeof k=="object"&&Object.entries(k).forEach(([S,x])=>{const w=Xt(x),b=typeof x=="object"&&x!==null&&!Array.isArray(x);m.push({id:`metadata_${S}`,label:`${S}:`,value:w,isComplex:b})})}return m});var s=le(),r=G(s);Bt(r,{title:"Sample details",children:(m,k)=>{var S=oe();Pt(S,21,()=>h(f),({label:x,value:w,id:b})=>x,(x,w)=>{let b=()=>h(w).label,M=()=>h(w).value,I=()=>h(w).id;var l=ne(),E=G(l),A=C(E,!0);D(E);var R=$(E,2),g=C(R,!0);D(R),K(()=>{ut(A,b()),ct(R,"data-testid",`sample-metadata-${I()}`),ut(g,M())}),T(x,l)}),D(S),T(m,S)}});var d=$(r,2);{var _=m=>{Bt(m,{title:"Metadata",children:(k,S)=>{var x=se();Pt(x,21,()=>h(i),({label:w,value:b,id:M,isComplex:I})=>w,(w,b)=>{let M=()=>h(b).label,I=()=>h(b).value,l=()=>h(b).id,E=()=>h(b).isComplex;var A=tt(),R=G(A);{var g=P=>{var N=ie(),Y=C(N),et=C(Y,!0);D(Y);var at=$(Y,2),ft=C(at,!0);D(at),D(N),K(()=>{ct(Y,"title",M()),ut(et,M()),ut(ft,I())}),T(P,N)},B=P=>{var N=re(),Y=C(N),et=C(Y,!0);D(Y);var at=$(Y,2),ft=C(at,!0);D(at),D(N),K(()=>{ct(Y,"title",M()),ut(et,M()),ct(at,"data-testid",`sample-metadata-${l()}`),ut(ft,I())}),T(P,N)};xt(R,P=>{E()?P(g):P(B,!1)})}T(w,A)}),D(x),T(k,x)}})};xt(d,m=>{o()&&h(i).length>0&&m(_)})}T(a,s),X()}var ue=1e-12;function Dt(a){return((a=Math.exp(a))+1/a)/2}function ce(a){return((a=Math.exp(a))-1/a)/2}function he(a){return((a=Math.exp(2*a))-1)/(a+1)}const de=function a(e,o,f){function i(s,r){var d=s[0],_=s[1],m=s[2],k=r[0],S=r[1],x=r[2],w=k-d,b=S-_,M=w*w+b*b,I,l;if(M<ue)l=Math.log(x/m)/e,I=function(P){return[d+P*w,_+P*b,m*Math.exp(e*P*l)]};else{var E=Math.sqrt(M),A=(x*x-m*m+f*M)/(2*m*o*E),R=(x*x-m*m-f*M)/(2*x*o*E),g=Math.log(Math.sqrt(A*A+1)-A),B=Math.log(Math.sqrt(R*R+1)-R);l=(B-g)/e,I=function(P){var N=P*l,Y=Dt(g),et=m/(o*E)*(Y*he(e*N+g)-ce(g));return[d+et*w,_+et*b,m*Y/Dt(e*N+g)]}}return I.duration=l*1e3*e/Math.SQRT2,I}return i.rho=function(s){var r=Math.max(.001,+s),d=r*r,_=d*d;return a(r,d,_)},i}(Math.SQRT2,2,4),_t=a=>()=>a;function me(a,{sourceEvent:e,target:o,transform:f,dispatch:i}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:f,enumerable:!0,configurable:!0},_:{value:i}})}function kt(a){a.stopImmediatePropagation()}function vt(a){a.preventDefault(),a.stopImmediatePropagation()}function fe(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function ve(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function It(){return this.__zoom||St}function ge(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function pe(){return navigator.maxTouchPoints||"ontouchstart"in this}function ye(a,e,o){var f=a.invertX(e[0][0])-o[0][0],i=a.invertX(e[1][0])-o[1][0],s=a.invertY(e[0][1])-o[0][1],r=a.invertY(e[1][1])-o[1][1];return a.translate(i>f?(f+i)/2:Math.min(0,f)||Math.max(0,i),r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r))}function _e(){var a=fe,e=ve,o=ye,f=ge,i=pe,s=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],d=250,_=de,m=Yt("start","zoom","end"),k,S,x,w=500,b=150,M=0,I=10;function l(t){t.property("__zoom",It).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",Y).on("dblclick.zoom",et).filter(i).on("touchstart.zoom",at).on("touchmove.zoom",ft).on("touchend.zoom touchcancel.zoom",Ct).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.transform=function(t,u,n,c){var v=t.selection?t.selection():t;v.property("__zoom",It),t!==v?g(t,u,n,c):v.interrupt().each(function(){B(this,arguments).event(c).start().zoom(null,typeof u=="function"?u.apply(this,arguments):u).end()})},l.scaleBy=function(t,u,n,c){l.scaleTo(t,function(){var v=this.__zoom.k,p=typeof u=="function"?u.apply(this,arguments):u;return v*p},n,c)},l.scaleTo=function(t,u,n,c){l.transform(t,function(){var v=e.apply(this,arguments),p=this.__zoom,y=n==null?R(v):typeof n=="function"?n.apply(this,arguments):n,z=p.invert(y),Z=typeof u=="function"?u.apply(this,arguments):u;return o(A(E(p,Z),y,z),v,r)},n,c)},l.translateBy=function(t,u,n,c){l.transform(t,function(){return o(this.__zoom.translate(typeof u=="function"?u.apply(this,arguments):u,typeof n=="function"?n.apply(this,arguments):n),e.apply(this,arguments),r)},null,c)},l.translateTo=function(t,u,n,c,v){l.transform(t,function(){var p=e.apply(this,arguments),y=this.__zoom,z=c==null?R(p):typeof c=="function"?c.apply(this,arguments):c;return o(St.translate(z[0],z[1]).scale(y.k).translate(typeof u=="function"?-u.apply(this,arguments):-u,typeof n=="function"?-n.apply(this,arguments):-n),p,r)},c,v)};function E(t,u){return u=Math.max(s[0],Math.min(s[1],u)),u===t.k?t:new wt(u,t.x,t.y)}function A(t,u,n){var c=u[0]-n[0]*t.k,v=u[1]-n[1]*t.k;return c===t.x&&v===t.y?t:new wt(t.k,c,v)}function R(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function g(t,u,n,c){t.on("start.zoom",function(){B(this,arguments).event(c).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(c).end()}).tween("zoom",function(){var v=this,p=arguments,y=B(v,p).event(c),z=e.apply(v,p),Z=n==null?R(z):typeof n=="function"?n.apply(v,p):n,U=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),V=v.__zoom,j=typeof u=="function"?u.apply(v,p):u,L=_(V.invert(Z).concat(U/V.k),j.invert(Z).concat(U/j.k));return function(O){if(O===1)O=j;else{var J=L(O),bt=U/J[2];O=new wt(bt,Z[0]-J[0]*bt,Z[1]-J[1]*bt)}y.zoom(null,O)}})}function B(t,u,n){return!n&&t.__zooming||new P(t,u)}function P(t,u){this.that=t,this.args=u,this.active=0,this.sourceEvent=null,this.extent=e.apply(t,u),this.taps=0}P.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,u){return this.mouse&&t!=="mouse"&&(this.mouse[1]=u.invert(this.mouse[0])),this.touch0&&t!=="touch"&&(this.touch0[1]=u.invert(this.touch0[0])),this.touch1&&t!=="touch"&&(this.touch1[1]=u.invert(this.touch1[0])),this.that.__zoom=u,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var u=ot(this.that).datum();m.call(t,this.that,new me(t,{sourceEvent:this.sourceEvent,target:l,transform:this.that.__zoom,dispatch:m}),u)}};function N(t,...u){if(!a.apply(this,arguments))return;var n=B(this,u).event(t),c=this.__zoom,v=Math.max(s[0],Math.min(s[1],c.k*Math.pow(2,f.apply(this,arguments)))),p=lt(t);if(n.wheel)(n.mouse[0][0]!==p[0]||n.mouse[0][1]!==p[1])&&(n.mouse[1]=c.invert(n.mouse[0]=p)),clearTimeout(n.wheel);else{if(c.k===v)return;n.mouse=[p,c.invert(p)],zt(this),n.start()}vt(t),n.wheel=setTimeout(y,b),n.zoom("mouse",o(A(E(c,v),n.mouse[0],n.mouse[1]),n.extent,r));function y(){n.wheel=null,n.end()}}function Y(t,...u){if(x||!a.apply(this,arguments))return;var n=t.currentTarget,c=B(this,u,!0).event(t),v=ot(t.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",U,!0),p=lt(t,n),y=t.clientX,z=t.clientY;Ot(t.view),kt(t),c.mouse=[p,this.__zoom.invert(p)],zt(this),c.start();function Z(V){if(vt(V),!c.moved){var j=V.clientX-y,L=V.clientY-z;c.moved=j*j+L*L>M}c.event(V).zoom("mouse",o(A(c.that.__zoom,c.mouse[0]=lt(V,n),c.mouse[1]),c.extent,r))}function U(V){v.on("mousemove.zoom mouseup.zoom",null),Gt(V.view,c.moved),vt(V),c.event(V).end()}}function et(t,...u){if(a.apply(this,arguments)){var n=this.__zoom,c=lt(t.changedTouches?t.changedTouches[0]:t,this),v=n.invert(c),p=n.k*(t.shiftKey?.5:2),y=o(A(E(n,p),c,v),e.apply(this,u),r);vt(t),d>0?ot(this).transition().duration(d).call(g,y,c,t):ot(this).call(l.transform,y,c,t)}}function at(t,...u){if(a.apply(this,arguments)){var n=t.touches,c=n.length,v=B(this,u,t.changedTouches.length===c).event(t),p,y,z,Z;for(kt(t),y=0;y<c;++y)z=n[y],Z=lt(z,this),Z=[Z,this.__zoom.invert(Z),z.identifier],v.touch0?!v.touch1&&v.touch0[2]!==Z[2]&&(v.touch1=Z,v.taps=0):(v.touch0=Z,p=!0,v.taps=1+!!k);k&&(k=clearTimeout(k)),p&&(v.taps<2&&(S=Z[0],k=setTimeout(function(){k=null},w)),zt(this),v.start())}}function ft(t,...u){if(this.__zooming){var n=B(this,u).event(t),c=t.changedTouches,v=c.length,p,y,z,Z;for(vt(t),p=0;p<v;++p)y=c[p],z=lt(y,this),n.touch0&&n.touch0[2]===y.identifier?n.touch0[0]=z:n.touch1&&n.touch1[2]===y.identifier&&(n.touch1[0]=z);if(y=n.that.__zoom,n.touch1){var U=n.touch0[0],V=n.touch0[1],j=n.touch1[0],L=n.touch1[1],O=(O=j[0]-U[0])*O+(O=j[1]-U[1])*O,J=(J=L[0]-V[0])*J+(J=L[1]-V[1])*J;y=E(y,Math.sqrt(O/J)),z=[(U[0]+j[0])/2,(U[1]+j[1])/2],Z=[(V[0]+L[0])/2,(V[1]+L[1])/2]}else if(n.touch0)z=n.touch0[0],Z=n.touch0[1];else return;n.zoom("touch",o(A(y,z,Z),n.extent,r))}}function Ct(t,...u){if(this.__zooming){var n=B(this,u).event(t),c=t.changedTouches,v=c.length,p,y;for(kt(t),x&&clearTimeout(x),x=setTimeout(function(){x=null},w),p=0;p<v;++p)y=c[p],n.touch0&&n.touch0[2]===y.identifier?delete n.touch0:n.touch1&&n.touch1[2]===y.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),n.taps===2&&(y=lt(y,this),Math.hypot(S[0]-y[0],S[1]-y[1])<I)){var z=ot(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return l.wheelDelta=function(t){return arguments.length?(f=typeof t=="function"?t:_t(+t),l):f},l.filter=function(t){return arguments.length?(a=typeof t=="function"?t:_t(!!t),l):a},l.touchable=function(t){return arguments.length?(i=typeof t=="function"?t:_t(!!t),l):i},l.extent=function(t){return arguments.length?(e=typeof t=="function"?t:_t([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),l):e},l.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],l):[s[0],s[1]]},l.translateExtent=function(t){return arguments.length?(r[0][0]=+t[0][0],r[1][0]=+t[1][0],r[0][1]=+t[0][1],r[1][1]=+t[1][1],l):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},l.constrain=function(t){return arguments.length?(o=t,l):o},l.duration=function(t){return arguments.length?(d=+t,l):d},l.interpolate=function(t){return arguments.length?(_=t,l):_},l.on=function(){var t=m.on.apply(m,arguments);return t===m?l:t},l.clickDistance=function(t){return arguments.length?(M=(t=+t)*t,l):Math.sqrt(M)},l.tapDistance=function(t){return arguments.length?(I=+t,l):I},l}function xe(a,e){let o=a.scaleIndependentXForm;o||(o=a.scaleIndependentXForm=e.createSVGTransform(),a.transform.baseVal.appendItem(o));const f=a.parentNode;if(f){const i=f.getScreenCTM();if(i){const s=i.inverse().multiply(e.getScreenCTM());s.e=s.f=0,o.setMatrix(s)}}}var be=q('<div class="pointer-events-auto absolute bottom-0 left-1 z-20 flex select-none items-center gap-1 rounded-lg bg-muted bg-opacity-80 shadow-md backdrop-blur-sm"><!> <div class="h-6 w-px bg-white bg-opacity-20"></div> <!> <div class="w-[32px] text-center text-sm text-muted-foreground" data-testid="zoom-level"> </div> <!></div>');function we(a,e){var o=be(),f=C(o);Mt(f,{variant:"ghost","data-testid":"zoom-reset",size:"sm",get onclick(){return e.onZoomReset},get disabled(){return e.isResetDisabled},children:(_,m)=>{Et();var k=Vt("Reset");T(_,k)},$$slots:{default:!0}});var i=$(f,4);Mt(i,{title:"zoom out",variant:"ghost",size:"icon","data-testid":"zoom-out",get onclick(){return e.onZoomOut},get disabled(){return e.isZoominDisabled},children:(_,m)=>{Qt(_,{class:"h-4 w-4"})},$$slots:{default:!0}});var s=$(i,2),r=C(s);D(s);var d=$(s,2);Mt(d,{title:"zoom in",variant:"ghost",size:"icon","data-testid":"zoom-in",get onclick(){return e.onZoomIn},get disabled(){return e.isZoomoutDisabled},children:(_,m)=>{Wt(_,{class:"h-4 w-4"})},$$slots:{default:!0}}),D(o),K(_=>ut(r,`${_??""}%`),[()=>Math.round(e.scale*100)]),T(a,o)}var ze=q('<div class="relative flex h-full w-full select-none items-center justify-center"><!> <svg class="z-10 h-full w-full cursor-grab" preserveAspectRatio="xMidYMid meet"><g><!></g></svg> <svg class="pointer-events-none absolute inset-0" preserveAspectRatio="xMidYMid meet"></svg></div>');function Qe(a,e){H(e,!0);let o=ht(null),f=ht(null),i=ht(800),s=ht(600);Tt(()=>{if(!h(o))return;nt(i,st(h(o).clientWidth)),nt(s,st(h(o).clientHeight));const g=new ResizeObserver(()=>{h(o)&&(nt(i,st(h(o).clientWidth)),nt(s,st(h(o).clientHeight)))});return g.observe(h(o)),()=>g.disconnect()});const r=10,d=dt(()=>{const g={x:0,y:0,width:e.width,height:e.height};if(e.boundingBox){b();const{x:B,y:P,width:N,height:Y}=e.boundingBox;return{x:Math.round(Math.max(0,B-r)),y:Math.round(Math.max(0,P-r)),width:Math.round(Math.min(e.width-B,N+r*2)),height:Math.round(Math.min(e.height-P,Y+r*2))}}return g});let _=ht(st({k:1,x:0,y:0}));const m=dt(()=>{if(!h(o))return 1;const g=h(i)/e.width,B=h(s)/e.height,P=Math.min(g,B);return h(_).k*P}),k=dt(()=>{if(!h(o))return 1;let g=h(m);if(e.boundingBox){const B=e.width/h(d).width,P=e.height/h(d).height,N=Math.min(B,P);g*=N}return g});let S=ht(null);const x=()=>{h(o)&&(nt(S,st(_e().on("zoom",g=>{nt(_,st(g.transform))}).filter(g=>(!g.ctrlKey||g.type==="wheel")&&!g.button&&!(g.type==="mousedown"&&g.button===2)).wheelDelta(g=>-g.deltaY*.002))),ot(h(o)).call(h(S)).on("dblclick.zoom",null))},w=g=>{if(!h(o)||!h(S))return;const B=g?1.5:.75;ot(h(o)).transition().duration(300).call(h(S).scaleBy,B)},b=()=>{!h(o)||!h(S)||ot(h(o)).transition().duration(300).call(h(S).transform,St)};jt(()=>{x()}),Tt(()=>{h(_).k,Ut(".unscaled").each(function(){xe(this,h(f))})});var M=ze(),I=C(M);we(I,{get scale(){return h(m)},onZoomIn:()=>w(!0),onZoomOut:()=>w(!1),onZoomReset:b});var l=$(I,2),E=C(l),A=C(E);F(A,()=>e.zoomableContent,()=>({scale:h(k)})),D(E),D(l),rt(l,g=>nt(o,g),()=>h(o));var R=$(l,2);ct(R,"viewBox","0 0 1024 768"),rt(R,g=>nt(f,g),()=>h(f)),D(M),K(()=>{ct(l,"viewBox",`${h(d).x} ${h(d).y} ${h(d).width} ${h(d).height}`),ct(E,"transform",`translate(${h(_).x}, ${h(_).y}) scale(${h(_).k})`)}),T(a,M),X()}export{qe as B,Ne as D,Ye as H,We as S,Qe as Z,je as a,Fe as b,Xe as c,He as d,Oe as e,Ge as g,Ke as u};
