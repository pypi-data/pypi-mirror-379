Metadata-Version: 2.4
Name: iam-mcp-server
Version: 2.4.2
Summary: Individual Application Mesh, MCP Server
Project-URL: Homepage, https://github.com/alejandrogarcia-hub/iam-mcp-server
Project-URL: Repository, https://github.com/alejandrogarcia-hub/iam-mcp-server
Project-URL: Issues, https://github.com/alejandrogarcia-hub/iam-mcp-server/issues
Author: Alejandro Garcia
Maintainer-email: Alejandro Garcia <github_dev.chowder574@passmail.net>
License: MIT
License-File: LICENSE
Keywords: automation,git,jobs,mcp,resume,server
Classifier: Development Status :: 4 - Beta
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Requires-Python: >=3.11
Requires-Dist: mcp[cli]>=1.10.1
Requires-Dist: pydantic-core>=2.33.0
Requires-Dist: pydantic-settings>=2.10.1
Requires-Dist: pydantic>=2.11.7
Requires-Dist: python-dotenv>=1.1.1
Requires-Dist: python-json-logger>=3.3.0
Requires-Dist: requests>=2.32.4
Requires-Dist: tenacity>=9.1.2
Description-Content-Type: text/markdown

# IAM MCP SERVER ... kind of ğŸ¤”

[![PyPI][pypi-badge]][pypi-url]
[![MIT licensed][mit-badge]][mit-url]
[![Python Version][python-badge]][python-url]

**The Individual Applicant Mesh (IAM) MCP Server is designed to process and manage applicant resumes, as well as facilitate job searches. It offers specialized tools and prompts for job searching, resume aggregation, generating job-specific resumes, and creating tailored cover letters.**

[pypi-badge]: https://img.shields.io/pypi/v/mcp.svg
[pypi-url]: https://pypi.org/project/iam-mcp-server/
[mit-badge]: https://img.shields.io/pypi/l/mcp.svg
[mit-url]: https://github.com/alejandrogarcia-hub/iam-mcp-server/blob/main/LICENSE
[python-badge]: https://img.shields.io/pypi/pyversions/mcp.svg
[python-url]: https://www.python.org/downloads/

**Note: This server does not fully handle system integrations. Instead, it provides focused functionality specifically for an MCP hostâ€”hence the "kind of ğŸ¤”".**

> ğŸ’¡ **Community & Support**  
> If you found this project helpful, please consider giving it a star â­ï¸. Found a bug or have suggestions? Open an issueâ€”your feedback is welcome!

## ğŸš€ Quickstart

### 1. Use Claude Desktop as MCP host

The IAM MCP Server is designed to work with Claude Desktop, which provides the necessary MCP host environment. For more details on setting up Claude Desktop with MCP, see the [official MCP quickstart guide](https://modelcontextprotocol.io/quickstart/user).

### 2. Add filesystem MCP server

Add the `filesystem` MCP server to Claude Desktop to enable file system access (see Requirements section below for configuration example).

### 3. Get JSearch API token

Create a free account at [JSearch](https://rapidapi.com/letscrape-6bRBa3QguO5/api/jsearch) to get your API token (200 free requests/month).

âš ï¸ **Note:** This step is optional. You can let the MCP host or another MCP server handle job searches instead.

### 4. Configure IAM MCP Server

Add the following to your Claude Desktop configuration to run the server directly from PyPI using `uvx`:

```json
{
  "mcpServers": {
    "iam": {
      "command": "uvx",
      "args": [
        "--from", 
        "iam-mcp-server@latest",
        "mcp-server-iam"
      ],
      "env": {
        "LOG_LEVEL": "INFO",
        "RAPIDAPI_KEY": "<YOUR_API_KEY>",
        "RAPIDAPI_HOST": "jsearch.p.rapidapi.com",
        "MCP_TRANSPORT": "stdio"
      }
    }
  }
}
```

------------
> **ğŸš€ Ready to start using IAM MCP Server?**  
> Check out the [Features](#-features) section to learn how to use the available tools and prompts.

## ğŸ“ Requirements

1. ğŸ—‚ï¸ The MCP host must have read and write access to the local file system where it is running. For example, you can run the `IAM MCP Server` within `Claude Desktop`, alongside the `filesystem` MCP Server, which provides this capability. This file access requirement applies to version `1.0` and is necessary for proper operation.

   1.1. Add the `filesystem` MCP server

    ```json
        {
            "mcpServers": {
                "filesystem": {
                    "command": "npx",
                    "args": [
                        "-y",
                        "@modelcontextprotocol/server-filesystem",
                        "<add directory for filesystem server>"
                    ]
                }
            }
        }
    ```

2. ğŸ” The `search job` MCP tool requires access to [JSearch](https://rapidapi.com/letscrape-6bRBa3QguO5/api/JSearch). You can create an account and get 200 requests per month for free.

## âœ¨ Features

### Prompts

#### ğŸ“Š Analyze Job Market

Directs the LLM step-by-step to perform tasks such as conducting a `job search`, then summarizes and analyzes the resulting job listings. Refer to the full prompt for detailed instructions and context.

#### ğŸ“„ Resume Mesh

Easily combine multiple targeted resumes into a single, comprehensive Markdown document.

**What is Resume Mesh?**  
If youâ€™ve applied to similar jobs, youâ€™ve likely created several versions of your resume to match different job descriptions. Resume Mesh brings all those versions together into one unified Markdown file. This gives the MCP host a complete view of your experience and makes it easy to generate new, tailored resumes for future applications.

#### ğŸ¯ Job-Specific Resume Generation

Generate customized resumes for individual job postings.

To use this feature, make sure the MCP host already has access to the `resume mesh`. Each tailored resume is generated using both the resume mesh and the specific job description. You need to attach the `resume mesh` to the MCP host conversation in advance, because the resume generation prompt does not instruct the LLM to load the `resume mesh` from the file system.

#### Cover-Letter Generation

Easily generate a customized cover letter tailored to a specific job description, using the corresponding generated resume.

**How to use:**  
Before generating a cover letter, ensure the MCP host has access to the relevant generated `resume` for the target job. You must manually attach this `resume` to the MCP host conversation, as the cover letter prompt does not automatically retrieve it from the file system.

#### ğŸ’¾ Save Job

Directs the LLM step-by-step to `save jobs`.

**How to use:**

Start by searching for jobs using the `search jobs` MCP tool. After obtaining the results, you can then instruct the LLM to save those job listings.

### Tools

#### ğŸš€ Search Jobs

Performs a job search using the following parameters:

- role: The job title or position to search for
- city: (optional) Target city for the job search
- country: (optional) Target country for the job search
- platform: (optional) Specific job platform to use
- number of jobs: (default 5) Number of job listings to retrieve
- slice job description: (optional) Option to include only a portion of the job description

## ğŸ› ï¸ Installation & Setup

The IAM MCP Server can be installed in multiple ways:

### ğŸ“¦ Desktop Extension (DXT) - Recommended

**One-click installation for MCP hosts!** DXT (Desktop Extension) format provides the easiest way to install and use the IAM MCP Server.

#### Why DXT?

Desktop Extensions eliminate the complexity of manual MCP server setup by bundling everything into a single installable package:

- **No Python installation required** - All dependencies included
- **One-click installation** - Just like browser extensions
- **Automatic updates** - MCP hosts can manage updates
- **Cross-platform** - Works on macOS, Windows, and Linux
- **Self-contained** - No environment conflicts

#### Download Latest DXT

Get the latest pre-built DXT file from our GitHub releases:

**[ğŸ“¥ Download Latest DXT â†’](https://github.com/alejandrogarcia-hub/iam-mcp-server/releases/latest)**

### ğŸ³ Container Sidecar

Build a self-contained image and run it alongside your MCP host:

```bash
# Build image using published wheel (set APP_VERSION to released tag)
docker build --no-cache --build-arg APP_VERSION=2.1.0 -t iam-mcp-server:2.1.0 .

# For local source builds, omit APP_VERSION or pass APP_VERSION=local
docker build -t iam-mcp-server:dev .

# Start the server with a writable data volume and required secrets
docker run --rm \
  --name iam-mcp-server \
  -e RAPIDAPI_KEY=your_rapidapi_key \
  -e LOG_LEVEL=INFO \
  -e MCP_TRANSPORT=stdio \
  -v $(pwd)/data:/data \
  iam-mcp-server:2.1.0

# OR
docker run --rm -i \
    -e RAPIDAPI_KEY="your-api-key-here" \
    -e LOG_LEVEL=DEBUG \
    -v $(pwd)/data:/data \
    iam-mcp-server:dev

# then initialize the server
'{"jsonrpc":"2.0","method":"initialize","params":{"protocolVersion":"0.1.0","capabilities":{},"clientInfo":{"name":"my-client","version":"1.0.0"}},"id":1}'

# acknowledge the server
'{"jsonrpc":"2.0","method":"notifications/initialized","params":{"capabilities":{}}}'

# list available tools
'{"jsonrpc": "2.0", "method": "tools/list", "params": {}, "id": 2}'

# list available prompts
'{"jsonrpc": "2.0", "method": "prompts/list", "params": {}, "id": 3}'
```

#### Production Deployment with Kubernetes

For production environments, deploy the MCP server to Kubernetes and connect via HTTP/SSE:

##### Step 1: Deploy to Kubernetes

```bash
# Deploy to local Docker Desktop Kubernetes
./ops/k8s/deploy-local.sh

# Or deploy to production cluster
kubectl apply -k ops/k8s/
```

After deployment, the server will be accessible at:

- **Local**: `http://localhost:9999` (with port-forward)
- **Production**: Your configured ingress URL

##### Step 2: Configure Claude Desktop for Kubernetes Connection

Claude Desktop supports HTTP/SSE MCP servers through **Settings > Connectors** (Pro, Max, Team, and Enterprise plans):

**For Local Kubernetes Deployment:**

1. Ensure the server is deployed and port-forward is active:
   ```bash
   ./ops/k8s/deploy-local.sh
   # This will set up port-forward on localhost:9999
   ```

2. Open Claude Desktop and navigate to **Settings > Connectors**

3. Click **"Add custom connector"** at the bottom

4. Enter the MCP server URL:
   - For local Kubernetes: `http://localhost:9999`
   - For production Kubernetes: `https://your-mcp-server.domain.com`

5. (Optional) Configure authentication in **"Advanced settings"**

6. Click **"Add"** to save

**Important Notes:**
- HTTP/SSE connectors are configured via Settings > Connectors, NOT in `claude_desktop_config.json`
- This feature is currently in beta
- For local Kubernetes, ensure `kubectl port-forward` is running (the deploy script handles this)
- The server uses SSE for streaming responses back to Claude Desktop

##### Step 3: Test HTTP/SSE Connection

The HTTP/SSE transport works differently than stdio. Here's how to test it:

**Step 1:** First, establish SSE connection to get session ID:

```bash
# Connect to SSE endpoint and get the session ID
curl -N -H "Accept: text/event-stream" "http://localhost:9999/sse"
# Response will include: data: /messages/?session_id=YOUR_SESSION_ID
```

**Step 2:** Initialize the MCP session (two-step process):

```bash
# Step 1: Send initialize request
curl -X POST "http://localhost:9999/messages/?session_id=YOUR_SESSION_ID" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"initialize","params":{"protocolVersion":"0.1.0","capabilities":{"prompts":{},"tools":{}},"clientInfo":{"name":"test-client","version":"1.0.0"}},"id":1}'
# Response: "Accepted" (actual response comes via SSE)

# Step 2: Send initialized notification
curl -X POST "http://localhost:9999/messages/?session_id=YOUR_SESSION_ID" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"notifications/initialized","params":{"capabilities":{}}}'
# Response: "Accepted"
```

**Step 3:** List available prompts and tools:

```bash
# List prompts
curl -X POST "http://localhost:9999/messages/?session_id=YOUR_SESSION_ID" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"prompts/list","params":{},"id":2}'
# Response: "Accepted" (actual list comes via SSE)

# List tools
curl -X POST "http://localhost:9999/messages/?session_id=YOUR_SESSION_ID" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"tools/list","params":{},"id":3}'
# Response: "Accepted" (actual list comes via SSE)
```

**Note:** All HTTP POST requests return "Accepted" immediately. The actual MCP responses are streamed through the SSE connection.

#### Local Development with Docker

For local development without Kubernetes, use Docker with stdio transport:

```json
{
  "mcpServers": {
    "iam-docker": {
      "command": "docker",
      "args": [
        "run", "--rm", "-i",
        "--name", "iam-mcp-claude",
        "-e", "RAPIDAPI_KEY=your_api_key",
        "-e", "LOG_LEVEL=INFO",
        "-e", "MCP_TRANSPORT=stdio",
        "-v", "/path/to/data:/data",
        "iam-mcp-server:latest"
      ]
    }
  }
}
```

**Important notes:**

- Container must run in interactive mode (`-i`) for stdio transport
- Use `--rm` to clean up containers after disconnection
- Mount a volume (`-v`) to persist data between sessions
- Replace `/path/to/data` with your actual data directory

#### Test the container

```bash
echo '{"jsonrpc": "2.0", "method": "initialize", "params": {"protocolVersion": "0.1.0", "capabilities": {}, 
  "clientInfo": {"name": "test", "version": "1.0.0"}}, "id": 1}' | docker run --rm -i iam-mcp-server:dev

# List available tools
echo '{"jsonrpc": "2.0", "method": "tools/list", "params": {}, "id": 2}' | docker run --rm -i iam-mcp-server:dev

# List available prompts
echo '{"jsonrpc": "2.0", "method": "prompts/list", "params": {}, "id": 3}' | docker run --rm -i iam-mcp-server:dev
```

Key runtime environment variables:

- `RAPIDAPI_KEY` / `RAPIDAPI_HOST` â€“ credentials for the JSearch integration.
- `IAM_DATA_ROOT` (defaults to `/data`) â€“ location where resume meshes and exports are written.
- `LOG_LEVEL` â€“ structured JSON logs emitted via stdout.
- `MCP_TRANSPORT` â€“ keep `stdio` for sidecar usage or swap for another supported transport when needed.

Attach the container to your MCP host by pointing the host's configuration at the container entry point. Share the `/data` volume with the host if it needs direct access to generated artifacts.

Look for `iam_mcp_server-[version].dxt` in the release assets.

#### Installation in Claude Desktop

1. **Download** the latest `.dxt` file from releases
2. **Open Claude Desktop** â†’ Settings â†’ Extensions
3. **Install** the downloaded `.dxt` file
4. **Configure** during installation with these settings:
   - `jsearch_api_key`: Your RapidAPI key from [JSearch](https://rapidapi.com/letscrape-6bRBa3QguO5/api/jsearch) (optional - 200 free requests/month)
   - `path_to_uvx`: Path to your uvx executable (usually `~/.local/bin` on macOS/Linux, `%USERPROFILE%\.local\bin` on Windows)

#### Build DXT Locally

Want to build your own DXT file?

```bash
make dxt
```

The built DXT file will be available in the `dxt/` directory as `iam_mcp_server-[version].dxt`.

### ğŸ Python Package from PyPI

You can also install this project as a Python package from PyPI: [iam-mcp-server](https://pypi.org/project/iam-mcp-server/).

### ğŸ–¥ï¸ Alternative: Manual MCP Configuration

For manual installation or other MCP hosts:

1. Locate your `claude_desktop_config.json` file:
   - **macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`
   - **Windows:** `%APPDATA%\Claude\claude_desktop_config.json`

#### Option 1: Using `uvx` with PyPI package

```json
{
  "mcpServers": {
    "iam": {
        "command": "uvx",
        "args": [
            "--from", 
            "iam-mcp-server@latest",
            "mcp-server-iam"
        ],
        "env": {
            "LOG_LEVEL": "INFO",
            "RAPIDAPI_KEY": "<API KEY>",
            "RAPIDAPI_HOST": "jsearch.p.rapidapi.com",
            "MCP_TRANSPORT": "stdio"
        }
    }
}
```

#### Option 2: Using source code

```json
{
  "mcpServers": {
    "iam": {
      "command": "<path to>/uv",
      "args": [
        "--directory",
        "<path to>/iam-mcp-server/src/mcp_server_iam",
        "run",
        "__main__.py"
      ],
      "env": {
        "LOG_LEVEL": "INFO",
        "RAPIDAPI_KEY": "<API KEY>",
        "RAPIDAPI_HOST": "jsearch.p.rapidapi.com",
        "MCP_TRANSPORT": "stdio"
      }
    }
  }
}
```

#### Restart your MCP host

- Completely quit and restart your MCP host
- The server will automatically initialize when the host starts

#### Verify the connection

In your MCP host, ask: "What MCP tools are available?" or "List the available MCP servers"

### ğŸ” MCP Inspector

In terminal, run `PYTHONPATH=src mcp dev src/mcp_server_iam/__main__.py` and accept installing the MCP Inspector.
In the web inspector UI, click `connect` and interact with the MCP server.

âš ï¸ **Important**, this is for `dev` purposes only.

## âš™ï¸ Environment Variables

IAM supports configuration through environment variables. Create a `.env` file in the project root or set these variables in your system:

| Variable | Default | Description |
|----------|---------|-------------|
| `APP_NAME` | `iam` | Application name for logging and identification |
| `LOG_LEVEL` | `INFO` | Logging level: `DEBUG`, `INFO`, `WARNING`, `ERROR`, `CRITICAL` |
| `MCP_TRANSPORT` | `stdio` | Application transport version |
| `RESUME_MESH_FILENAME` | `resume_mesh` | Default filename for resume mesh |
| `RAPIDAPI_KEY` | `""` | RapidAPI key for external API access (optional) |
| `RAPIDAPI_HOST` | `jsearch.p.rapidapi.com` | RapidAPI host endpoint |

## ğŸ“‚ Repository Structure

```text
iam-mcp-server/
â”œâ”€â”€ ops/                        # Production deployment configuration
â”‚   â”œâ”€â”€ k8s/                    # Kubernetes manifests and scripts
â”‚   â”‚   â”œâ”€â”€ deploy-local.sh     # Local Docker Desktop deployment script
â”‚   â”‚   â”œâ”€â”€ teardown-local.sh   # Local deployment teardown script
â”‚   â”‚   â”œâ”€â”€ deployment.yaml     # Kubernetes deployment manifest
â”‚   â”‚   â”œâ”€â”€ deployment-local.yaml # Local deployment manifest
â”‚   â”‚   â”œâ”€â”€ namespace.yaml      # Namespace configuration
â”‚   â”‚   â”œâ”€â”€ service.yaml        # Service configuration
â”‚   â”‚   â””â”€â”€ ingress.yaml        # Ingress configuration
â”‚   â””â”€â”€ README.md               # Deployment documentation
â”œâ”€â”€ src/                        # Source code
â”‚   â””â”€â”€ mcp_server_iam/         # Main MCP server package
â”‚       â”œâ”€â”€ __init__.py         # Package initialization
â”‚       â”œâ”€â”€ __main__.py         # Entry point for running the server
â”‚       â”œâ”€â”€ config.py           # Configuration management
â”‚       â”œâ”€â”€ logging.py          # Logging configuration
â”‚       â”œâ”€â”€ prompt.py           # LLM prompts and instructions
â”‚       â”œâ”€â”€ server.py           # MCP server implementation
â”‚       â”œâ”€â”€ server_http.py      # HTTP/SSE transport wrapper
â”‚       â”œâ”€â”€ tool.py             # MCP tools implementation
â”‚       â””â”€â”€ utils.py            # Utility functions
â”œâ”€â”€ tests/                      # Test suite
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_config.py          # Configuration tests
â”‚   â”œâ”€â”€ test_logging.py         # Logging tests
â”‚   â”œâ”€â”€ test_manifest.py        # Manifest tests
â”‚   â”œâ”€â”€ test_mcp_tools.py       # MCP tools tests
â”‚   â””â”€â”€ test_utils.py           # Utility tests
â”œâ”€â”€ .dockerignore               # Docker ignore file
â”œâ”€â”€ .env_example                # Environment variables template
â”œâ”€â”€ AGENTS.md                   # Agent documentation
â”œâ”€â”€ CLAUDE.md                   # Claude Code instructions
â”œâ”€â”€ Dockerfile                  # Docker container definition
â”œâ”€â”€ LICENSE                     # MIT License
â”œâ”€â”€ makefile                    # Build and development tasks
â”œâ”€â”€ manifest.json               # Package manifest
â”œâ”€â”€ pyproject.toml              # Project configuration and dependencies
â”œâ”€â”€ pytest.ini                  # Pytest configuration
â”œâ”€â”€ README.md                   # This file
â”œâ”€â”€ requirements.txt            # Python dependencies
â”œâ”€â”€ requirements-dev.txt        # Development dependencies
â”œâ”€â”€ ruff.toml                   # Ruff linter configuration
â””â”€â”€ uv.lock                     # UV dependency lock file
```

### ğŸ”‘ Key Components

- **`ops/`**: Production deployment and operations
  - `k8s/`: Kubernetes deployment manifests and automation scripts
  - HTTP/SSE server configuration for production environments
  - Local Docker Desktop Kubernetes deployment support

- **`src/mcp_server_iam/`**: Core MCP server implementation
  - `server.py`: Main MCP server class and protocol handling
  - `server_http.py`: HTTP/SSE transport implementation
  - `tool.py`: Implementation of MCP tools (job search, etc.)
  - `prompt.py`: LLM prompts for resume generation and job analysis
  - `config.py`: Configuration management and environment variables
  - `logging.py`: Structured logging configuration
  - `utils.py`: Helper functions and utilities

- **`tests/`**: Comprehensive test suite for MCP tools and functionality

- **Docker support**: Containerized deployment with both stdio and HTTP/SSE transports

- **Configuration files**: Project setup, linting, and dependency management

## ğŸ“ License

MIT License - see LICENSE file for details
