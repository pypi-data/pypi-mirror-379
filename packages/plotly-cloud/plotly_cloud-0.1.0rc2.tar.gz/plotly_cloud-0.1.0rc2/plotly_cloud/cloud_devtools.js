const React = window.React; const ReactDOM = window.ReactDOM;
"use strict";var plotly_cloud_publish_component=(()=>{var Go=Object.create;var G=Object.defineProperty;var Oo=Object.getOwnPropertyDescriptor;var Wo=Object.getOwnPropertyNames;var qo=Object.getPrototypeOf,Vo=Object.prototype.hasOwnProperty;var ao=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports),zo=(o,a)=>{for(var s in a)G(o,s,{get:a[s],enumerable:!0})},mo=(o,a,s,r)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of Wo(a))!Vo.call(o,n)&&n!==s&&G(o,n,{get:()=>a[n],enumerable:!(r=Oo(a,n))||r.enumerable});return o};var e=(o,a,s)=>(s=o!=null?Go(qo(o)):{},mo(a||!o||!o.__esModule?G(s,"default",{value:o,enumerable:!0}):s,o)),Xo=o=>mo(G({},"__esModule",{value:!0}),o);var u=ao((fa,po)=>{po.exports=React});var fo=ao(O=>{"use strict";var _o=u(),Zo=Symbol.for("react.element"),Jo=Symbol.for("react.fragment"),Ko=Object.prototype.hasOwnProperty,jo=_o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qo={key:!0,ref:!0,__self:!0,__source:!0};function Io(o,a,s){var r,n={},I=null,h=null;s!==void 0&&(I=""+s),a.key!==void 0&&(I=""+a.key),a.ref!==void 0&&(h=a.ref);for(r in a)Ko.call(a,r)&&!Qo.hasOwnProperty(r)&&(n[r]=a[r]);if(o&&o.defaultProps)for(r in a=o.defaultProps,a)n[r]===void 0&&(n[r]=a[r]);return{$$typeof:Zo,type:o,key:I,ref:h,props:n,_owner:jo.current}}O.Fragment=Jo;O.jsx=Io;O.jsxs=Io});var S=ao((Sa,uo)=>{"use strict";uo.exports=fo()});var ia={};zo(ia,{PlotlyCloudPublishComponent:()=>ro});var t=e(u());var k=e(S()),Yo=({title:o,onClose:a,children:s})=>(0,k.jsx)("div",{className:"plotly-cloud-publish-modal-overlay",children:(0,k.jsxs)("div",{className:"plotly-cloud-publish-modal-content",children:[(0,k.jsxs)("div",{className:"plotly-cloud-publish-modal-header",children:[(0,k.jsx)("h3",{children:o},"modal-title"),(0,k.jsx)("button",{className:"plotly-cloud-publish-modal-close",onClick:a,children:"\xD7"},"modal-close")]}),(0,k.jsx)("div",{className:"plotly-cloud-publish-modal-body",children:s},"modal-body")]})}),So=Yo;var go=e(u()),L=e(S()),$o=o=>{let[a,s]=(0,go.useState)(o.waiting);return(0,L.jsx)("div",{className:"plotly-cloud-publish-signin",children:a?(0,L.jsx)("span",{children:"Waiting for succesful sign-in on signin.cloud.plotly.com"}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("span",{children:"Sign in to publish your app to Plotly Cloud."}),(0,L.jsx)("button",{className:"plotly-cloud-publish-modal-button plotly-cloud-btn-primary",onClick:()=>{s(!0),o.onSignIn()},children:"Sign In"})]})})},ho=$o;var oa=o=>{let a=async r=>await(await fetch(`${o}_plotly_cloud_publish`,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).json(),s=r=>n=>a({operation:r,data:n});return{initialize:s("initialize"),authenticate:s("authenticate"),auth_poll:s("auth_poll"),publish:s("publish"),status:s("status")}},Co=oa;var wo=e(u()),b=e(S()),aa=({initialAppName:o="",onCancel:a,onPublish:s})=>{let[r,n]=(0,wo.useState)(o);return(0,b.jsxs)("div",{className:"plotly-cloud-name-input",children:[(0,b.jsx)("div",{className:"plotly-cloud-name-input-label",children:"App Name"}),(0,b.jsxs)("form",{onSubmit:h=>{h.preventDefault(),r.trim()&&s(r.trim())},children:[(0,b.jsx)("input",{type:"text",value:r,onChange:h=>n(h.target.value),placeholder:"My Dash App",className:"plotly-cloud-name-input-field"}),(0,b.jsxs)("div",{className:"plotly-cloud-button-bar",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"plotly-cloud-publish-modal-button plotly-cloud-btn-secondary",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:!r.trim(),className:"plotly-cloud-publish-modal-button plotly-cloud-btn-primary",children:"Publish App"})]})]})]})},Lo=aa;var Q=e(u());var c=e(u(),1),bo=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M236,128a108,108,0,0,1-216,0c0-42.52,24.73-81.34,63-98.9A12,12,0,1,1,93,50.91C63.24,64.57,44,94.83,44,128a84,84,0,0,0,168,0c0-33.17-19.24-63.43-49-77.09A12,12,0,1,1,173,29.1C211.27,46.66,236,85.48,236,128Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),c.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,176A72,72,0,0,1,92,65.64a8,8,0,0,1,8,13.85,56,56,0,1,0,56,0,8,8,0,0,1,8-13.85A72,72,0,0,1,128,200Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M230,128a102,102,0,0,1-204,0c0-40.18,23.35-76.86,59.5-93.45a6,6,0,0,1,5,10.9C58.61,60.09,38,92.49,38,128a90,90,0,0,0,180,0c0-35.51-20.61-67.91-52.5-82.55a6,6,0,0,1,5-10.9C206.65,51.14,230,87.82,230,128Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M228,128a100,100,0,0,1-200,0c0-39.4,22.9-75.37,58.33-91.63a4,4,0,1,1,3.34,7.27C57.07,58.6,36,91.71,36,128a92,92,0,0,0,184,0c0-36.29-21.07-69.4-53.67-84.36a4,4,0,1,1,3.34-7.27C205.1,52.63,228,88.6,228,128Z"}))]]);var l=e(u(),1),Po=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M160,36A92.09,92.09,0,0,0,79,84.36,68,68,0,1,0,72,220h88a92,92,0,0,0,0-184Zm0,160H72a44,44,0,0,1-1.82-88A91.86,91.86,0,0,0,68,128a12,12,0,0,0,24,0,68,68,0,1,1,68,68Zm40.49-92.49a12,12,0,0,1,0,17l-48,48a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L144,143l39.51-39.52A12,12,0,0,1,200.49,103.51Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M240,128a80,80,0,0,1-80,80H72A56,56,0,1,1,85.92,97.74l0,.1A80,80,0,0,1,240,128Z",opacity:"0.2"}),l.createElement("path",{d:"M160,40A88.09,88.09,0,0,0,81.29,88.67,64,64,0,1,0,72,216h88a88,88,0,0,0,0-176Zm0,160H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.11A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,72,72Zm37.66-93.66a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L144,148.69l42.34-42.35A8,8,0,0,1,197.66,106.34Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M247.93,124.52C246.11,77.54,207.07,40,160.06,40A88.1,88.1,0,0,0,81.29,88.67h0A87.48,87.48,0,0,0,72,127.73,8.18,8.18,0,0,1,64.57,136,8,8,0,0,1,56,128a103.66,103.66,0,0,1,5.34-32.92,4,4,0,0,0-4.75-5.18A64.09,64.09,0,0,0,8,152c0,35.19,29.75,64,65,64H160A88.09,88.09,0,0,0,247.93,124.52Zm-50.27-6.86-48,48a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L144,148.69l42.34-42.35a8,8,0,0,1,11.32,11.32Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M160,42A86.11,86.11,0,0,0,82.43,90.88,62,62,0,1,0,72,214h88a86,86,0,0,0,0-172Zm0,160H72a50,50,0,0,1,0-100,50.67,50.67,0,0,1,5.91.35A85.61,85.61,0,0,0,74,128a6,6,0,0,0,12,0,74,74,0,1,1,74,74Zm36.24-94.24a6,6,0,0,1,0,8.48l-48,48a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L144,151.51l43.76-43.75A6,6,0,0,1,196.24,107.76Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M160,40A88.09,88.09,0,0,0,81.29,88.67,64,64,0,1,0,72,216h88a88,88,0,0,0,0-176Zm0,160H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.11A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,72,72Zm37.66-93.66a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L144,148.69l42.34-42.35A8,8,0,0,1,197.66,106.34Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M160,44A84.11,84.11,0,0,0,83.59,93.12,60.71,60.71,0,0,0,72,92a60,60,0,0,0,0,120h88a84,84,0,0,0,0-168Zm0,160H72a52,52,0,1,1,8.55-103.3A83.66,83.66,0,0,0,76,128a4,4,0,0,0,8,0,76,76,0,1,1,76,76Zm34.83-94.83a4,4,0,0,1,0,5.66l-48,48a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L144,154.34l45.17-45.17A4,4,0,0,1,194.83,109.17Z"}))]]);var m=e(u(),1),Ao=new Map([["bold",m.createElement(m.Fragment,null,m.createElement("path",{d:"M56.88,31.93A12,12,0,1,0,39.12,48.07L71.79,84A68,68,0,0,0,72,220h88a91.26,91.26,0,0,0,30.66-5.24l8.46,9.31a12,12,0,0,0,17.76-16.14ZM160,196H72a44,44,0,0,1-1.8-87.95A91.91,91.91,0,0,0,68,128a12,12,0,0,0,24,0,68.22,68.22,0,0,1,2.66-18.84l77.88,85.67A68.67,68.67,0,0,1,160,196Zm92-68a91.32,91.32,0,0,1-17.53,54,12,12,0,1,1-19.41-14.11,68,68,0,0,0-89.57-98.53,12,12,0,0,1-12.2-20.66A92,92,0,0,1,252,128Z"}))],["duotone",m.createElement(m.Fragment,null,m.createElement("path",{d:"M240,128a80,80,0,0,1-80,80H72A56,56,0,1,1,85.92,97.74l0,.1A80,80,0,0,1,240,128Z",opacity:"0.2"}),m.createElement("path",{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L81.32,88.55l-.06.12A65,65,0,0,0,72,88a64,64,0,0,0,0,128h88a87.34,87.34,0,0,0,31.8-5.93l10.28,11.31a8,8,0,1,0,11.84-10.76ZM160,200H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.3.12A88.4,88.4,0,0,0,72,128a8,8,0,0,0,16,0,72.25,72.25,0,0,1,5.06-26.54l87,95.7A71.66,71.66,0,0,1,160,200Zm88-72a87.89,87.89,0,0,1-22.35,58.61A8,8,0,0,1,213.71,176,72,72,0,0,0,117.37,70a8,8,0,0,1-9.48-12.89A88,88,0,0,1,248,128Z"}))],["fill",m.createElement(m.Fragment,null,m.createElement("path",{d:"M248,128.72A87.74,87.74,0,0,1,222.41,190a4,4,0,0,1-5.77-.16L103.78,65.67a4,4,0,0,1,.39-5.76A87.82,87.82,0,0,1,160.87,40C209.15,40.47,248.38,80.43,248,128.72ZM53.92,34.62A8,8,0,1,0,42.08,45.38L81.33,88.56l-.06.11A64,64,0,0,0,8,153c.53,35.12,29.84,63,65,63h87a87.65,87.65,0,0,0,31.78-5.95l10.3,11.33a8,8,0,0,0,11.33.52,8.32,8.32,0,0,0,.29-11.52Z"}))],["light",m.createElement(m.Fragment,null,m.createElement("path",{d:"M52.44,36A6,6,0,0,0,43.56,44l40.18,44.2c-.45.87-.9,1.75-1.32,2.64A62,62,0,1,0,72,214h88a85.23,85.23,0,0,0,32.35-6.3L203.56,220a6,6,0,0,0,8.88-8.08ZM160,202H72a50,50,0,1,1,5.9-99.64A86.25,86.25,0,0,0,74,128a6,6,0,0,0,12,0,73.92,73.92,0,0,1,6.44-30.2l91.22,100.34A73.65,73.65,0,0,1,160,202Zm86-74a85.85,85.85,0,0,1-21.85,57.27,6,6,0,0,1-4.47,2,6,6,0,0,1-4.47-10,74,74,0,0,0-99-108.92,6,6,0,1,1-7.11-9.67A86,86,0,0,1,246,128Z"}))],["regular",m.createElement(m.Fragment,null,m.createElement("path",{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L81.32,88.55l-.06.12A65,65,0,0,0,72,88a64,64,0,0,0,0,128h88a87.34,87.34,0,0,0,31.8-5.93l10.28,11.31a8,8,0,1,0,11.84-10.76ZM160,200H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.3.12A88.4,88.4,0,0,0,72,128a8,8,0,0,0,16,0,72.25,72.25,0,0,1,5.06-26.54l87,95.7A71.66,71.66,0,0,1,160,200Zm88-72a87.89,87.89,0,0,1-22.35,58.61A8,8,0,0,1,213.71,176,72,72,0,0,0,117.37,70a8,8,0,0,1-9.48-12.89A88,88,0,0,1,248,128Z"}))],["thin",m.createElement(m.Fragment,null,m.createElement("path",{d:"M51,37.31A4,4,0,0,0,45,42.69L86.16,87.93q-1.38,2.55-2.59,5.19A60,60,0,1,0,72,212h88a83.19,83.19,0,0,0,32.88-6.69L205,218.69a4,4,0,1,0,5.92-5.38ZM160,204H72a52,52,0,0,1,0-104,52.92,52.92,0,0,1,8.54.72A84.21,84.21,0,0,0,76,128a4,4,0,0,0,8,0,76,76,0,0,1,7.9-33.76L187.13,199A75.37,75.37,0,0,1,160,204Zm84-76a83.86,83.86,0,0,1-21.34,55.94,4,4,0,1,1-6-5.33A76,76,0,0,0,115,66.75a4,4,0,0,1-4.74-6.45A84,84,0,0,1,244,128Z"}))]]);var p=e(u(),1),ko=new Map([["bold",p.createElement(p.Fragment,null,p.createElement("path",{d:"M160,36A92.09,92.09,0,0,0,79,84.36,68,68,0,1,0,72,220h88a92,92,0,0,0,0-184Zm0,160H72a44,44,0,0,1-1.82-88A91.86,91.86,0,0,0,68,128a12,12,0,0,0,24,0,68,68,0,1,1,68,68Zm32.49-79.51L177,132l15.52,15.51a12,12,0,0,1-17,17L160,149l-15.51,15.52a12,12,0,1,1-17-17L143,132l-15.52-15.51a12,12,0,1,1,17-17L160,115l15.51-15.52a12,12,0,0,1,17,17Z"}))],["duotone",p.createElement(p.Fragment,null,p.createElement("path",{d:"M240,127.62a80,80,0,0,1-80,80H72A56,56,0,1,1,85.92,97.36l0,.1A80,80,0,0,1,240,127.62Z",opacity:"0.2"}),p.createElement("path",{d:"M160,40A88.09,88.09,0,0,0,81.29,88.67,64,64,0,1,0,72,216h88a88,88,0,0,0,0-176Zm0,160H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.11A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,72,72Zm29.66-82.34L171.31,136l18.35,18.34a8,8,0,0,1-11.32,11.32L160,147.31l-18.34,18.35a8,8,0,0,1-11.32-11.32L148.69,136l-18.35-18.34a8,8,0,0,1,11.32-11.32L160,124.69l18.34-18.35a8,8,0,0,1,11.32,11.32Z"}))],["fill",p.createElement(p.Fragment,null,p.createElement("path",{d:"M247.93,124.52C246.11,77.54,207.07,40,160.06,40A88.1,88.1,0,0,0,81.29,88.67h0A87.48,87.48,0,0,0,72,127.73,8.18,8.18,0,0,1,64.57,136,8,8,0,0,1,56,128a103.66,103.66,0,0,1,5.34-32.92,4,4,0,0,0-4.75-5.18A64.09,64.09,0,0,0,8,152c0,35.19,29.75,64,65,64H160A88.09,88.09,0,0,0,247.93,124.52Zm-58.27,29.82a8,8,0,0,1-11.32,11.32L160,147.31l-18.34,18.35a8,8,0,0,1-11.32-11.32L148.69,136l-18.35-18.34a8,8,0,0,1,11.32-11.32L160,124.69l18.34-18.35a8,8,0,0,1,11.32,11.32L171.31,136Z"}))],["light",p.createElement(p.Fragment,null,p.createElement("path",{d:"M160,42A86.11,86.11,0,0,0,82.43,90.88,62,62,0,1,0,72,214h88a86,86,0,0,0,0-172Zm0,160H72a50,50,0,0,1,0-100,50.67,50.67,0,0,1,5.91.35A85.61,85.61,0,0,0,74,128a6,6,0,0,0,12,0,74,74,0,1,1,74,74Zm28.24-85.76L168.48,136l19.76,19.76a6,6,0,1,1-8.48,8.48L160,144.48l-19.76,19.76a6,6,0,0,1-8.48-8.48L151.52,136l-19.76-19.76a6,6,0,0,1,8.48-8.48L160,127.52l19.76-19.76a6,6,0,0,1,8.48,8.48Z"}))],["regular",p.createElement(p.Fragment,null,p.createElement("path",{d:"M160,40A88.09,88.09,0,0,0,81.29,88.67,64,64,0,1,0,72,216h88a88,88,0,0,0,0-176Zm0,160H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.11A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,72,72Zm29.66-82.34L171.31,136l18.35,18.34a8,8,0,0,1-11.32,11.32L160,147.31l-18.34,18.35a8,8,0,0,1-11.32-11.32L148.69,136l-18.35-18.34a8,8,0,0,1,11.32-11.32L160,124.69l18.34-18.35a8,8,0,0,1,11.32,11.32Z"}))],["thin",p.createElement(p.Fragment,null,p.createElement("path",{d:"M160,44A84.11,84.11,0,0,0,83.59,93.12,60.71,60.71,0,0,0,72,92a60,60,0,0,0,0,120h88a84,84,0,0,0,0-168Zm0,160H72a52,52,0,1,1,8.55-103.3A83.66,83.66,0,0,0,76,128a4,4,0,0,0,8,0,76,76,0,1,1,76,76Zm26.83-89.17L165.66,136l21.17,21.17a4,4,0,0,1-5.66,5.66L160,141.66l-21.17,21.17a4,4,0,0,1-5.66-5.66L154.34,136l-21.17-21.17a4,4,0,0,1,5.66-5.66L160,130.34l21.17-21.17a4,4,0,1,1,5.66,5.66Z"}))]]);var y=e(u(),1);var To=e(u(),1),yo=(0,To.createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1});var P=y.forwardRef((o,a)=>{let{alt:s,color:r,size:n,weight:I,mirrored:h,children:B,weights:F,...D}=o,{color:H="currentColor",size:C,weight:Y="regular",mirrored:M=!1,...x}=y.useContext(yo);return y.createElement("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:n??C,height:n??C,fill:r??H,viewBox:"0 0 256 256",transform:h||M?"scale(-1, 1)":void 0,...x,...D},!!s&&y.createElement("title",null,s),B,F.get(I??Y))});P.displayName="IconBase";var W=e(u(),1);var q=W.forwardRef((o,a)=>W.createElement(P,{ref:a,...o,weights:bo}));q.displayName="CircleNotchIcon";var V=e(u(),1);var z=V.forwardRef((o,a)=>V.createElement(P,{ref:a,...o,weights:Po}));z.displayName="CloudCheckIcon";var X=e(u(),1);var _=X.forwardRef((o,a)=>X.createElement(P,{ref:a,...o,weights:Ao}));_.displayName="CloudSlashIcon";var Z=e(u(),1);var J=Z.forwardRef((o,a)=>Z.createElement(P,{ref:a,...o,weights:ko}));J.displayName="CloudXIcon";var Bo=e(S()),sa=o=>(0,Bo.jsx)(q,{size:o.size,className:"plotly-cloud-spin plotly-cloud-gray-icon",weight:"bold"}),K=sa;var R=e(S()),ra=({status:o,size:a=16,isButtonIcon:s})=>o==="BUILDING"||o==="STARTING"||o==="unknown"?(0,R.jsx)(K,{size:a}):o==="RUNNING"?(0,R.jsx)(z,{size:a,className:"plotly-cloud-green-icon",weight:s?"fill":"duotone"}):o==="new"?(0,R.jsx)(_,{size:a,className:"plotly-cloud-gray-icon",weight:s?"fill":"duotone"}):(0,R.jsx)(J,{size:a,className:"plotly-cloud-red-icon",weight:"duotone"}),j=ra;var d=e(S()),ea=({status:o,onPublish:a,isUpdate:s,publishing:r,onCancel:n})=>{let I=()=>{n&&n()},[h,B,F]=(0,Q.useMemo)(()=>o==="BUILDING"||o==="STARTING"?["App is building","Wait for your app to finish publishing before publishing again","gray"]:o==="RUNNING"?["App is live","Your app is running in Plotly Cloud.","green"]:["App is stopped","Start your app by publishing again or starting it in the app manager","red"],[o]),[D,H]=(0,Q.useMemo)(()=>r?s?["Open Settings in Plotly Cloud","Republishing"]:["Cancel","Publishing"]:s?["Open Settings in Plotly Cloud","Republish"]:["Cancel","Publish"],[r,s]),C=(0,Q.useMemo)(()=>["BUILDING","STARTING"].includes(o),[o]);return(0,d.jsxs)("div",{className:"plotly-cloud-status-banner",children:[(0,d.jsxs)("div",{className:`plotly-cloud-status-info plotly-cloud-status-${F}`,children:[(0,d.jsx)(j,{status:o,size:20}),(0,d.jsxs)("div",{className:"plotly-cloud-status-description",children:[(0,d.jsx)("div",{className:"plotly-cloud-status-title",children:h}),(0,d.jsx)("div",{className:"plotly-cloud-status-text",children:B})]})]}),(0,d.jsxs)("div",{className:"plotly-cloud-button-bar",children:[(0,d.jsx)("button",{type:"button",onClick:I,disabled:s?!1:r,className:"plotly-cloud-publish-modal-button plotly-cloud-btn-secondary",children:D}),(0,d.jsxs)("button",{type:"button",onClick:a,className:"plotly-cloud-publish-modal-button plotly-cloud-btn-primary",disabled:r||C,children:[r?(0,d.jsx)(K,{size:12}):null,H]})]})]})},so=ea;var g=e(S()),na=()=>{let[o,a]=(0,t.useState)(!1),[s,r]=(0,t.useState)(""),[n,I]=(0,t.useState)("initialize"),[h,B]=(0,t.useState)(!1),[F,D]=(0,t.useState)(!1),[H,C]=(0,t.useState)(!1),[Y,M]=(0,t.useState)(!1),[x,Fo]=(0,t.useState)(""),[Do,eo]=(0,t.useState)(""),[$,T]=(0,t.useState)("unknown"),[ta,Ho]=(0,t.useState)(!1),[N,U]=(0,t.useState)(-1),[Mo,Ro]=(0,t.useState)(1),v=(0,t.useRef)(""),A=(0,t.useRef)(""),[ca,la]=(0,t.useReducer)((i,f)=>{switch(f.type){case"init":return{...f.payload};case"slow_down":return{...i,delay:f.payload.delay};case"try_again":case"success":return{}}return{...i}},{}),w=(0,t.useMemo)(()=>Co("/"),[]),ma=()=>{a(!0)},oo=()=>{a(!1)},xo=()=>{a(!o)},No=(0,t.useMemo)(()=>o?"plotly-cloud-publish-container dash-debug-menu__button dash-debug-menu__button--selected":"plotly-cloud-publish-container dash-debug-menu__button",[o]),no=()=>{D(!0),w.authenticate().then(i=>{i.error?r(i.error):(I("auth_poll"),v.current=i.result.device_code,window.open(i.result.verification_uri_complete,"_blank"),U(setTimeout(()=>{w.auth_poll({device_code:v.current}).then(io)},8e3)))})},io=i=>{if(i.error)r(i.error);else{if(i.result.success){B(!0),v.current="",A.current?(T("unknown"),I("update_app"),w.status({app_id:A.current}).then(E=>{T(E.result.status)})):I("enter_name");return}if(i.result.try_again){no();return}let f=Mo||1;i.result.delay&&(f=i.result.delay,Ro(f)),U(setTimeout(()=>{w.auth_poll({device_code:v.current}).then(io)},1e3+f*1e3))}},Uo=no;(0,t.useEffect)(()=>{n==="initialize"&&w.initialize().then(i=>{let{result:f,error:E}=i;E?r(E):(B(!f?.authenticated),Fo(f.app_path),eo(f.app_name),T(f.status),f.app_id&&(A.current=f.app_id),f?.authenticated?f.status==="new"?I("enter_name"):I("update_app"):I("sign_in"))})},[n,o]);let to=i=>{T(i.result.status),i.result.status==="RUNNING"?(C(!1),M(!0),I("update_app")):["BUILDING","STARTING"].includes(i.result.status)?U(setTimeout(()=>{w.status({app_id:A.current}).then(to)},2e3)):(C(!1),I("update_app"))},co=i=>{if(i.error){r(i.error);return}I("status_poll"),A.current=i.result.app_id,T("BUILDING"),N>0&&clearTimeout(N),U(setTimeout(()=>{w.status({app_id:A.current}).then(to)},2500))},vo=i=>{Ho(!0),eo(i),C(!0),M(!1),T("BUILDING"),w.publish({app_path:x,app_name:i}).then(co)},lo=()=>{C(!0),M(!0),T("BUILDING"),w.publish({app_id:A.current,app_path:x}).then(co)};(0,t.useEffect)(()=>()=>{N&&clearTimeout(N)});let Eo=()=>{window.open(`https://cloud.plotly.com/app/${A.current}/settings`,"_blank")};return(0,g.jsxs)("div",{className:No,children:[(0,g.jsxs)("button",{className:"plotly-cloud-publish-button",onClick:xo,children:[(0,g.jsx)(j,{status:$,isButtonIcon:!0})," Plotly Cloud"]},"publish-button"),o?(0,g.jsx)(So,{title:"Plotly Cloud",onClose:oo,children:s||(()=>{switch(n){case"authenticate":case"auth_poll":case"sign_in":return(0,g.jsx)(ho,{onSignIn:Uo,waiting:F});case"enter_name":return(0,g.jsx)(Lo,{onPublish:vo,onCancel:oo,initialAppName:Do});case"update_app":return(0,g.jsx)(so,{onPublish:lo,status:$,isUpdate:!0,onCancel:Eo});case"status_poll":case"publish":return(0,g.jsx)(so,{publishing:H,onPublish:lo,status:$,onCancel:oo,isUpdate:Y});default:return(0,g.jsx)(g.Fragment,{})}})()},"publish-modal"):null]})},ro=na;typeof window<"u"&&(window.plotly_cloud_publish_component={PlotlyCloudPublishComponent:ro});return Xo(ia);})();
/*! Bundled license information:

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
