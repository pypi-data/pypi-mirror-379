# TOML file to establish various PyXMake development CLI shims for poetry.
#  
# @note: TOML file            
# Created on 08.08.2022    
# 
# @version:  1.0    
# ----------------------------------------------------------------------------------------------
# @requires:
#        - 
# 
# @change: 
#        -    
#    
# @author: garb_ma                                                     [DLR-SY,STM Braunschweig]
# ----------------------------------------------------------------------------------------------
[build-system]
requires = ["poetry-core>=1.0.0", "poetry-dynamic-versioning>=1.0.0,<2.0.0"]
build-backend = "poetry_dynamic_versioning.backend"

[tool.poetry]
name = "pyx-poetry"
version = "1.28.0.post1"
description = "PyXMake plugin for poetry providing additional configuration options and CLI commands"
authors = ["Garbade, Marc <marc.garbade@dlr.de>"]
license = "MIT"
packages = [{ include = "PyXMake/Plugin/*.py", from = "src"}]
repository = "https://gitlab.com/dlr-sy/pyxmake"
documentation = "https://dlr-sy.gitlab.io/pyxmake"
keywords = ["pyxmake","poetry","plugin"]
readme = "README.md"
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Topic :: Software Development :: Build Tools",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Programming Language :: Python :: 2",
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent"
]

[tool.poetry.urls]
Changelog = "https://gitlab.com/dlr-sy/pyxmake/-/blob/master/CHANGELOG.md"

[[tool.poetry.source]]
name = "PyPI"
priority = "primary"

[[tool.poetry.source]]
name = "dlr-sy"
url = "https://gitlab.dlr.de/api/v4/groups/541/-/packages/pypi/simple"
priority = "supplemental"

[tool.poetry.dependencies]
python = "~2.7 || ^3.5"
attrs = [{version = "^21.0", python = "~2.7 || ~3.5"}, 
         {version = ">=22.0", python = "^3.6"}]
build = [{version = ">=0.1,<0.6", python = "~2.7 || ~3.5"},
         {version = "^0.8", python = "~3.6"},
         {version = ">=0.9,<1.2", python = "~3.7"},
         {version = ">=1.1", python = "^3.8"}]
cffi = [{version = "^1.12,<1.16", python = "~2.7 || ^3.5,<3.8"},
        {version = ">=1.16", python = "^3.8"}]
GitPython = [{version = "~2.1", python = "~2.7"}, 
             {version = "^3,<3.1.15", python = "~3.5"},
             {version = "^3,<3.1.19", python = "~3.6"},
             {version = ">=3.1.24", python = "^3.7"}]
importlib-resources = [{version = "^3.0", python = "~2.7 || ^3.5,<3.7"},
                       {version = ">=5.10", python = "^3.7"}]
importlib-metadata = [{version = "<2.0", python = "~2.7 || ^3.5,<3.7"},
                      {version = ">=4.0", python = "^3.7"}]
ipaddress = [{version = ">=1.0"}]
packaging = [{version = "^20.9", python = "~2.7 || ^3.5,<3.7"},
             {version = ">=23.0", python = "^3.7"}]
pyproject-hooks = [{version = "~1.0", python="^3.7,<3.9"},
                   {version = ">=1.2", python=">=3.9"}]
setuptools = [{version = "^39.0", python = "~2.7"},
              {version = "^49.0,", python = "~3.5"},
              {version = "^58.0,", python = "~3.6"},
              {version = "^64.0", python = "~3.7"},
              {version = "<70.0", python = "~3.8"},
              {version = ">=70.0", python = "^3.9"}]
twine = [{version = "^1.15", python = "~2.7 || ~3.5"},
         {version = "^3.0,", python = "~3.6"},
         {version = ">=4.0", python = "^3.7"}]
typing-extensions = [{version = ">=3.10,<4.8", python = "~3.7"},
                     {version = ">=4.8", python = "^3.8"}]
urllib3 = [{version = "<2.0",   python = "~2.7 || ^3.5,<3.7"},
           {version = ">=1.26", python = "^3.7"}]
virtualenv = [{version = "^20.22", python = "~3.7"},
              {version = ">=20.22", python = "^3.8"}]
wheel = [{version = ">=0.30",   python = "~2.7 || ^3.5,<3.7"},
         {version = ">=0.40",   python = "^3.7"}]

# All optional dependencies
poetry = [{version = ">=1,<1.2", python = "~2.7 || ^3.5,<3.7", optional = true},
          {version = "^1.5", python = "~3.7", optional = true},
          {version = "^1.6", python = "~3.8", optional = true},
          {version = ">=2.1", python = "^3.9", optional = true}]
pyx-core = [{version = "*", python = "~2.7 || ^3.5", optional = true}]

# All mandatory development dependencies
[tool.poetry.group.dev.dependencies]
backports-cached-property = [{version = "*", python = "^3.6,<3.8"}]
html5lib = [{version = "*", python = "~2.7 || ~3.5"}]
lockfile = [{version = "*", python = "~3.7"}]
pyx-core = [{git = "https://gitlab.dlr.de/fa_sw/stmlab/PyXMake.git", python = "^3.7"}]

[tool.poetry.group.lock.dependencies]
keyring = [{version = "~18.0", python = "~2.7"},
           {version = ">=19,<24.1", python = "^3.5,<3.7"},
           {version = ">=23.0,<25", python = "^3.7,<3.9"},
           {version = ">=25.0", python = "^3.9"}]
pkginfo = [{version = ">=1.12", python = "^3.8"}]
typing = [{version = ">=3.7.4.3", python = "<3.8"}]

[tool.poetry.extras]
all = ["poetry","pyx-core"]
core = ["poetry"]
devel = ["pyx-core"]

[tool.poetry.scripts]
poetry = "PyXMake.Plugin:main"

[tool.poetry.plugins."poetry.plugin"]
poetry-auto-config = "PyXMake.Plugin:RuntimePlugin"

[tool.poetry.plugins."poetry.application.plugin"]
poetry-auto-script = "PyXMake.Plugin:ApplicationPlugin"

[tool.poetry-dynamic-versioning]
enable = false

[tool.poetry-dynamic-versioning.from-file]
source = "src/PyXMake/__init__.py"
pattern = '''\__version__\s*=\s*\"(.*)\"'''