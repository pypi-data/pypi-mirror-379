# This file contains the list of all build variants running on *ALL* Evergreen
# mongo waterfalls. This enables arbitrary versions of mongo
# binaries/artifacts/debug symbols to be downloaded with
# `db-contrib-tool setup-repro-env`
#
# PLEASE DO NOT REMOVE ANYTHING, unless a build variant no longer runs in any
# Evergreen project.

# Default task name for archiving the binaries for MongoDB 5.0 and newer
# versions.
default_binary_task: &archive_dist_test archive_dist_test

evergreen_tasks:
  - projects: [default]
    binary:
      - *archive_dist_test
    symbols:
      - archive_dist_test_debug
    push:
      - push
  - projects:
      - mongodb-mongo-v4.0
      - mongodb-mongo-v4.2
      - mongodb-mongo-v4.4
      - mongodb-mongo-v4.4-s8
    binary:
      - compile
    symbols:
      - compile
    push:
      - push

evergreen_buildvariants:
  ####################
  ### Ubuntu 16.04 ###
  ####################
  - name: ubuntu1604
    edition: targeted
    platform: ubuntu1604
    architecture: x86_64

  - name: enterprise-ubuntu1604-64
    edition: enterprise
    platform: ubuntu1604
    architecture: x86_64

  ####################
  ### Ubuntu 18.04 ###
  ####################
  - name: ubuntu1804
    edition: targeted
    platform: ubuntu1804
    architecture: x86_64

  - name: enterprise-ubuntu1804-64
    edition: enterprise
    platform: ubuntu1804
    architecture: x86_64

  - name: ubuntu1804-arm64
    edition: targeted
    platform: ubuntu1804
    architecture: aarch64

  - name: enterprise-ubuntu1804-arm64
    edition: enterprise
    platform: ubuntu1804
    architecture: aarch64

  - name: enterprise-ubuntu1804-ppc64le
    edition: enterprise
    platform: ubuntu1804
    architecture: ppc64le

  - name: ubuntu1804-s390x
    edition: targeted
    platform: ubuntu1804
    architecture: s390x

  - name: enterprise-ubuntu1804-s390x
    edition: enterprise
    platform: ubuntu1804
    architecture: s390x

  ####################
  ### Ubuntu 20.04 ###
  ####################
  - name: ubuntu2004
    edition: targeted
    platform: ubuntu2004
    architecture: x86_64

  - name: enterprise-ubuntu2004-64
    edition: enterprise
    platform: ubuntu2004
    architecture: x86_64

  - name: ubuntu2004-arm64
    edition: targeted
    platform: ubuntu2004
    architecture: aarch64

  - name: enterprise-ubuntu2004-arm64
    edition: enterprise
    platform: ubuntu2004
    architecture: aarch64

  ####################
  ### Ubuntu 22.04 ###
  ####################
  - name: ubuntu2204
    edition: targeted
    platform: ubuntu2204
    architecture: x86_64

  - name: enterprise-ubuntu2204-64
    edition: enterprise
    platform: ubuntu2204
    architecture: x86_64

  - name: ubuntu2204-arm64
    edition: targeted
    platform: ubuntu2204
    architecture: aarch64

  - name: enterprise-ubuntu2204-arm64
    edition: enterprise
    platform: ubuntu2204
    architecture: aarch64

  ####################
  ### Ubuntu 24.04 ###
  ####################
  - name: ubuntu2404
    edition: targeted
    platform: ubuntu2404
    architecture: x86_64

  - name: enterprise-ubuntu2204-64
    edition: enterprise
    platform: ubuntu2404
    architecture: x86_64

  - name: ubuntu2404-arm64
    edition: targeted
    platform: ubuntu2404
    architecture: aarch64

  - name: enterprise-ubuntu2404-arm64
    edition: enterprise
    platform: ubuntu2404
    architecture: aarch64

  ##############
  ### Amazon ###
  ##############
  - name: amazon
    edition: targeted
    platform: amazon
    architecture: x86_64

  - name: enterprise-linux-64-amazon-ami
    edition: enterprise
    platform: amzn64
    architecture: x86_64

  ################
  ### Amazon 2 ###
  ################
  - name: amazon2
    edition: targeted
    platform: amazon2
    architecture: x86_64

  - name: enterprise-amazon2
    edition: enterprise
    platform: amazon2
    architecture: x86_64

  - name: amazon2-arm64
    edition: targeted
    platform: amazon2
    architecture: aarch64

  - name: enterprise-amazon2-arm64
    edition: enterprise
    platform: amazon2
    architecture: aarch64

  ###################
  ### Amazon 2022 ###
  ###################
  - name: amazon2022
    edition: targeted
    platform: amazon2022
    architecture: x86_64

  - name: enterprise-amazon2022
    edition: enterprise
    platform: amazon2022
    architecture: x86_64

  - name: amazon2022-arm64
    edition: targeted
    platform: amazon2022
    architecture: aarch64

  - name: enterprise-amazon2022-arm64
    edition: enterprise
    platform: amazon2022
    architecture: aarch64

  ###################
  ### Amazon 2023 ###
  ###################
  - name: amazon2023
    edition: targeted
    platform: amazon2023
    architecture: x86_64

  - name: enterprise-amazon2023
    edition: enterprise
    platform: amazon2023
    architecture: x86_64

  - name: amazon2023-arm64
    edition: targeted
    platform: amazon2023
    architecture: aarch64

  - name: enterprise-amazon2023-arm64
    edition: enterprise
    platform: amazon2023
    architecture: aarch64

  - name: amazon-linux-2023-x86-mongot-integration-cron-only
    edition: enterprise
    platform: amazon2023-mongot-integration
    architecture: x86_64

  ##############
  ### RHEL 6 ###
  ##############
  - name: rhel62
    edition: targeted
    platform: rhel62
    architecture: x86_64

  - name: enterprise-rhel-62-64-bit
    edition: enterprise
    platform: rhel62
    architecture: x86_64

  - name: rhel-67-s390x
    edition: targeted
    platform: rhel67
    architecture: s390x

  - name: enterprise-rhel-67-s390x
    edition: enterprise
    platform: rhel67
    architecture: s390x

  ##############
  ### RHEL 7 ###
  ##############
  - name: rhel70
    edition: targeted
    platform: rhel70
    architecture: x86_64

  - name: enterprise-rhel-70-64-bit
    edition: enterprise
    platform: rhel70
    architecture: x86_64

  - name: enterprise-rhel-79-64-bit
    edition: enterprise
    platform: rhel79
    architecture: x86_64

  # We don't build on rhel 7.9 on older branches, so fallback to rhel 7.0
  # instead
  - name: enterprise-rhel-70-64-bit
    edition: enterprise
    platform: rhel79
    architecture: x86_64
    versions: ["4.2", "4.4", "5.0", "6.0", "7.0", "7.3"]

  - name: enterprise-rhel-71-ppc64le
    edition: enterprise
    platform: rhel71
    architecture: ppc64le

  - name: rhel-72-s390x
    edition: targeted
    platform: rhel72
    architecture: s390x

  - name: enterprise-rhel-72-s390x
    edition: enterprise
    platform: rhel72
    architecture: s390x

  ##############
  ### RHEL 8 ###
  ##############
  - name: rhel80
    edition: targeted
    platform: rhel80
    architecture: x86_64

  - name: enterprise-rhel-80-64-bit
    edition: enterprise
    platform: rhel80
    architecture: x86_64

  - name: enterprise-rhel-81-ppc64le
    edition: enterprise
    platform: rhel81
    architecture: ppc64le

  - name: rhel-82-arm64
    edition: targeted
    platform: rhel82
    architecture: aarch64

  - name: enterprise-rhel-82-arm64
    edition: enterprise
    platform: rhel82
    architecture: aarch64

  - name: enterprise-rhel-83-s390x
    edition: enterprise
    platform: rhel83
    architecture: s390x

  - name: rhel88
    edition: targeted
    platform: rhel88
    architecture: x86_64

  - name: enterprise-rhel-88-64-bit
    edition: enterprise
    platform: rhel88
    architecture: x86_64

  - name: rhel-88-arm64
    edition: targeted
    platform: rhel88
    architecture: aarch64

  - name: enterprise-rhel-88-arm64
    edition: enterprise
    platform: rhel88
    architecture: aarch64

  - name: rhel8
    edition: targeted
    platform: rhel8
    architecture: x86_64

  - name: enterprise-rhel-8-64-bit
    edition: enterprise
    platform: rhel8
    architecture: x86_64

  - name: rhel-8-arm64
    edition: targeted
    platform: rhel8
    architecture: aarch64

  - name: enterprise-rhel-8-arm64
    edition: enterprise
    platform: rhel8
    architecture: aarch64

  ##############
  ### RHEL 9 ###
  ##############
  - name: rhel90
    edition: targeted
    platform: rhel90
    architecture: x86_64

  - name: enterprise-rhel-90-64-bit
    edition: enterprise
    platform: rhel90
    architecture: x86_64

  - name: rhel90-arm64
    edition: targeted
    platform: rhel90
    architecture: aarch64

  - name: enterprise-rhel90-arm64
    edition: enterprise
    platform: rhel90
    architecture: aarch64

  - name: rhel93
    edition: targeted
    platform: rhel93
    architecture: x86_64

  - name: enterprise-rhel-93-64-bit
    edition: enterprise
    platform: rhel93
    architecture: x86_64

  - name: rhel93-arm64
    edition: targeted
    platform: rhel93
    architecture: aarch64

  - name: enterprise-rhel93-arm64
    edition: enterprise
    platform: rhel93
    architecture: aarch64

  ####################
  ### SUSE/SLES 12 ###
  ####################
  - name: suse12
    edition: targeted
    platform: suse12
    architecture: x86_64

  - name: enterprise-suse12-64
    edition: enterprise
    platform: suse12
    architecture: x86_64

  - name: suse12-s390x
    edition: targeted
    platform: suse12
    architecture: s390x

  - name: enterprise-suse12-s390x
    edition: enterprise
    platform: suse12
    architecture: s390x

  ####################
  ### SUSE/SLES 15 ###
  ####################
  - name: suse15
    edition: targeted
    platform: suse15
    architecture: x86_64

  - name: enterprise-suse15-64
    edition: enterprise
    platform: suse15
    architecture: x86_64

  ################
  ### Debian 9 ###
  ################
  - name: debian92
    edition: targeted
    platform: debian92
    architecture: x86_64

  - name: enterprise-debian92-64
    edition: enterprise
    platform: debian92
    architecture: x86_64

  #################
  ### Debian 10 ###
  #################
  - name: debian10
    edition: targeted
    platform: debian10
    architecture: x86_64

  - name: enterprise-debian10-64
    edition: enterprise
    platform: debian10
    architecture: x86_64

  #################
  ### Debian 11 ###
  #################
  - name: debian11
    edition: targeted
    platform: debian11
    architecture: x86_64

  - name: enterprise-debian11-64
    edition: enterprise
    platform: debian11
    architecture: x86_64

  # We don't build on debian 11 on older branches, so fallback to debian 10
  # instead.
  - name: debian10
    edition: targeted
    platform: debian11
    architecture: x86_64
    versions: ["4.2", "4.4", "5.3"]

  - name: enterprise-debian10-64
    edition: enterprise
    platform: debian11
    architecture: x86_64
    versions: ["4.2", "4.4", "5.3"]

  ###############
  ### Windows ###
  ###############
  - name: windows
    edition: base
    platform: windows
    architecture: x86_64

  - name: windows-64-2k8-ssl
    edition: base
    platform: windows_x86_64-2012plus
    architecture: x86_64
    versions: ["4.2"]

  - name: windows-64-2k8-ssl
    edition: base
    platform: windows_x86_64-2008plus-ssl
    architecture: x86_64
    versions: ["4.0"]

  - name: enterprise-windows
    edition: enterprise
    platform: windows
    architecture: x86_64

  - name: enterprise-windows-64-2k8
    edition: enterprise
    platform: windows
    architecture: x86_64
    versions: ["4.0", "4.2"]

  #############
  ### MacOS ###
  #############
  - name: macos
    edition: base
    platform: macos
    architecture: x86_64

  - name: osx-1010
    edition: base
    platform: osx-ssl
    architecture: x86_64
    versions: ["4.0"]

  - name: enterprise-macos
    edition: enterprise
    platform: macos
    architecture: x86_64

  - name: enterprise-osx-1010
    edition: enterprise
    platform: osx
    architecture: x86_64
    versions: ["4.0"]

  - name: macos-arm64
    edition: base
    platform: macos
    architecture: arm64

  - name: enterprise-macos-arm64
    edition: enterprise
    platform: macos
    architecture: arm64

  ############
  ### Misc ###
  ############
  - name: linux-64
    edition: base
    platform: linux_x86_64
    architecture: x86_64
    versions: ["4.0"]
