{
  "input":
	{
	    "file_vhr": "/path/to/your/4bands/VHR/input_image.tif",
	    "sensor_mode": false
	},

  "aux_layers":
	{ 
	    "valid_stack": "out/valid_stack.tif",
	    "file_ndvi" : "out/ndvi.tif",
	    "file_ndwi" : "out/ndwi.tif",
	    "extracted_pekel": "out/pekel.tif",
	    "extracted_hand": "out/hand.tif",
	    "extracted_wsf" : "out/wsf.tif",
	    "extracted_wbm" : "out/wbm.tif",
	    "file_texture": "out/texture.tif",
	    "mnh": null,
		"file_cloud_gml": null
	},
	"masks": {
		"watermask": "out/watermask.tif",
		"urbanmask": "out/urbanmask.tif",
		"vegetationmask": "out/vegetationmask.tif",
		"shadowmask": "out/shadowmask.tif",
		"stackmask": "out/stackmask.tif"
	},

	"resources": {
		"n_workers": 8,
		"tile_max_size": 0,
		"multiproc_context": "fork",
		"n_jobs": 1,
		"save_mode": "none"
	},

    "prepare": {
	    "red": 1,
	    "green": 2,
	    "nir": 4,
	    "cloud_mask": null,
	    "pekel_method": "all",
	    "pekel" : "/work/datalake/static_aux/MASQUES/PEKEL/data2021/occurrence/occurrence.vrt",
	    "pekel_monthly_occurrence": "/work/datalake/static_aux/MASQUES/PEKEL/data2021/MonthlyRecurrence",
	    "pekel_obs": null,
	    "hand" : "/work/datalake/static_aux/MASQUES/HAND_MERIT/hnd.vrt",
	    "wsf": "/work/datalake/static_aux/MASQUES/WSF/WSF2019_v1/WSF2019_v1.vrt",
	    "texture_rad": 5,
	    "dtm":null,
	    "geoid_file":"/softs/projets/3d/geoids/egm96.grd",
	    "analyse_glcm": true,
	    "land_cover_map": "/work/CAMPUS/etudes/Masques_CO3D/Data/ClassifRef/WORLDCOVER/esa_worldcover.vrt",
            "cropped_land_cover_map": false,
	    "effective_used_config": "out/effective_used_config.json",
	    "wbm":"/path/to/the/wbm/wbm.tif"
	},

  "post_process":
	{
	    "binary_opening": 2,
	    "binary_closing": 2,
	    "binary_dilation": 2,
	    "remove_small_objects": 100,
	    "remove_small_holes": 100,
	    "area_closing": null
    },

  "shadows":
	{
	    "th_rgb": 0.2,
	    "th_nir": 0.2,
	    "percentile": 2,
	    "absolute_threshold": false
	},

  "urban":
    {
	"files_layers": [],
	"vegmask_min_value": 21,
	"veg_binary_dilation": 5,
	"value_classif": 255,
	"gt_binary_erosion": 5,
	"nb_samples_other": 5000,
	"nb_samples_urban": 1000,
	"max_depth": 8,
	"nb_estimators": 100
     },

  "vegetation":
    {
	"texture_mode": "yes",
	"filter_texture": 90,
	"slic_seg_size": 100,
	"slic_compactness": 0.1,
	"nb_clusters_veg": 3,
	"min_ndvi_veg": null,
	"max_ndvi_noveg": null,
	"non_veg_clusters": null,
	"nb_clusters_low_veg": 3,
	"max_texture_th": null
    },

  "water":
    {
      "files_layers": [],
      "thresh_pekel": 50,
      "thresh_hand": 25,
      "hand_strict": false,
      "strict_thresh": 50,
      "simple_ndwi_threshold": false,
      "ndwi_threshold": 0.1,
      "samples_method": "grid",
      "nb_samples_water": 2000,
      "nb_samples_other": 10000,
      "nb_samples_auto": false,
      "auto_pct": 0.0002,
      "smart_area_pct": 50,
      "smart_minimum": 10,
      "grid_spacing": 40,
      "max_depth": 8,
      "nb_estimators": 100,
      "no_pekel_filter": false,
      "hand_filter": false,
      "value_classif": 1
    },

  "stack":
    {
      "building_threshold": 70,
      "building_erosion": 2,
      "bonus_gt": 10,
      "malus_shadow": 10,
      "value_classif_low_veg": 1,
      "value_classif_high_veg": 2,
      "value_classif_water": 3,
      "value_classif_buildings": 4,
      "value_classif_bare_ground": 6,
      "value_classif_sea": 7,
      "value_classif_lake": 8,
      "value_classif_river": 9,
      "value_classif_false_positive_buildings": 10,
      "value_classif_background": 11,
      "vegmask_min_value":21,
	"minimal_size_water_area": 10000,
	"binary_closing":0,
	"binary_opening":0,
      "categorized_watermask": false
    }
}
