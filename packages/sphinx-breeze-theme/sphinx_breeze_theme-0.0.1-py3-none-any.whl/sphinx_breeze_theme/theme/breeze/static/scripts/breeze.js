const f=[];function u(e,t){const n={selector:e,init:t,instances:new WeakMap};f.push(n),document.querySelectorAll(e).forEach(o=>y(o,n))}function y(e,t){if(t.instances.has(e))return;const n=t.init(e)||void 0;t.instances.set(e,n)}function p(e,t){if(!t.instances.has(e))return;const n=t.instances.get(e);n&&n(),t.instances.delete(e)}const S=new MutationObserver(e=>{for(const t of e){for(const n of t.addedNodes)if(n instanceof HTMLElement){for(const o of f)n.matches(o.selector)&&y(n,o);for(const o of n.querySelectorAll(f.map(r=>r.selector).join(","))){const r=f.find(c=>o.matches(c.selector));r&&y(o,r)}}for(const n of t.removedNodes)if(n instanceof HTMLElement){for(const o of f)n.matches(o.selector)&&p(n,o);for(const o of n.querySelectorAll(f.map(r=>r.selector).join(","))){const r=f.find(c=>o.matches(c.selector));r&&p(o,r)}}}});S.observe(document.body,{childList:!0,subtree:!0});const A=DOCUMENTATION_OPTIONS?.BUILDER||"html",E=document.documentElement.dataset.content_root||"./",q=A==="dirhtml"?`${E}search/`:`${E}search.html`;document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key.toLowerCase()==="k"&&(e.preventDefault(),window.location.href=`${q}#q`)});var b=(e=>(e.AUTO="auto",e.LIGHT="light",e.DARK="dark",e))(b||{});const v=e=>{const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",n=e==="auto"?t:e;document.documentElement.dataset.mode=e,document.documentElement.dataset.theme=n,localStorage.setItem("breeze-mode",e)},I=()=>{if((localStorage.getItem("breeze-mode")??"auto")==="auto"){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";v(t==="light"?"dark":"light")}else v("auto")},x=window.matchMedia("(prefers-color-scheme: dark)");x.addEventListener("change",e=>{if(localStorage.getItem("mode")==="auto"){const n=e.matches?"dark":"light";document.documentElement.dataset.theme=n}});let g=window.scrollY;u(".bz-back-to-top",e=>{const t=()=>{const n=window.scrollY,o=n<g&&n>0;e.classList.toggle("active",o),g=n};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)});u(".bz-dropdown",e=>{const t=e.querySelector("button"),n=e.querySelector("[role=menu]");if(!t||!n)return;t.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true");const o=()=>{t.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false")},r=()=>{t.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true")};e.addEventListener("mouseenter",()=>o()),e.addEventListener("mouseleave",()=>r()),e.addEventListener("keydown",c=>{const s=Array.from(n.querySelectorAll("[role=menuitem]"));if(s.length){if(c.key==="Escape")r(),t.focus();else if(c.key==="ArrowDown"){o();const a=s.indexOf(document.activeElement);s[(a+1)%s.length].focus()}else if(c.key==="ArrowUp"){o();const a=Math.max(s.indexOf(document.activeElement),0);s[(a-1+s.length)%s.length].focus()}}}),e.addEventListener("focusout",c=>{const s=c.relatedTarget;(!s||!e.contains(s))&&r()})});u("label[role=button][for]",e=>{const t=e.getAttribute("for");if(!t)return;const n=document.getElementById(t);n&&(e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.addEventListener("keydown",o=>{(o.key==="Enter"||o.key===" ")&&(n.click?.(),o.preventDefault())}))});u(".bz-header-tabs",e=>{const t=e.querySelector("ul"),n=t?.querySelectorAll("li"),o=e.querySelector(".bz-dropdown"),r=o?.querySelector("ul");if(!t||!n||!o||!r)return;t.style.overflowX="hidden",n.forEach((s,a)=>{s.dataset.tabId||(s.dataset.tabId=String(a))});const c=new IntersectionObserver(s=>{s.forEach(a=>{const d=a.target,m=d.dataset.tabId;if(a.isIntersecting){const i=r.querySelector(`[data-tab-id="${m}"]`);i&&i.remove(),d.style.visibility=""}else{if(r.querySelector(`[data-tab-id="${m}"]`))return;const i=d.cloneNode(!0),l=Array.from(r.children).find(w=>Number(w.dataset.tabId)>Number(m));l?r.insertBefore(i,l):r.appendChild(i),i.dataset.tabId=m;const h=i.querySelector("a");h&&(h.role="menuitem"),d.style.visibility="hidden"}})},{root:t,threshold:1});n.forEach(s=>c.observe(s))});u(".bz-sidebar-drawer",e=>{const t=e.querySelector("input");if(!t)return;const n=document.querySelector(`label[role="button"][for="${t.id}"]`);e.querySelectorAll("a[href]").forEach(o=>{o.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),t.checked=!1,o.click())})}),t.addEventListener("change",()=>{if(t.checked){const o=k(e);if(o.length===0)return;setTimeout(()=>o[0].focus(),10)}}),e.addEventListener("keydown",o=>{if(t.checked){if(o.key==="Escape")t.checked=!1,n?.focus();else if(o.key==="Tab"){const r=k(e),c=r[0],s=r[r.length-1];o.shiftKey?document.activeElement===c&&(o.preventDefault(),s.focus()):document.activeElement===s&&(o.preventDefault(),c.focus())}}})});const k=e=>Array.from(e.querySelectorAll(["a[href]","summary","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","))).filter(t=>{if(t.offsetParent===null)return!1;const n=t.closest("details");return!(n&&!n.open&&!t.matches("summary"))});u(".bz-sidebar-toc",e=>{const t=e.querySelectorAll("a[href^='#']:not([href='#'])"),n=Array.from(t).map(r=>document.getElementById(r.hash.slice(1))).filter(r=>r!==null).reverse(),o=()=>{const r=n.find(c=>c.getBoundingClientRect().top<150)??n.at(-1);t.forEach(c=>c.classList.toggle("current",c.hash===`#${r?.id}`))};return o(),window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)});u(".bz-theme-switcher",e=>{const t=e.querySelector("button");if(!t)return;const n=()=>{const o=document.documentElement.dataset.theme===b.LIGHT?b.DARK:b.LIGHT;t.ariaLabel=`Switch to ${o} mode`,t.dataset.tooltip=t.ariaLabel};n(),t.addEventListener("click",()=>{I(),n()})});const L=new URL(document.documentElement.dataset.content_root||"./",window.location.href).pathname,T=window.location.pathname.startsWith(L)?window.location.pathname.slice(L.length):"";u(".bz-version-switcher",e=>{const t=e.querySelector("button"),n=t?.querySelector("span"),o=e.querySelector("ul"),r=t?.dataset.current,c=t?.dataset.url;!t||!n||!o||!r||!c||fetch(c).then(s=>{if(!s.ok)throw new Error(`Failed to fetch versions from ${c}`);return s.json()}).then(s=>{Array.isArray(s)&&(o.innerHTML="",s.forEach(a=>{const d=document.createElement("li");if(o.appendChild(d),a.version===r)d.innerHTML=`<span class="current">${a.name}</span>`,n.textContent=a.name;else{const m=new URL(a.url,window.location.href),i=new URL(T,m).href,l=document.createElement("a");d.appendChild(l),l.href=i,l.role="menuitem",l.textContent=a.name,l.addEventListener("click",h=>{h.preventDefault(),fetch(i,{method:"HEAD"}).then(w=>window.location.href=w.ok?i:a.url).catch(()=>window.location.href=a.url)})}}))}).catch(s=>console.error("Version switcher error:",s))});
