<!-- Import Form Dynamic Section Template -->
<div id="import-form-dynamic">
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Repository Path</label>
        <div class="relative">
            <input type="text" name="path" id="import-path" required 
                   {% if path %}value="{{ path }}"{% endif %}
                   class="input-modern mt-1"
                   placeholder="/repos/" autocomplete="off">
            <div id="import-path-dropdown" class="absolute z-10 w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg mt-1 hidden">
            </div>
        </div>
    </div>
    
    {% if show_encryption_info %}
    <!-- Encryption info display -->
    <div id="encryption-info" class="p-3 bg-blue-50 border border-blue-200 rounded-lg">
        <div class="flex items-center">
            <svg class="w-4 h-4 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
            </svg>
            <span id="encryption-text" class="text-sm text-blue-700">{{ preview }}</span>
        </div>
    </div>
    {% else %}
    <!-- Encryption info display (hidden by default) -->
    <div id="encryption-info" class="hidden p-3 bg-blue-50 border border-blue-200 rounded-lg">
        <div class="flex items-center">
            <svg class="w-4 h-4 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
            </svg>
            <span id="encryption-text" class="text-sm text-blue-700"></span>
        </div>
    </div>
    {% endif %}
    
    {% if show_passphrase %}
    <!-- Passphrase field -->
    <div id="passphrase-field" class="space-y-1">
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Passphrase</label>
        <input type="password" name="passphrase" class="input-modern mt-1">
    </div>
    {% else %}
    <!-- Passphrase field (hidden by default) -->
    <div id="passphrase-field" class="hidden">
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Passphrase</label>
        <input type="password" name="passphrase" class="input-modern mt-1">
    </div>
    {% endif %}
    
    {% if show_keyfile %}
    <!-- Keyfile field -->
    <div id="keyfile-field" class="space-y-1">
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Keyfile</label>
        <input type="file" name="keyfile" accept=".key" class="input-modern mt-1">
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">Upload the Borg keyfile (usually has .key extension)</p>
    </div>
    {% else %}
    <!-- Keyfile field (hidden by default) -->
    <div id="keyfile-field" class="hidden">
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Keyfile</label>
        <input type="file" name="keyfile" accept=".key" class="input-modern mt-1">
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">Upload the Borg keyfile (usually has .key extension)</p>
    </div>
    {% endif %}
    
    {% if enable_submit %}
    <button type="submit" id="import-submit" class="w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 flex items-center justify-center">
        <span id="import-button-text">Import Repository</span>
    </button>
    {% else %}
    <button type="submit" id="import-submit" disabled class="w-full bg-gray-400 text-white px-4 py-2 rounded-md cursor-not-allowed flex items-center justify-center">
        <span id="import-button-text">Select a repository first</span>
    </button>
    {% endif %}
</div>