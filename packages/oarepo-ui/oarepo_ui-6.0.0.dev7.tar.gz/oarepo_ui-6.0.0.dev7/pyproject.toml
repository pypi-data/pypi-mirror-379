[project]
name = "oarepo-ui"
dynamic = ["version"]
description = "UI module for invenio 3.5+"
readme = "README.md"
license = "MIT"
dependencies = [
    "oarepo[rdm,tests]>=13,<15",
    "oarepo-runtime>=2.0.0dev0,<3.0.0",
    "jinja2-simple-tags",
    "frozendict",
    "jinjax>=0.60,<1.0.0",
    "deepmerge>=2.0",
    "python-dotenv>=1.1.1"
]
requires-python = ">=3.13,<3.14"

[project.urls]
Homepage = "https://github.com/oarepo/oarepo-ui"


[project.optional-dependencies]
dev = [
    "pytest>=7.1.2",
]
tests = [
    "pytest>=7.1.2",
]
workflows = [
    "oarepo-workflows"
]
oarepo13= [
    "oarepo>=13.0.0,<14.0.0"
]
oarepo14= [
    "oarepo>=14.0.0,<15.0.0"
]


[project.entry-points."invenio_base.apps"]
oarepo_ui = "oarepo_ui.ext:OARepoUIExtension"

[project.entry-points."oarepo_ui.extensions"]
default = "oarepo_ui._components:DefaultUIExtensionConfig"

[project.entry-points."invenio_i18n.translations"]
oarepo_ui_messages = "oarepo_ui"

[project.entry-points."invenio_assets.webpack"]
oarepo_ui_theme = "oarepo_ui.theme.webpack:theme"

[project.entry-points."invenio_base.blueprints"]
oarepo_ui = "oarepo_ui.views:create_blueprint"
# just to have html templates available. Does not register anything else
rdm_templates = "oarepo_ui.views:create_rdm_templates_dummy_blueprint"

[project.entry-points."invenio_base.finalize_app"]
oarepo_ui = "oarepo_ui.views:finalize_app"

[project.entry-points."oarepo.cli"]
less = "oarepo_ui.cli.less:less"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.version]
path = "oarepo_ui/__init__.py"

[tool.hatch.build.targets.sdist]
include = [
    "/oarepo_ui",
]

[tool.pytest.ini_options]
    testpaths = [
        "tests"
    ]

[tool.hatch.metadata]
allow-direct-references = true


