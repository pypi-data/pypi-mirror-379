#
# This file was generated from the asynchronous client at doi.py by generate_synchronous_client.sh
# Do not edit this file directly, instead edit the original file and regenerate this file.
#


"""Resolve DOIs to URLs."""

from yarl import URL

from ..config import Config
from .connection import SyncConnection


def resolve_doi(connection: SyncConnection, doi: str, config: Config) -> str:
    """Resolve a DOI to a record URL."""
    datacite_url = config.datacite_url or "https://api.datacite.org"
    url = URL(f"{datacite_url}/dois/{doi}")
    data = connection.get(url=url, result_class=dict)
    return data["data"]["attributes"]["url"]

