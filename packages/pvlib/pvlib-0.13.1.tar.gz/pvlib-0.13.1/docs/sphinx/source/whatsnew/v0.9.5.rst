.. _whatsnew_0950:


v0.9.5 (March 18, 2023)
-----------------------

Starting with this version, new releases are no longer distributed through
the ``pvlib`` `conda channel <https://anaconda.org/pvlib/pvlib>`_.  We recommend
``conda`` users install from the ``conda-forge`` channel instead (see
:ref:`installation`).


Enhancements
~~~~~~~~~~~~
* Added the optional ``string_factor`` parameter to
  :py:func:`pvlib.snow.loss_townsend`. (:issue:`1636`, :pull:`1653`)
* Added optional ``n_ar`` parameter to :py:func:`pvlib.iam.physical` to
  support an anti-reflective coating. (:issue:`1501`, :pull:`1616`)
* :py:func:`~pvlib.irradiance.boland` is another diffuse fraction, DF,
  estimation method similar to Erbs but uses a single logistic exponential
  correlation between DF and clearness index, kt, that is continuously
  differentiable and bounded between zero and one. (:pull:`1179`)
* Add ``model='gueymard2003'``, the airmass model used for REST and REST2,
  to :py:func:`~pvlib.atmosphere.get_relative_airmass`. (:pull:`1655`)
* Added an optional ``model`` parameter to
  :py:func:`pvlib.bifacial.infinite_sheds.get_irradiance` and
  :py:func:`pvlib.bifacial.infinite_sheds.get_irradiance_poa`
  to enable use of the hay-davies sky diffuse irradiance model
  instead of the default isotropic model. (:pull:`1668`)
* Added an optional ``vectorize`` parameter to 
  :py:func:`pvlib.bifacial.infinite_sheds.get_irradiance` and
  :py:func:`pvlib.bifacial.infinite_sheds.get_irradiance_poa` which,
  when set to ``True``, enables faster calculation but with increased
  memory usage. (:issue:`1680`, :pull:`1682`)
* Update the ADR inverter model parameter database by appending the ADR equivalents of all
  inverters in the current (2019) Sandia inverter model parameter database. (:pull:`1695`)
* Use `Horner's Method <https://en.wikipedia.org/wiki/Horner%27s_method>`_
  to evaluate polynomials in :py:func:`~pvlib.irradiance.disc`, may
  decrease runtime by 20%. (:issue:`1180`, :pull:`1183`)

Bug fixes
~~~~~~~~~
* Added a limit to :py:func:`pvlib.snow.loss_townsend` to guard against
  incorrect loss results for systems that are near the ground. (:issue:`1636`,
  :pull:`1653`)
* Fixed incorrect mapping of requested parameters names when using
  :py:func:`pvlib.iotools.get_psm3`.
  Also fixed the random reordering of the dataframe columns.
  (:issue:`1629`, :issue:`1647`, :pull:`1648`)
* When using ``utc_time_range`` with :py:func:`pvlib.iotools.read_ecmwf_macc`,
  the time index subset is now selected with ``nearest`` instead of ``before``
  and ``after`` for consistency with ``cftime>=1.6.0``. (:issue:`1609`, :pull:`1656`)
* :py:func:`~pvlib.ivtools.sdm.pvsyst_temperature_coeff` no longer raises
  a scipy deprecation warning (and is slightly more accurate). (:issue:`1644`, :pull:`1674`)

Testing
~~~~~~~
* Added Python 3.11 to test suite. (:pull:`1582`)
* Updated PSM3 test data files to match the new version 3.2.2 data returned
  by the PSM3 API. (:issue:`1591`, :pull:`1652`)
* Testing :py:func:`pvlib.pvsystem.singlediode`, :py:func:`pvlib.pvsystem.v_from_i`,
  and :py:func:`pvlib.pvsystem.i_from_v` against precisely generated IV curve data.
  (:issue:`411`, :pull:`1573`)

Documentation
~~~~~~~~~~~~~
* Remove LGTM.com integration. (:issue:`1550`, :pull:`1651`)

Benchmarking
~~~~~~~~~~~~~
* Added benchmarks for :py:mod:`pvlib.bifacial.infinite_sheds`. (:pull:`1627`)

Requirements
~~~~~~~~~~~~
* Removed unnecessary ``nose`` test requirement. (:pull:`1637`)

Contributors
~~~~~~~~~~~~
* Kevin Anderson (:ghuser:`kanderso-nrel`)
* Will Holmgren (:ghuser:`wholmgren`)
* Cliff Hansen (:ghuser:`cwhanse`)
* Adam R. Jensen (:ghuser:`adamrjensen`)
* Pratham Chauhan (:ghuser:`ooprathamm`)
* Karel De Brabandere (:ghuser:`kdebrab`)
* Mark Mikofski (:ghuser:`mikofski`)
* Anton Driesse (:ghuser:`adriesse`)
* Michael Deceglie (:ghuser:`mdeceglie`)
* Saurabh Aneja (:ghuser:`spaneja`)
* John Moseley (:ghuser:`johnMoseleyArray`)
* Areeba Turabi (:ghuser:`aturabi`)
* Mark Campanelli (:ghuser:`markcampanelli`)
* Taos Transue (:ghuser:`reepoi`)
* Tim Townsend
* Tom Arjannikov (:ghuser:`Arjannikov`)
