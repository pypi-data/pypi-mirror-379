setup:
  output_directories:
    daily: "diags/daily"
    monthly: "diags/monthly"
    annual: "diags/annual"

  canesm_version: "6.0"
  file_format: "netcdf4"

  stages:
    - daily
    - monthly
    - annual


daily:
  reuse: monthly
  variables:
    - GT:
        metadata:
          long_name: "Daily mean ground temperature aggregated over all tiles"
          units: "K"


# test that metadata is updated on a previously used variable
monthly:
  variables:
    - GT:
        metadata:
          long_name: "Monthly mean ground temperature aggregated over all tiles"
          units: "K"
          max: True
          min: True
    - ST:
        compute: "GT * 5"
        metadata:
          comment: "scaled GT data"

# test that metadata is not automatically propagated to reused variables
annual:
  reuse: monthly
  variables:
    - GT
