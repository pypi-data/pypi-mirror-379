<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
<title>FIEライブラリ: ツール</title>
<link href="fvalg-prod.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 作成： Doxygen 1.5.6-FASTSP-p2 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">
<h1>ツール<br>
<small>
[<a class="el" href="group__fie__region__base.html">リージョン処理</a>]</small>
</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>関数</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__region__tools.html#g0460f8774b5d7f2338bb1e53643fa9b4">fnFIE_calc_nearest_pixel_region_excludes</a> (FHANDLE hreg, FHANDLE hmap, INT mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">最も近いリージョン外のピクセル位置を格納した座標変換マップを作成  <a href="#g0460f8774b5d7f2338bb1e53643fa9b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__region__tools.html#g5eeb87cb85c0a498449a116f53f8e54d">fnFIE_region_fill</a> (FHANDLE hSrcReg, FHANDLE *hDstReg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">リージョンの穴を塗りつぶす処理  <a href="#g5eeb87cb85c0a498449a116f53f8e54d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__region__tools.html#gad4fa4b0b7f4d1f881e135e8df6efc55">fnFIE_region_includes_xy</a> (FHANDLE hSrcReg, DOUBLE x, DOUBLE y, INT *result)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">リージョンが指定点を含むかの判定  <a href="#gad4fa4b0b7f4d1f881e135e8df6efc55"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__region__tools.html#g2e7f492afdacb909e91ef6b7b350e434">fnFIE_region_is_overlaped</a> (FHANDLE hReg1, FHANDLE hReg2, INT *result)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">リージョン同士が重なりを持つかの判定  <a href="#g2e7f492afdacb909e91ef6b7b350e434"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="structF__RUNLENGTH.html">F_RUNLENGTH</a> *FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__region__tools.html#g4b52bb180e10b2583ef717ad20bf4a52">fnFIE_region_get_runlength</a> (FHANDLE hReg, UINT *uipNum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">リージョンのラン配列のポインタを取得  <a href="#g4b52bb180e10b2583ef717ad20bf4a52"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__region__tools.html#gac18353e57dce0cffbfa805715d2d5c6">fnFIE_region_set_runlength</a> (FHANDLE hReg, const <a class="el" href="structF__RUNLENGTH.html">F_RUNLENGTH</a> *pRuns, UINT uiRunNum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">リージョンオブジェクトのランレングスを設定する  <a href="#gac18353e57dce0cffbfa805715d2d5c6"></a><br></td></tr>
</table>
<hr><h2>関数</h2>
<a class="anchor" name="g0460f8774b5d7f2338bb1e53643fa9b4"></a><!-- doxytag: member="fie_calc_nearest_pixel_region_excludes.c::fnFIE_calc_nearest_pixel_region_excludes" ref="g0460f8774b5d7f2338bb1e53643fa9b4" args="(FHANDLE hreg, FHANDLE hmap, INT mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_calc_nearest_pixel_region_excludes           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hreg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
最も近いリージョン外のピクセル位置を格納した座標変換マップを作成 
<p>
リージョン内の注目するピクセル位置から、リージョンに属さない最も近いピクセル位置を計算し、 マップ画像 <em>hmap</em> に出力します。マップ画像は、 <a class="el" href="group__fie__geometric__transform.html#g599d687f04058cc75345e19f1f9c96ab" title="座標変換マップに従って座標を変換する">fnFIE_geotrans_warpping()</a> で利用されます。 リージョン外部では、自身のピクセル位置を出力します。<br>
 <br>
 本関数を利用すると、リージョンの境界部分でもリージョン内の輝度値に影響されずにフィルタ処理を行う といったことが可能となります。詳細は、下記使用例を参照してください。<br>
 <br>
 <em>hmap</em> には、画素タイプが F_IMG_DOUBLE または F_IMG_FLOAT 、チャネル数が２の画像オブジェクトを指定し ます。 <em>hmap</em> のチャネル０には、 x 座標、チャネル１には、 y 座標が出力されます。<br>
 <br>
 距離定義は <em>mode</em> で指定します。距離定義の詳細は、 <a class="el" href="group__fie__filter.html#gcd46fcca5899a9dac2a6adede9b5aae3" title="２値画像の距離変換を行う">fnFIE_distance_transform()</a> を参照してください。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hreg</em>&nbsp;</td><td>入力REGIONハンドル </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>hmap</em>&nbsp;</td><td>マップ画像(type:float, double, channels:2)</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mode</em>&nbsp;</td><td>モード f_distance_transform_mode<ul>
<li>F_DT_CITY_BLOCK ４近傍距離</li><li>F_DT_CHESS_BOARD ８近傍距離</li><li>F_DT_EUCLIDEAN_EXACT ユークリッド距離</li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトハンドルが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_IMAGE</em>&nbsp;</td><td>不正な画像オブジェクトハンドルが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>パラメータ異常 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_CALC_IMPOSSIBLE</em>&nbsp;</td><td>計算不可<ul>
<li>マップ全体がリージョンに含まれる場合 </li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NOMEMORY</em>&nbsp;</td><td>メモリ不足エラー </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>参考文献: </b></dt><dd></dd></dl>
<ul>
<li>G. Borgefors, "Distance Transformations in Digital Images," Computer Vision, Graphics, and Image Processing, vol. 34, pp. 344-371, 1986.</li><li>C. R. Maurer, Rensheng Qi and V. Raghavan, "A linear time algorithm for computing exact Euclidean distance transforms of binary images in arbitrary dimensions," in IEEE Transactions on Pattern Analysis and Machine Intelligence, vol. 25, no. 2, pp. 265-270, Feb. 2003.</li></ul>
<h2><a class="anchor" name="smp_excludes">
　　　　　　　　　　　　　　</a></h2>
<dl class="user" compact><dt><b>動作説明:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="preprocessor">#include "fie.h"</span>
<span class="comment">/*</span>
<span class="comment">　本サンプルコードはfnFIE_calc_nearest_pixel_region_excludesの動作を説明する物です。</span>
<span class="comment"></span>
<span class="comment"> まず正方形の画像を田の字のように4つの輝度で塗ります。その後中央に4つの輝度の場所をまたがるようなリージョンを生成します。</span>
<span class="comment"> このリージョンを構成する画素それぞれから最も近いリージョン外画素を計算し、座標変換マップを作成します。</span>
<span class="comment"> このマップをもとにリージョン内の画素を最も近いリージョン外画素の輝度で塗ります。</span>
<span class="comment"></span>
<span class="comment"> 出力はリージョンを書き込んだ入力画像とリージョンを塗った処理後画像です。</span>
<span class="comment">*/</span>
VOID paint_region_with_outer_dens()
{
    INT     width = 200, height = 200;
    FHANDLE hsrc = NULL;
    FHANDLE hreg = NULL;
    FHANDLE hmap = NULL;
    FHANDLE hdst = NULL;
    <a class="code" href="structPNT__T.html" title="２次元整数座標指定用構造体(INT)">PNT_T</a>   offset = { 0, 0 };
    DOUBLE  val;
    <a class="code" href="structDPNT__T.html" title="２次元座標指定用構造体(DOUBLE)">DPNT_T</a>  start;

    <span class="comment">//画像の確保</span>
    hsrc = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb290a3f243e6f7dfdd220061fe9077e98" title="8bit濃淡画像">F_IMG_UC8</a>, 1, width, height);
    hmap = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb0a7d3a28a440ff75d1c59831807f9426" title="倍精度浮動小数点画像">F_IMG_DOUBLE</a>, 2, width, height);
    hdst = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb290a3f243e6f7dfdd220061fe9077e98" title="8bit濃淡画像">F_IMG_UC8</a>, 1, width, height);

    <span class="comment">//輝度の違う100x100のタイル4枚を繋げた正方形の画像を生成</span>
    <span class="comment">//濃度値と左上の座標を設定</span>
    val = 0;
    start.<a class="code" href="structDPNT__T.html#34727f2435dc53ff41a66def5d34e49e">x</a> = 0;
    start.<a class="code" href="structDPNT__T.html#e121a1fed9bcab2259dccc2f4002376f">y</a> = 0; 
    <a class="code" href="group__fie__img__draw.html#g862787acd9a7fc7efec46816c6090a8c" title="長方形の描画">fnFIE_draw_rect</a>(hsrc, &amp;val, <a class="code" href="group__fie__img__draw.html#gg7c9f210cb6c3535d4fc6125964250e9efbf41a862ecd369b6473b8a25371916d" title="図形の内側を塗りつぶし">F_DRAW_FILL_IN</a>, start, 100, 100, start, 0.0);

    <span class="comment">//濃度値と左上の座標を設定</span>
    val = 70;
    start.<a class="code" href="structDPNT__T.html#34727f2435dc53ff41a66def5d34e49e">x</a> = width / 2 + 1;
    start.<a class="code" href="structDPNT__T.html#e121a1fed9bcab2259dccc2f4002376f">y</a> = height / 2 + 1;  
    <a class="code" href="group__fie__img__draw.html#g862787acd9a7fc7efec46816c6090a8c" title="長方形の描画">fnFIE_draw_rect</a>(hsrc, &amp;val, <a class="code" href="group__fie__img__draw.html#gg7c9f210cb6c3535d4fc6125964250e9efbf41a862ecd369b6473b8a25371916d" title="図形の内側を塗りつぶし">F_DRAW_FILL_IN</a>, start, 100, 100, start, 0.0);
    
    <span class="comment">//濃度値と左上の座標を設定</span>
    val = 140;
    start.<a class="code" href="structDPNT__T.html#34727f2435dc53ff41a66def5d34e49e">x</a> = width / 2 + 1;
    start.<a class="code" href="structDPNT__T.html#e121a1fed9bcab2259dccc2f4002376f">y</a> = 0;               
    <a class="code" href="group__fie__img__draw.html#g862787acd9a7fc7efec46816c6090a8c" title="長方形の描画">fnFIE_draw_rect</a>(hsrc, &amp;val, <a class="code" href="group__fie__img__draw.html#gg7c9f210cb6c3535d4fc6125964250e9efbf41a862ecd369b6473b8a25371916d" title="図形の内側を塗りつぶし">F_DRAW_FILL_IN</a>, start, 100, 100, start, 0.0);
    
    <span class="comment">//濃度値と左上の座標を設定</span>
    val = 210;
    start.<a class="code" href="structDPNT__T.html#34727f2435dc53ff41a66def5d34e49e">x</a> = 0;
    start.<a class="code" href="structDPNT__T.html#e121a1fed9bcab2259dccc2f4002376f">y</a> = height / 2 + 1; 
    <a class="code" href="group__fie__img__draw.html#g862787acd9a7fc7efec46816c6090a8c" title="長方形の描画">fnFIE_draw_rect</a>(hsrc, &amp;val, <a class="code" href="group__fie__img__draw.html#gg7c9f210cb6c3535d4fc6125964250e9efbf41a862ecd369b6473b8a25371916d" title="図形の内側を塗りつぶし">F_DRAW_FILL_IN</a>, start, 100, 100, start, 0.0);

    <span class="comment">//画像の中心に±40画素の白いリージョンを書き込む</span>
    start.<a class="code" href="structDPNT__T.html#34727f2435dc53ff41a66def5d34e49e">x</a> = width / 2 - 40;
    start.<a class="code" href="structDPNT__T.html#e121a1fed9bcab2259dccc2f4002376f">y</a> = height / 2 - 40;
    hreg = <a class="code" href="group__fie__region__create.html#gcc0da34f7bc79d63c33de8bac510b3bc" title="長方形リージョンを作成する関数">fnFIE_create_region_rect</a>(start.<a class="code" href="structDPNT__T.html#34727f2435dc53ff41a66def5d34e49e">x</a>, start.<a class="code" href="structDPNT__T.html#e121a1fed9bcab2259dccc2f4002376f">y</a>, 80, 80);
    <a class="code" href="group__fie__region__coding.html#g29393624aea303cf1a902418206b7b94" title="リージョンを画像に描画する">fnFIE_region_decode</a>(hreg, hsrc, offset, 255);

    <span class="comment">//リージョン外の最も近い画素を計算</span>
    <a class="code" href="group__fie__region__tools.html#g0460f8774b5d7f2338bb1e53643fa9b4" title="最も近いリージョン外のピクセル位置を格納した座標変換マップを作成...">fnFIE_calc_nearest_pixel_region_excludes</a>(hreg, hmap, F_DT_CITY_BLOCK);

    <span class="comment">//最も近い画素の輝度値で、リージョン内の画素を塗り替える</span>
    <a class="code" href="group__fie__geometric__transform.html#g599d687f04058cc75345e19f1f9c96ab" title="座標変換マップに従って座標を変換する">fnFIE_geotrans_warpping</a>(hsrc, hmap, hdst, NULL, TRUE, <a class="code" href="group__fie__std__operation__base.html#gge751127412e5ec90efaea361f0c4fc8e14f07e347ff74354ebf9cfcf72f51306" title="最近傍法">F_SAMPLING_NN</a>);

    <span class="comment">//画像の保存</span>
    <a class="code" href="group__fie__file__image.html#g5642cf383268870443617c385e28c18e" title=" &amp;lt;img class= inline-img src=&amp;quot;oss.png&amp;quot; alt=&amp;quot;[[OSS]]&amp;quot;&amp;gt;  PNGファイルの...">fnFIE_save_png</a>(<span class="stringliteral">"src.png"</span>, hsrc, -1);
    <a class="code" href="group__fie__file__image.html#g5642cf383268870443617c385e28c18e" title=" &amp;lt;img class= inline-img src=&amp;quot;oss.png&amp;quot; alt=&amp;quot;[[OSS]]&amp;quot;&amp;gt;  PNGファイルの...">fnFIE_save_png</a>(<span class="stringliteral">"dst.png"</span>, hdst, -1);

    <span class="comment">// オブジェクトの解放</span>
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hsrc);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hmap);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hreg);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hdst);
}

INT main(VOID)
{
    <span class="comment">// ライブラリのセットアップ</span>
    <a class="code" href="group__fie__libinit.html#g12250eabf0163ce206c4caa007b33a80" title="FIEライブラリの初期化">fnFIE_setup</a>();

    <span class="comment">// 処理本体</span>
    paint_region_with_outer_dens();

    <span class="comment">// ライブラリの終了処理</span>
    <a class="code" href="group__fie__libinit.html#gcf71693a1b50ed7ce9947ac8179cbfc3" title="FIEライブラリの終了処理">fnFIE_teardown</a>();

    <span class="keywordflow">return</span> 0;
}
</pre></div></dd></dl>
<dl class="user" compact><dt><b>処理結果例:</b></dt><dd><table class="layoutTable">
<tr>
<td><div align="center">
<img src="fie_calc_nearest_pix_reg_excludes_smp2_src.png" alt="fie_calc_nearest_pix_reg_excludes_smp2_src.png">
<p><strong>(a)</strong></p></div>
  </td><td><div align="center">
<img src="fie_calc_nearest_pix_reg_excludes_smp2_dst.png" alt="fie_calc_nearest_pix_reg_excludes_smp2_dst.png">
<p><strong>(b)</strong></p></div>
  </td><td><div align="center">
<img src="fie_calc_nearest_pix_reg_excludes_smp2_exm.png" alt="fie_calc_nearest_pix_reg_excludes_smp2_exm.png">
<p><strong>(c)</strong></p></div>
   </td></tr>
</table>
</dd></dl>
(a)入力画像。白の部分はリージョンとなっている。<br>
 (b)出力画像。リージョン部分が最も近いリージョン外画素の輝度値で塗られた状態になっている。<br>
 (c)参考画像。右側の赤線のように各画素が最も近い画素を参照して輝度値を獲得する。<br>
 　　結果として左側に示すようにA⇒1,B⇒2,C⇒3,D⇒4のように輝度値を参照し、(b)に示す画像になる。<h2><a class="anchor" name="smp_excludes2">
　　　</a></h2>
<dl class="user" compact><dt><b>使用例:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">//エラー処理は省略していますので、注意してください</span>
<span class="preprocessor">#include "fie.h"</span>

<span class="comment">/*</span>
<span class="comment">リージョン内が高輝度な入力画像に対し、</span>
<span class="comment">fnFIE_calc_nearest_pixel_region_excludes,</span>
<span class="comment">fnFIE_geotrans_warpping</span>
<span class="comment">を行った後に、</span>
<span class="comment">平均化フィルタをかけ、元画像のリージョン部分を転送します。</span>
<span class="comment">このような処理により、リージョンの境界部分でも</span>
<span class="comment">高輝度部分の影響を受けずに平滑化処理を行うことができます。</span>
<span class="comment">*/</span>
VOID average_filter_outside_region()
{
    INT width = 200, height = 200;
    FHANDLE hsrc = NULL;
    FHANDLE hmap = NULL;
    FHANDLE hdst = NULL;
    FHANDLE hcomp = NULL;
    FHANDLE hwork = NULL;
    FHANDLE hreg = NULL;
    FHANDLE hmask = NULL;
    <a class="code" href="structDPNT__T.html" title="２次元座標指定用構造体(DOUBLE)">DPNT_T</a> center = { 100, 100 };
    <a class="code" href="structPNT__T.html" title="２次元整数座標指定用構造体(INT)">PNT_T</a> offset = { 0, 0 };

    <span class="comment">// 画像の領域を確保</span>
    hsrc = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb290a3f243e6f7dfdd220061fe9077e98" title="8bit濃淡画像">F_IMG_UC8</a>, 1, width, height);
    hmap = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb0a7d3a28a440ff75d1c59831807f9426" title="倍精度浮動小数点画像">F_IMG_DOUBLE</a>, 2, width, height);
    hdst = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb290a3f243e6f7dfdd220061fe9077e98" title="8bit濃淡画像">F_IMG_UC8</a>, 1, width, height);
    hcomp = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb290a3f243e6f7dfdd220061fe9077e98" title="8bit濃淡画像">F_IMG_UC8</a>, 1, width, height);
    hmask = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb8e708cf83f7fd2942b40f45fec46da92" title="２値画像(1bit/1画素)">F_IMG_BIN</a>, 1, width, height);
    hwork = <a class="code" href="group__fie__image.html#ge1fb319dbc93c5bbaba49d39904ca491" title="ルート画像の確保">fnFIE_img_root_alloc</a>(<a class="code" href="group__fie__image.html#ggd5e633c5daa48d827c052eb173c0effb290a3f243e6f7dfdd220061fe9077e98" title="8bit濃淡画像">F_IMG_UC8</a>, 1, width, height);

    <span class="comment">// 中心(100,100), 半径50の円形リージョンを作成</span>
    hreg = <a class="code" href="group__fie__region__create.html#g1c18c632f70571583ec21c356524a977" title="円形リージョンを作成する関数">fnFIE_create_region_circle</a>(center, 50);

    <span class="comment">// 入力画像の作成</span>
    <span class="comment">// ここでは、輝度100の一様な灰色の面に上記リージョンを輝度200で書き込み、ノイズを付加した画像を作成する</span>
    <a class="code" href="group__fie__std__operation.html#g16f145c381736241d6a986ab00e7f310" title="画像クリア">fnFIE_img_clear</a>(hwork, 100);
    <a class="code" href="group__fie__region__coding.html#g29393624aea303cf1a902418206b7b94" title="リージョンを画像に描画する">fnFIE_region_decode</a>(hreg, hwork, offset, 200);
    <a class="code" href="group__fie__filter.html#g1b91825599c366d70463a6aa86134808" title=" &amp;lt;img class= inline-img src=&amp;quot;oss.png&amp;quot; alt=&amp;quot;[[OSS]]&amp;quot;&amp;gt;  uniform...">fnFIE_add_noise_uniform</a>(hwork, hsrc, -40, 40, 0);
    
    <span class="comment">// 最も近いリージョン外のピクセルを計算</span>
    <a class="code" href="group__fie__region__tools.html#g0460f8774b5d7f2338bb1e53643fa9b4" title="最も近いリージョン外のピクセル位置を格納した座標変換マップを作成...">fnFIE_calc_nearest_pixel_region_excludes</a>(hreg, hmap, F_DT_CITY_BLOCK);

    <span class="comment">// 最も近いリージョン外のピクセルの輝度値を出力</span>
    <span class="comment">// リージョン外はそのまま</span>
    <a class="code" href="group__fie__geometric__transform.html#g599d687f04058cc75345e19f1f9c96ab" title="座標変換マップに従って座標を変換する">fnFIE_geotrans_warpping</a>(hsrc, hmap, hwork, NULL, TRUE, <a class="code" href="group__fie__std__operation__base.html#gge751127412e5ec90efaea361f0c4fc8e14f07e347ff74354ebf9cfcf72f51306" title="最近傍法">F_SAMPLING_NN</a>);
    
    <span class="comment">// 平均化フィルタ(15x15)をかける</span>
    <span class="comment">// 比較のため、元画像にそのままかけた画像も作成</span>
    <a class="code" href="group__fie__filter.html#g946bc69fe30c2c51d730bf1a2ddcc86c" title="平均化フィルタ(M×N)">fnFIE_averageMxN</a>(hwork, hdst, 15, 15, <a class="code" href="group__fie__std__operation.html#gg5d19240b9c8e02c83b5d8b40540ecd4f568bc404460c354f6e05d89439f24c6f" title="端延長モード">F_BORDER_CONTINUOUS</a>, 0);
    <a class="code" href="group__fie__filter.html#g946bc69fe30c2c51d730bf1a2ddcc86c" title="平均化フィルタ(M×N)">fnFIE_averageMxN</a>(hsrc, hcomp, 15, 15, <a class="code" href="group__fie__std__operation.html#gg5d19240b9c8e02c83b5d8b40540ecd4f568bc404460c354f6e05d89439f24c6f" title="端延長モード">F_BORDER_CONTINUOUS</a>, 0);
    
    <span class="comment">// リージョンをマスク画像に変換し、元画像をマスク転送</span>
    <a class="code" href="group__fie__std__operation.html#g16f145c381736241d6a986ab00e7f310" title="画像クリア">fnFIE_img_clear</a>(hmask, 0);
    <a class="code" href="group__fie__region__coding.html#g29393624aea303cf1a902418206b7b94" title="リージョンを画像に描画する">fnFIE_region_decode</a>(hreg, hmask, offset, 1);
    <a class="code" href="group__fie__filter__arithm.html#g2c4b90a9325701962aead117a631703f" title="画像マスク転送2">fnFIE_img_mask2</a>(hsrc, hmask, hdst);
    <a class="code" href="group__fie__filter__arithm.html#g2c4b90a9325701962aead117a631703f" title="画像マスク転送2">fnFIE_img_mask2</a>(hsrc, hmask, hcomp);
    
    <span class="comment">// 作成した画像を保存</span>
    <a class="code" href="group__fie__file__image.html#g5642cf383268870443617c385e28c18e" title=" &amp;lt;img class= inline-img src=&amp;quot;oss.png&amp;quot; alt=&amp;quot;[[OSS]]&amp;quot;&amp;gt;  PNGファイルの...">fnFIE_save_png</a>(<span class="stringliteral">"src_img.png"</span>, hsrc, -1);
    <a class="code" href="group__fie__file__image.html#g5642cf383268870443617c385e28c18e" title=" &amp;lt;img class= inline-img src=&amp;quot;oss.png&amp;quot; alt=&amp;quot;[[OSS]]&amp;quot;&amp;gt;  PNGファイルの...">fnFIE_save_png</a>(<span class="stringliteral">"dst_img.png"</span>, hdst, -1); 
    <a class="code" href="group__fie__file__image.html#g5642cf383268870443617c385e28c18e" title=" &amp;lt;img class= inline-img src=&amp;quot;oss.png&amp;quot; alt=&amp;quot;[[OSS]]&amp;quot;&amp;gt;  PNGファイルの...">fnFIE_save_png</a>(<span class="stringliteral">"comp_img.png"</span>, hcomp, -1); 

    <span class="comment">// オブジェクトの解放</span>
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hsrc);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hmap);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hdst);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hcomp);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hwork);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hreg);
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>(hmask);
}

INT main(VOID)
{
    <span class="comment">// ライブラリのセットアップ</span>
    <a class="code" href="group__fie__libinit.html#g12250eabf0163ce206c4caa007b33a80" title="FIEライブラリの初期化">fnFIE_setup</a>();

    <span class="comment">// 処理本体</span>
    average_filter_outside_region();
    
    <span class="comment">// ライブラリの終了処理</span>
    <a class="code" href="group__fie__libinit.html#gcf71693a1b50ed7ce9947ac8179cbfc3" title="FIEライブラリの終了処理">fnFIE_teardown</a>();
    
    <span class="keywordflow">return</span> 0;
}
</pre></div></dd></dl>
<dl class="user" compact><dt><b>処理結果例:</b></dt><dd><table class="layoutTable">
<tr>
<td><div align="center">
<img src="fie_calc_nearest_pix_reg_excludes_smp_src.png" alt="fie_calc_nearest_pix_reg_excludes_smp_src.png">
<p><strong>(a)</strong></p></div>
  </td><td><div align="center">
<img src="fie_calc_nearest_pix_reg_excludes_smp_dst.png" alt="fie_calc_nearest_pix_reg_excludes_smp_dst.png">
<p><strong>(b)</strong></p></div>
  </td><td><div align="center">
<img src="fie_calc_nearest_pix_reg_excludes_smp_comp.png" alt="fie_calc_nearest_pix_reg_excludes_smp_comp.png">
<p><strong>(c)</strong></p></div>
  </td></tr>
</table>
リージョン部分が高輝度な画像に対し、 <a class="el" href="group__fie__region__tools.html#g0460f8774b5d7f2338bb1e53643fa9b4" title="最も近いリージョン外のピクセル位置を格納した座標変換マップを作成...">fnFIE_calc_nearest_pixel_region_excludes()</a> 、 <a class="el" href="group__fie__geometric__transform.html#g599d687f04058cc75345e19f1f9c96ab" title="座標変換マップに従って座標を変換する">fnFIE_geotrans_warpping()</a> を行った後に平均化フィルタをかけ、 元画像のリージョン部分を転送した結果。<br>
 (a)入力画像。円形のリージョン部分が高輝度。<br>
 (b)出力画像。リージョン周辺でも高輝度部分の影響を受けていない。<br>
 (c)比較画像。単に平均化フィルタをかけ、元画像のリージョン部分を転送することによって作成。 リージョン内の高輝度部分の影響で、その周辺の輝度値が上昇している。<br>
 </dd></dl>

</div>
</div><p>
<a class="anchor" name="g5eeb87cb85c0a498449a116f53f8e54d"></a><!-- doxytag: member="fie_region_fill.c::fnFIE_region_fill" ref="g5eeb87cb85c0a498449a116f53f8e54d" args="(FHANDLE hSrcReg, FHANDLE *hDstReg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_region_fill           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hSrcReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FHANDLE *&nbsp;</td>
          <td class="paramname"> <em>hDstReg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
リージョンの穴を塗りつぶす処理 
<p>
本関数は入力リージョン中の穴を塗りつぶす処理を行います。 処理結果リージョンは出力リージョン <em>hDstReg</em> として渡します。<p>
入力リージョンのラン数がゼロの場合は出力リージョンのランもゼロとなり、エラーになりません。 出力リージョンのハンドルはNULLなら新たにリージョン対象のハンドルを作ります。 入力と出力リージョンは同じハンドルでも処理を可能です。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hSrcReg</em>&nbsp;</td><td>入力リージョン </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>hDstReg</em>&nbsp;</td><td>出力リージョン</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NOMEMORY</em>&nbsp;</td><td>メモリ不足で異常終了した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>不正なハンドルが渡された、またリージョンの横サイズは65535以上にあるため、異常終了した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>入力ハンドルはリージョン対象のハンドルではない </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gad4fa4b0b7f4d1f881e135e8df6efc55"></a><!-- doxytag: member="fie_region_relation.c::fnFIE_region_includes_xy" ref="gad4fa4b0b7f4d1f881e135e8df6efc55" args="(FHANDLE hSrcReg, DOUBLE x, DOUBLE y, INT *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_region_includes_xy           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hSrcReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
リージョンが指定点を含むかの判定 
<p>
指定した座標点が、指定したリージョンの内部に含まれるかを判定します。 座標点が含まれるか、含まれないかの結果が <em>result</em> に設定されます。<p>
指定した座標点がリージョンの接点となっている場合、つまりリージョンの境界点を 示していた場合は、リージョンに含まれると判定します。<p>
エラー発生時には、 <em>result</em> の値は変更されません。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hSrcReg</em>&nbsp;</td><td>入力リージョン </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>x</em>&nbsp;</td><td>判定をしたい点のx座標 </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>y</em>&nbsp;</td><td>判定をしたい点のy座標 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>result</em>&nbsp;</td><td>判定結果 座標点は含まれている==1, 座標点は含まれていない==0</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>入力に渡されたパラメータが無効、または不正なため異常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>渡された入力ハンドルが不正なため、異常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g2e7f492afdacb909e91ef6b7b350e434"></a><!-- doxytag: member="fie_region_relation.c::fnFIE_region_is_overlaped" ref="g2e7f492afdacb909e91ef6b7b350e434" args="(FHANDLE hReg1, FHANDLE hReg2, INT *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_region_is_overlaped           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hReg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hReg2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
リージョン同士が重なりを持つかの判定 
<p>
指定したリージョンが、もう一方のリージョンと重なりを持つかを判定します。 重なりを持つか、持たないかの結果が <em>result</em> に設定されます。<p>
指定した二つのリージョンが接している場合は、重なりを持っていないと判定します。<p>
エラー発生時には、 <em>result</em> の値は変更されません。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hReg1</em>&nbsp;</td><td>判定するリージョン1 </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hReg2</em>&nbsp;</td><td>判定するリージョン2 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>result</em>&nbsp;</td><td>判定結果 重なりを持つ==1, 重なりを持たない==0</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>入力に渡されたパラメータが無効、または不正なため異常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>渡された入力ハンドルが不正なため、異常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g4b52bb180e10b2583ef717ad20bf4a52"></a><!-- doxytag: member="fie_region_runlength.c::fnFIE_region_get_runlength" ref="g4b52bb180e10b2583ef717ad20bf4a52" args="(FHANDLE hReg, UINT *uipNum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structF__RUNLENGTH.html">F_RUNLENGTH</a>* FVALGAPI fnFIE_region_get_runlength           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT *&nbsp;</td>
          <td class="paramname"> <em>uipNum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
リージョンのラン配列のポインタを取得 
<p>
リージョンオブジェクトが保持しているのラン配列を取得します。 ラン配列の先頭ポインタが返値に、配列要素数が <em>uipNum</em> にて返されます。 取得されるラン配列はリージョンオブジェクトがメモリ管理を行っているため、 変更することはできません。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hReg</em>&nbsp;</td><td>入力リージョン </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>uipNum</em>&nbsp;</td><td>リージョンのラン配列中のランの数</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ラン配列のポインタ</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>異常終了<ul>
<li>不正なハンドルが渡された</li><li>リージョンのラン配列自身が空配列</li><li>ライセンスエラー</li><li>未初期化エラー </li></ul>
</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gac18353e57dce0cffbfa805715d2d5c6"></a><!-- doxytag: member="fie_region_runlength.c::fnFIE_region_set_runlength" ref="gac18353e57dce0cffbfa805715d2d5c6" args="(FHANDLE hReg, const F_RUNLENGTH *pRuns, UINT uiRunNum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_region_set_runlength           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structF__RUNLENGTH.html">F_RUNLENGTH</a> *&nbsp;</td>
          <td class="paramname"> <em>pRuns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&nbsp;</td>
          <td class="paramname"> <em>uiRunNum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
リージョンオブジェクトのランレングスを設定する 
<p>
既存のリージョンオブジェクト <em>hReg</em> のランレングスを設定します。 <em>hReg</em> には入力ラン <em>pRuns</em> の内容がコピーされます。 <em>pRuns</em> が <em>hReg</em> に関連づけられるわけではありません。 また、画素が重複したランが有ったり、ソートされていなかったりした場合でも 正しく処理可能です。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>hReg</em>&nbsp;</td><td>入力/出力リージョン </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pRuns</em>&nbsp;</td><td>ラン配列のポインタ </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>uiRunNum</em>&nbsp;</td><td>配列中のランの数</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>不正なハンドルが渡されたため、異常終了した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>入力ハンドルがリージョン対象のハンドルではないため、異常終了した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NOMEMORY</em>&nbsp;</td><td>メモリー不足 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1">
<address style="align: right; color: #cccccc;">
	<small>
	Documentation copyright &copy; 2009-2025 TOKYO ELECTRON DEVICE LIMITED. <br>
	Generated on Tue Sep 16 09:08:48 2025 for FIEライブラリ by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.5.6-FASTSP-p2
	</small>
</address>
</body>
</html>
