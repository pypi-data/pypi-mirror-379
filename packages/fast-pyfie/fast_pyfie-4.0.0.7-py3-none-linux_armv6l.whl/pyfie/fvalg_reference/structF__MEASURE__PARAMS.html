<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
<title>FIEライブラリ: 構造体 F_MEASURE_PARAMS</title>
<link href="fvalg-prod.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 作成： Doxygen 1.5.6-FASTSP-p2 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">
<h1>構造体 F_MEASURE_PARAMS<br>
<small>
[<a class="el" href="group__fie__measure__main.html">実行</a>]</small>
</h1><!-- doxytag: class="F_MEASURE_PARAMS" --><hr><a name="_details"></a><h2>説明</h2>
ブローブ解析処理パラメータ 
<p>
<a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> にて使用する、処理パラメータ指定構造体。 <table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>変数</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UINT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structF__MEASURE__PARAMS.html#0a4c84e6c664bfca952d4dc3f77a60d7">max_runs</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">最大ラン数  <a href="#0a4c84e6c664bfca952d4dc3f77a60d7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UINT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structF__MEASURE__PARAMS.html#e80d394dfb1597dfa49ed2570086c2b5">max_blobs</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">最大ブローブ数  <a href="#e80d394dfb1597dfa49ed2570086c2b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structF__MEASURE__PARAMS.html#67b429aad87d40b3c72bedf3f37588da">max_rows</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">最大行数  <a href="#67b429aad87d40b3c72bedf3f37588da"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="group__fie__measure__main.html#gfe80b71496c984d9459048d428fcd746">f_measure_color_mode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structF__MEASURE__PARAMS.html#9ba122ef13d4c79988806461d5484cad">color_mode</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">対象色モード  <a href="#9ba122ef13d4c79988806461d5484cad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UINT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structF__MEASURE__PARAMS.html#35810a826947a74b9d854cbbad6b9ffa">neighborhood</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">連結モード  <a href="#35810a826947a74b9d854cbbad6b9ffa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UDLONG&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structF__MEASURE__PARAMS.html#77b55a99169e94b52d2418685ced159f">precalc_features</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">事前計算特徴量指定  <a href="#77b55a99169e94b52d2418685ced159f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structF__MEASURE__PARAMS.html#7378ebf6a0f848b494126c7dc8f2b2f9">keep_results_after_overflow</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">オーバーフローエラー発生時の結果維持オプション  <a href="#7378ebf6a0f848b494126c7dc8f2b2f9"></a><br></td></tr>
</table>
<hr><h2>構造体</h2>
<a class="anchor" name="0a4c84e6c664bfca952d4dc3f77a60d7"></a><!-- doxytag: member="F_MEASURE_PARAMS::max_runs" ref="0a4c84e6c664bfca952d4dc3f77a60d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT <a class="el" href="structF__MEASURE__PARAMS.html#0a4c84e6c664bfca952d4dc3f77a60d7">F_MEASURE_PARAMS::max_runs</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
最大ラン数 
<p>
ブローブ解析処理における最大ラン数を指定します。 本パラメータに0以外の値を指定すると、ブローブ解析処理の途中で 抽出されたラン数がこの値を超えた場合に、エラーとして中断します。 0を指定すると上限無しとなり、関数内部で自動的に必要な領域の確保を行います。<p>
通常はノイズが少なく、ランの数も安定している画像を処理する場合で、 希に非常にノイズの多い画像（エラー画像）が入ってくるような場合には、 本パラメータを指定しておくと処理の途中でエラー中断させることができるため、 突発的な処理時間の増大を阻止することが出来ます。 
</div>
</div><p>
<a class="anchor" name="e80d394dfb1597dfa49ed2570086c2b5"></a><!-- doxytag: member="F_MEASURE_PARAMS::max_blobs" ref="e80d394dfb1597dfa49ed2570086c2b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT <a class="el" href="structF__MEASURE__PARAMS.html#e80d394dfb1597dfa49ed2570086c2b5">F_MEASURE_PARAMS::max_blobs</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
最大ブローブ数 
<p>
ブローブ解析処理における最大ブローブ数を指定します。 本パラメータに0以外の値を指定すると、ブローブ解析処理の途中で 抽出されたブローブ数がこの値を超えた場合に、エラーとして中断します。 0を指定すると上限無しとなり、関数内部で自動的に必要な領域の確保と再配置を行います。<p>
<a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> を使用する場合に本パラメータに0を指定して上限を設けなかった場合は、 continue時に増えたブローブの数に応じて、メモリの再確保と再配置（コピー）が行われます。 そのため、再配置にかかるコストが処理時間に上乗せされるため、ブローブ数が多くなればなるほど 処理が遅くなります。処理対象画像のおおよそのブローブ数が分かっている場合には、本パラメータ に上限値を設定しておくと <a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> 時に一括してメモリを確保するため、 メモリ再配置に関するコストが無くなり <a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> の処理時間を短縮できる場合があります。<p>
また、 <a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> の実行時には再配置の問題は発生しませんが、 通常はノイズが少なく、ブローブの数も安定している画像を処理する場合で、 希に非常にノイズブローブの多い画像（エラー画像）が入ってくるような場合には、 本パラメータを指定しておくと処理の途中でエラー中断させることができるため、 突発的な処理時間の増大を阻止するこができます。 
</div>
</div><p>
<a class="anchor" name="67b429aad87d40b3c72bedf3f37588da"></a><!-- doxytag: member="F_MEASURE_PARAMS::max_rows" ref="67b429aad87d40b3c72bedf3f37588da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT <a class="el" href="structF__MEASURE__PARAMS.html#67b429aad87d40b3c72bedf3f37588da">F_MEASURE_PARAMS::max_rows</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
最大行数 
<p>
ブローブ解析処理における最大行数を指定します。 値は、0≦max_rows≦65534 の範囲で設定してください。 本パラメータに0以外の値を指定しておくと、fnFIE_measure_continue() の実行時に、 ブローブ解析処理の途中で行数がこの値を超えると、エラーとして中断します。 0を指定すると上限無しとなり、関数内部で自動的に必要な領域の確保と再配置を行います。 但しブローブ解析の処理可能最大行数である65534を超えた場合は、常にエラーとなります。 <a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> のみ使用する場合は、本パラメータは意味を成さないので常に0を指定してください。<p>
<a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> を使用する場合に本パラメータに0を指定して上限を設けなかった場合は、 continue時に増えた行数に応じて、メモリの再確保と再配置（コピー）が行われます。 よって、再配置にかかるコストが処理時間に上乗せされるため、解析済み行数が多くなればなるほど 処理が遅くなります。１面の行数が分かっている場合には、本パラメータに上限値を設定しておくと <a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> 時に一括してメモリを確保するため、メモリ再配置に関するコストが無くなり <a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> の処理時間を短縮できる場合があります。 
</div>
</div><p>
<a class="anchor" name="9ba122ef13d4c79988806461d5484cad"></a><!-- doxytag: member="F_MEASURE_PARAMS::color_mode" ref="9ba122ef13d4c79988806461d5484cad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__fie__measure__main.html#gfe80b71496c984d9459048d428fcd746">f_measure_color_mode</a> <a class="el" href="structF__MEASURE__PARAMS.html#9ba122ef13d4c79988806461d5484cad">F_MEASURE_PARAMS::color_mode</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
対象色モード 
<p>
計測対象の色(濃度値)を指定します。<ul>
<li>F_MEASURE_BLACKFG_WHITEBG 背景が白(1)、前景が黒(0)</li><li>F_MEASURE_WHITEFG_BLACKBG 背景が黒(0)、前景が白(1)</li><li>F_MEASURE_BLACKFG 前景が黒(0)、背景は解析しない</li><li>F_MEASURE_WHITEFG 前景が白(1)、背景は解析しない</li></ul>
<p>
前景・背景共に計測するモードでは、ブローブの親子関係を作成します。 背景を計測しないモードでは、ブローブの親子関係を作成しません。 背景を計測しないモードでは親子関係を作成しないため 処理は高速になりますが、代わりに親子関係を利用する特徴量計算などの 一部の機能が使用不可能となります。 
</div>
</div><p>
<a class="anchor" name="35810a826947a74b9d854cbbad6b9ffa"></a><!-- doxytag: member="F_MEASURE_PARAMS::neighborhood" ref="35810a826947a74b9d854cbbad6b9ffa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT <a class="el" href="structF__MEASURE__PARAMS.html#35810a826947a74b9d854cbbad6b9ffa">F_MEASURE_PARAMS::neighborhood</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
連結モード 
<p>
前景の画素連結モードを指定します。 4または8を指定してください。<ul>
<li>4 ４連結</li><li>8 ８連結</li></ul>
<p>
なお、前景と背景の連結モードは常に逆になります。 つまり、前景が４連結の時は背景は８連結、前景が８連結の時は背景が４連結となります。 
</div>
</div><p>
<a class="anchor" name="77b55a99169e94b52d2418685ced159f"></a><!-- doxytag: member="F_MEASURE_PARAMS::precalc_features" ref="77b55a99169e94b52d2418685ced159f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UDLONG <a class="el" href="structF__MEASURE__PARAMS.html#77b55a99169e94b52d2418685ced159f">F_MEASURE_PARAMS::precalc_features</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
事前計算特徴量指定 
<p>
通常、各ブローブの特徴量は <a class="el" href="group__fie__measure__feature.html#gf27bc5074483987e194eddddca50c9c1" title="対象ブローブの面積の取得">fnFIE_measure_get_area()</a> などの特徴量取得関数を呼ぶか、 またはブローブ番号配列のソート/フィルタリング関数を呼ぶまで計算されません。 しかし、本パラメータにあらかじめ計算したい特徴量を指定しておくと、 指定された特徴量についてはブローブ解析実行時( <a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> 又は <a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> )に全ブローブが強制的に計算されるようになります。<p>
値は、下記のdefineをORにて指定します。 下記に列挙されていない物は無視されるので注意してください。<ul>
<li>F_FEATUREFLAG_XYRANGE <a class="el" href="group__fie__features.html#feature_maxminpos">xmax_at_ymax, xmin_at_ymin, ymax_at_xmin, ymin_at_xmax</a></li><li>F_FEATUREFLAG_AREA <a class="el" href="group__fie__features.html#feature_area">area</a></li><li>F_FEATUREFLAG_MOMENT1 <a class="el" href="group__fie__features.html#feature_moment1">sumx, sumy</a></li><li>F_FEATUREFLAG_MOMENT2 <a class="el" href="group__fie__features.html#feature_moment2">sumx2, sumy2, sumxy</a></li><li>F_FEATUREFLAG_CENTERG <a class="el" href="group__fie__features.html#feature_center">centerx, centery</a></li><li>F_FEATUREFLAG_XYDIFF <a class="el" href="group__fie__features.html#feature_xydiff">xdiff, ydiff</a></li><li>F_FEATUREFLAG_RECT1AREA <a class="el" href="group__fie__features.html#feature_rect1_area">rect1_area</a></li><li>F_FEATUREFLAG_RECT1LRATIO <a class="el" href="group__fie__features.html#feature_rect1_lratio">rect1_lratio</a></li><li>F_FEATUREFLAG_RECT1SRATIO <a class="el" href="group__fie__features.html#feature_rect1_sratio">rect1_sratio</a></li><li>F_FEATUREFLAG_RECT2SIZE <a class="el" href="group__fie__features.html#feature_rect2_size">lsize, wsize</a></li><li>F_FEATUREFLAG_RECT2AREA <a class="el" href="group__fie__features.html#feature_rect2_area">rect2_area</a></li><li>F_FEATUREFLAG_RECT2LRATIO <a class="el" href="group__fie__features.html#feature_rect2_lratio">rect2_lratio</a></li><li>F_FEATUREFLAG_RECT2SRATIO <a class="el" href="group__fie__features.html#feature_rect2_sratio">rect2_sratio</a></li><li>F_FEATUREFLAG_EQUIELLIPSE <a class="el" href="group__fie__features.html#feature_equivalent_ellipse">majoraxis, minoraxis, axisratio, axistheta</a></li><li>F_FEATUREFLAG_EQUIDISK <a class="el" href="group__fie__features.html#feature_equivalent_disk">diameter_equidisk</a></li></ul>
<p>
なお、特徴量 <a class="el" href="group__fie__features.html#feature_xyrange">xmin, ymin, xmax, ymax</a> は必ず事前に計算される仕様となっています。 また、特に必要の無い場合は０を指定してください。 
</div>
</div><p>
<a class="anchor" name="7378ebf6a0f848b494126c7dc8f2b2f9"></a><!-- doxytag: member="F_MEASURE_PARAMS::keep_results_after_overflow" ref="7378ebf6a0f848b494126c7dc8f2b2f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="structF__MEASURE__PARAMS.html#7378ebf6a0f848b494126c7dc8f2b2f9">F_MEASURE_PARAMS::keep_results_after_overflow</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
オーバーフローエラー発生時の結果維持オプション 
<p>
本パラメータを TRUE に設定すると、max_runsの設定数に到達したことによる ランレングスオーバーフローが発生して途中終了し、 F_ERR_MEASURE_ROW_OVERFLOW が 返されたときに出来る限り途中までの解析結果を構築し、結果を返すようにします。 ラン数のオーバーフロー判定は行単位で行われるため、このときに構築される解析結果は 画像の上端行からオーバーフローが発生した行までが解析されたものとなります。<p>
なお F_ERR_MEASURE_BLOB_OVERFLOW 発生時 には途中結果を構築することはできません。 また <a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> に F_ERR_MEASURE_ROW_OVERFLOW が発生した場合 には、本パラメータの設定に関わらず <a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> を実行する前の 状態が保持されます。<p>
オーバーフローエラー発生時に構築される解析結果は不正確なもの であり、使用時には十分な注意が必要となります。 通常は本パラメータには FALSE を指定して使用してください。 
</div>
</div><p>
</div>
<hr size="1">
<address style="align: right; color: #cccccc;">
	<small>
	Documentation copyright &copy; 2009-2025 TOKYO ELECTRON DEVICE LIMITED. <br>
	Generated on Tue Sep 16 09:08:56 2025 for FIEライブラリ by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.5.6-FASTSP-p2
	</small>
</address>
</body>
</html>
