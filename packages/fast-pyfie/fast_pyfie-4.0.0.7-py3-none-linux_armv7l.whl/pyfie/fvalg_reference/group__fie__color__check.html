<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
<title>FIEライブラリ: 色判定</title>
<link href="fvalg-prod.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 作成： Doxygen 1.5.6-FASTSP-p2 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">
<h1>色判定<br>
<small>
[<a class="el" href="group__fie__color__inspection.html">色彩検査</a>]</small>
</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>関数</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">FHANDLE FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#g870398f872fe120a972a9c8c15152100">fnFIE_colorcheck_open_table</a> (INT size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">色票テーブルの生成  <a href="#g870398f872fe120a972a9c8c15152100"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#g3b370924e00b24028b28b7560df4377b">fnFIE_colorcheck_set_right_color_chart</a> (FHANDLE htbl, INT id, const <a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *chart)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">正解色票の登録  <a href="#g3b370924e00b24028b28b7560df4377b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#ga761d4240ed41a6166ff78a3d180888c">fnFIE_colorcheck_clear_right_color_chart</a> (FHANDLE htbl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">すべての色票を削除  <a href="#ga761d4240ed41a6166ff78a3d180888c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#g835a5bb86a4a08fec241fda98e73c1f5">fnFIE_colorcheck_erase_right_color_chart</a> (FHANDLE htbl, INT id)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">正解色票の削除  <a href="#g835a5bb86a4a08fec241fda98e73c1f5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#gfdbfdea05952c6437cea5feb16e57f02">fnFIE_colorcheck_get_table_size</a> (FHANDLE htbl, INT *size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">テーブルサイズの取得  <a href="#gfdbfdea05952c6437cea5feb16e57f02"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#g1af6ff65b6706e32617e6cdfa92f1007">fnFIE_colorcheck_get_num_color_chart</a> (FHANDLE htbl, INT *num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">登録済正解色票数の取得  <a href="#g1af6ff65b6706e32617e6cdfa92f1007"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#g7e0d43b91da445a9192f268464edca40">fnFIE_colorcheck_get_right_color_chart</a> (FHANDLE htbl, INT id, <a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *chart)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">正解色票の取得  <a href="#g7e0d43b91da445a9192f268464edca40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#gd5b614d5bed52b77738bae0b49c08c24">fnFIE_colorcheck_execute</a> (FHANDLE htbl, const <a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *target, enum <a class="el" href="group__fie__color__inspection__doc.html#gd5a3cc17e83ecb6e72dd1bb70c67c371">f_colorcheck_norm_type</a> norm_type, const DOUBLE *weight, DOUBLE threshold, <a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *right, INT *id, DOUBLE *norm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">色判定の実行  <a href="#gd5b614d5bed52b77738bae0b49c08c24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__color__check.html#gf5e16fa7634ad3825d11e946ec5c84b2">fnFIE_colorcheck_get_detail_result</a> (FHANDLE htbl, INT id, <a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *chart, DOUBLE *norm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">色判定の詳細情報を取得  <a href="#gf5e16fa7634ad3825d11e946ec5c84b2"></a><br></td></tr>
</table>
<hr><h2>関数</h2>
<a class="anchor" name="g870398f872fe120a972a9c8c15152100"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_open_table" ref="g870398f872fe120a972a9c8c15152100" args="(INT size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FHANDLE FVALGAPI fnFIE_colorcheck_open_table           </td>
          <td>(</td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
色票テーブルの生成 
<p>
色票テーブルのメモリを確保します。 色票テーブルは、複数の色票を正解色票として保持します。<p>
<dl class="user" compact><dt><b>最大色票数</b></dt><dd><em>size</em> は、登録可能な最大色票数です。 １以上を指定します。</dd></dl>
確保した色票テーブルは不要になったら <a class="el" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object()</a> にて解放してください。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>テーブルのサイズ（最大色票数）</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>確保した色票テーブルの先頭アドレスを返します。 ライセンスエラー、未初期化エラー、またはメモリ不足などで確保に失敗した場合は、NULLを返します。 </dd></dl>

</div>
</div><p>
<a class="anchor" name="g3b370924e00b24028b28b7560df4377b"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_set_right_color_chart" ref="g3b370924e00b24028b28b7560df4377b" args="(FHANDLE htbl, INT id, const F_COLOR_CHART *chart)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_colorcheck_set_right_color_chart           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *&nbsp;</td>
          <td class="paramname"> <em>chart</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
正解色票の登録 
<p>
指定したIDに対応した色票を追加（登録）します。<p>
<dl class="user" compact><dt><b>色票のID</b></dt><dd>登録される色票は、IDによって管理されます。 IDは、条件を満たした任意の値をユーザーが指定します。自動的にIDは決定されません。 同一の色票テーブル内に同じIDの色票を登録することはできません。 指定したIDの色票が、既に色票テーブルに登録されている場合は色票は上書きされます。 IDは 0≦ <em>id</em> &lt;テーブルの最大色票数 の範囲で指定します。</dd></dl>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>htbl</em>&nbsp;</td><td>色票テーブルのハンドル </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>正解色票に対応したID </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>chart</em>&nbsp;</td><td>正解色票</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>不正なパラメータが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_CC_INVALID_ID</em>&nbsp;</td><td>不正なIDが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ga761d4240ed41a6166ff78a3d180888c"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_clear_right_color_chart" ref="ga761d4240ed41a6166ff78a3d180888c" args="(FHANDLE htbl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_colorcheck_clear_right_color_chart           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>htbl</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
すべての色票を削除 
<p>
色票テーブルに登録されているすべての色票を削除します。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>htbl</em>&nbsp;</td><td>色票テーブルのハンドル</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g835a5bb86a4a08fec241fda98e73c1f5"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_erase_right_color_chart" ref="g835a5bb86a4a08fec241fda98e73c1f5" args="(FHANDLE htbl, INT id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_colorcheck_erase_right_color_chart           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
正解色票の削除 
<p>
指定したIDに対応した登録されている正解色票を削除します。 指定したIDに対応した正解色票が登録されていない場合は、 F_ERR_CC_INVALID_ID を返します。 IDは 0≦ <em>id</em> &lt;テーブルの最大色票数 の範囲で指定します。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>htbl</em>&nbsp;</td><td>色票テーブルのハンドル </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>色票のID</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_CC_INVALID_ID</em>&nbsp;</td><td>不正なIDが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gfdbfdea05952c6437cea5feb16e57f02"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_get_table_size" ref="gfdbfdea05952c6437cea5feb16e57f02" args="(FHANDLE htbl, INT *size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_colorcheck_get_table_size           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT *&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
テーブルサイズの取得 
<p>
色票テーブルに登録可能な最大色票数を取得します。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>htbl</em>&nbsp;</td><td>色票テーブルのハンドル </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>色票の最大保持可能数</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>不正なパラメータが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g1af6ff65b6706e32617e6cdfa92f1007"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_get_num_color_chart" ref="g1af6ff65b6706e32617e6cdfa92f1007" args="(FHANDLE htbl, INT *num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_colorcheck_get_num_color_chart           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT *&nbsp;</td>
          <td class="paramname"> <em>num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
登録済正解色票数の取得 
<p>
色票テーブルに登録されている正解色票数を取得します。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>htbl</em>&nbsp;</td><td>色票テーブルのハンドル </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>num</em>&nbsp;</td><td>登録されている色票数</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>不正なパラメータが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g7e0d43b91da445a9192f268464edca40"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_get_right_color_chart" ref="g7e0d43b91da445a9192f268464edca40" args="(FHANDLE htbl, INT id, F_COLOR_CHART *chart)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_colorcheck_get_right_color_chart           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *&nbsp;</td>
          <td class="paramname"> <em>chart</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
正解色票の取得 
<p>
色票テーブルに登録されている指定したIDに対応した正解色票を取得します。 指定したIDに対応した正解色票が登録されていない場合は、 F_ERR_CC_INVALID_ID を返します。 IDは 0≦ <em>id</em> &lt;テーブルの最大色票数 の範囲で指定します。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>htbl</em>&nbsp;</td><td>ノルムテーブルのハンドル </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>色票のID </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>chart</em>&nbsp;</td><td>正解色票</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>不正なパラメータが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gd5b614d5bed52b77738bae0b49c08c24"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_execute" ref="gd5b614d5bed52b77738bae0b49c08c24" args="(FHANDLE htbl, const F_COLOR_CHART *target, enum f_colorcheck_norm_type norm_type, const DOUBLE *weight, DOUBLE threshold, F_COLOR_CHART *right, INT *id, DOUBLE *norm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_colorcheck_execute           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__fie__color__inspection__doc.html#gd5a3cc17e83ecb6e72dd1bb70c67c371">f_colorcheck_norm_type</a>&nbsp;</td>
          <td class="paramname"> <em>norm_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DOUBLE *&nbsp;</td>
          <td class="paramname"> <em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE&nbsp;</td>
          <td class="paramname"> <em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *&nbsp;</td>
          <td class="paramname"> <em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE *&nbsp;</td>
          <td class="paramname"> <em>norm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
色判定の実行 
<p>
下図に示すように、指定した処理対象色票に最も近い正解色票を色票テーブルより取得します。 取得可能な結果は、正解色票、対応したID、処理対象色票とのノルムとなります。 最も近い正解色票が複数存在する場合は、先に登録された色票が取得されます。<p>
<div align="center">
<img src="colorcheck.png" alt="colorcheck.png">
</div>
<p>
<dl class="user" compact><dt><b>ノルムタイプ</b></dt><dd>マハラノビスノルムの計算は色票テーブルに登録されている正解色票を基準とします。 そのため、登録されているすべての正解色票で計算不可の場合は、 <em>id</em> に−１が代入されます。 <em>right</em> 、 <em>norm</em> は処理されません。</dd></dl>
<dl class="user" compact><dt><b>重み付きユークリッドノルムの重み係数</b></dt><dd><em>weight</em> は、重み付きユークリッドノルムの計算に使用されます。 それ以外のノルムでは指定しても使用されません。 必要のない場合はNULLを指定します。 ただし、NULL以外を指定してもエラーにはなりません。 <em>weight</em> は、要素数３の配列を指定してください。 ３未満の場合の動作は保証しません。 重みによっては計算不能となることがあります</dd></dl>
<dl class="user" compact><dt><b>閾値（ノルム）</b></dt><dd>閾値を与えた場合、閾値以下のノルムが存在しない場合は、 <em>id</em> に−１が代入されます。 <em>right</em> 、 <em>norm</em> は処理されません。 閾値が必要ない場合は、負の値を指定します。</dd></dl>
<dl class="user" compact><dt><b>出力用パラメータ</b></dt><dd><em>right</em> 、 <em>norm</em> が必要ない場合は、NULLを指定してください。 ただし、 <em>id</em> にNULLを指定することはできません。 <em>id</em> は、結果が取得できない場合に−１が代入されることも含めて、必ず取得されます。</dd></dl>
<dl class="user" compact><dt><b>使用例</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">// エラー処理は省略しているので注意して下さい。</span>
<span class="preprocessor">#include "fie.h"</span>

VOID color_check()
{
    <a class="code" href="structF__COLOR__CHART.html" title="色票構造体">F_COLOR_CHART</a> right, target;
    FHANDLE       hsrc = NULL;
    FHANDLE       hchild = NULL;
    FHANDLE       htable = NULL;
    DOUBLE        color[3], norm;
    INT           id;

    <span class="comment">// 色票テーブルを生成する</span>
    htable = <a class="code" href="group__fie__color__check.html#g870398f872fe120a972a9c8c15152100" title="色票テーブルの生成">fnFIE_colorcheck_open_table</a>( 10 );

    <span class="comment">// 画像ファイルを読み込む</span>
    <a class="code" href="group__fie__file__image.html#g03238db068bd08078fb1e29c1c31d8ac" title=" &amp;lt;img class= inline-img src=&amp;quot;oss.png&amp;quot; alt=&amp;quot;[[OSS]]&amp;quot;&amp;gt;  PNGファイル読...">fnFIE_load_png</a>( <span class="stringliteral">"fie_colorcheck1.png"</span>, &amp;hsrc, <a class="code" href="group__fie__file__image.html#gge1ca4e0484c0d907a215a44931bbcc9adb9994a1f48569964f60a6dd2eb91234" title="F_IMG_UC8, 3chで読込">F_COLOR_IMG_TYPE_UC8</a> );

    <span class="comment">// 正解色票を色票テーブルに登録する</span>
    hchild = <a class="code" href="group__fie__image.html#g167af7bb9b6ab179a806542d68b8b924" title="チャイルド画像の確保">fnFIE_img_child_alloc</a>( hsrc, 165, 350, 25, 25 );
    <a class="code" href="group__fie__color__chart.html#g0ef2472d9f928879056ddfb4ac03dd3c" title="色票の計算（画像指定）">fnFIE_colorchart_calc_image</a>( hchild, NULL, &amp;right );
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>( hchild );
    hchild = NULL;

    <span class="comment">// ID1を登録する</span>
    <a class="code" href="group__fie__color__check.html#g3b370924e00b24028b28b7560df4377b" title="正解色票の登録">fnFIE_colorcheck_set_right_color_chart</a>( htable, 1, &amp;right );

    hchild = <a class="code" href="group__fie__image.html#g167af7bb9b6ab179a806542d68b8b924" title="チャイルド画像の確保">fnFIE_img_child_alloc</a>( hsrc, 320, 215, 25, 25 );
    <a class="code" href="group__fie__color__chart.html#g0ef2472d9f928879056ddfb4ac03dd3c" title="色票の計算（画像指定）">fnFIE_colorchart_calc_image</a>( hchild, NULL, &amp;right );
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>( hchild );
    hchild = NULL;

    <span class="comment">// ID5を登録する</span>
    <a class="code" href="group__fie__color__check.html#g3b370924e00b24028b28b7560df4377b" title="正解色票の登録">fnFIE_colorcheck_set_right_color_chart</a>( htable, 5, &amp;right );

    <span class="comment">// 処理対象色票を設定する</span>
    color[0] = 64.0;
    color[1] = 128.0;
    color[2] = 192.0;

    <a class="code" href="group__fie__color__chart.html#g7b350049a3dcf5a9e525c557557ba088" title="色票の計算（色指定）">fnFIE_colorchart_set_color</a>( color, &amp;target );

    <span class="comment">// ユークリッドノルム基準で色彩検査を実行する</span>
    <span class="comment">// 閾値は指定をしない</span>
    <a class="code" href="group__fie__color__check.html#gd5b614d5bed52b77738bae0b49c08c24" title="色判定の実行">fnFIE_colorcheck_execute</a>( htable, &amp;target, <a class="code" href="group__fie__color__inspection__doc.html#ggd5a3cc17e83ecb6e72dd1bb70c67c3718067bc76b3533d0c0dd202e97eeec5e6" title="ユークリッドノルム： ">F_CC_EUCLIDEAN</a>, NULL, -1.0, &amp;right, &amp;<span class="keywordtype">id</span>, &amp;norm );

    <span class="comment">// 実行後のID1の正解色票の情報を取得する</span>
    <a class="code" href="group__fie__color__check.html#gf5e16fa7634ad3825d11e946ec5c84b2" title="色判定の詳細情報を取得">fnFIE_colorcheck_get_detail_result</a>( htable, 1, &amp;right, &amp;norm );

    <span class="comment">// 実行後のID5の正解色票の情報を取得する</span>
    <a class="code" href="group__fie__color__check.html#gf5e16fa7634ad3825d11e946ec5c84b2" title="色判定の詳細情報を取得">fnFIE_colorcheck_get_detail_result</a>( htable, 5, &amp;right, &amp;norm );

    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>( hsrc );
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>( hchild );
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>( htable );

    <span class="keywordflow">return</span>;
}

INT main()
{
    <span class="comment">// FIEライブラリの使用前に必ずコールする必要があります。</span>
    <a class="code" href="group__fie__libinit.html#g12250eabf0163ce206c4caa007b33a80" title="FIEライブラリの初期化">fnFIE_setup</a>();

    color_check();

    <span class="comment">// 終了処理</span>
    <a class="code" href="group__fie__libinit.html#gcf71693a1b50ed7ce9947ac8179cbfc3" title="FIEライブラリの終了処理">fnFIE_teardown</a>();

    <span class="keywordflow">return</span> 0;
}
</pre></div></dd></dl>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>htbl</em>&nbsp;</td><td>ノルムテーブルのハンドル </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>target</em>&nbsp;</td><td>対象色票 </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>norm_type</em>&nbsp;</td><td>ノルムタイプ <ul>
<li>F_CC_EUCLIDEAN（ユークリッドノルム） </li>
<li>F_CC_WEIGHTED_EUCLIDEAN（重み付きユークリッドノルム） </li>
<li>F_CC_MAHALANOBIS（マハラノビスノルム） </li>
<li>F_CC_MANHATTAN（マンハッタンノルム） </li>
<li>F_CC_CHEBYSHEV（チェビシェフノルム） </li>
</ul>
</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>weight</em>&nbsp;</td><td>重み付きユークリッドノルムの重み係数 </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>threshold</em>&nbsp;</td><td>閾値（ノルム） </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>right</em>&nbsp;</td><td>正解色票 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>正解色票のID </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>norm</em>&nbsp;</td><td>ノルム</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>不正なパラメータが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NOMEMORY</em>&nbsp;</td><td>メモリ不足 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_CALC_IMPOSSIBLE</em>&nbsp;</td><td>計算不能エラー </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gf5e16fa7634ad3825d11e946ec5c84b2"></a><!-- doxytag: member="fie_colorcheck.c::fnFIE_colorcheck_get_detail_result" ref="gf5e16fa7634ad3825d11e946ec5c84b2" args="(FHANDLE htbl, INT id, F_COLOR_CHART *chart, DOUBLE *norm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_colorcheck_get_detail_result           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structF__COLOR__CHART.html">F_COLOR_CHART</a> *&nbsp;</td>
          <td class="paramname"> <em>chart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE *&nbsp;</td>
          <td class="paramname"> <em>norm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
色判定の詳細情報を取得 
<p>
指定したIDに対応した色判定の結果を取得します。 <a class="el" href="group__fie__color__check.html#gd5b614d5bed52b77738bae0b49c08c24" title="色判定の実行">fnFIE_colorcheck_execute()</a> では、処理対象色票に対して最も近い色票情報しか取得できません。 本関数により、すべての情報を取得します。 指定したIDに対応した正解色票が登録されていない場合は、 F_ERR_CC_INVALID_ID を返します。 IDは 0≦ <em>id</em> &lt;テーブルの最大色票数 の範囲で指定します。<p>
<dl class="user" compact><dt><b>色票テーブル</b></dt><dd><a class="el" href="group__fie__color__check.html#gd5b614d5bed52b77738bae0b49c08c24" title="色判定の実行">fnFIE_colorcheck_execute()</a> を実行前に本関数は使用できません。 また、 <a class="el" href="group__fie__color__check.html#gd5b614d5bed52b77738bae0b49c08c24" title="色判定の実行">fnFIE_colorcheck_execute()</a> を実行後に、 正解色票を追加したり削除した場合には正解色票と計算されたノルムとの対応関係がなくなります。 ともにエラーコード F_ERR_CC_INVALID_TABLE が返されます。</dd></dl>
<dl class="user" compact><dt><b>出力パラメータ</b></dt><dd><em>chart</em> 、 <em>norm</em> が必要ない場合は、NULLを指定してください。 ただし、両パラメータともNULLが指定されていた場合は、エラーとなります。</dd></dl>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>htbl</em>&nbsp;</td><td>色票テーブルのハンドル </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>色票のID </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>chart</em>&nbsp;</td><td>正解色票 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>norm</em>&nbsp;</td><td>ノルム</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td>不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_PARAM</em>&nbsp;</td><td>不正なパラメータが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_CC_INVALID_ID</em>&nbsp;</td><td>不正なIDが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_CC_INVALID_TABLE</em>&nbsp;</td><td>不正な色票テーブルが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1">
<address style="align: right; color: #cccccc;">
	<small>
	Documentation copyright &copy; 2009-2025 TOKYO ELECTRON DEVICE LIMITED. <br>
	Generated on Tue Sep 16 09:08:52 2025 for FIEライブラリ by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.5.6-FASTSP-p2
	</small>
</address>
</body>
</html>
