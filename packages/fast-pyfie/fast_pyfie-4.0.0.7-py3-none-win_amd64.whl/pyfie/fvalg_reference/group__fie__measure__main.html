<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
<title>FIEライブラリ: 実行</title>
<link href="fvalg-prod.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 作成： Doxygen 1.5.6-FASTSP-p2 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">
<h1>実行<br>
<small>
[<a class="el" href="group__fie__measure.html">２値ブローブ解析</a>]</small>
</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>データ構造</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structF__MEASURE__PARAMS.html">F_MEASURE_PARAMS</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ブローブ解析処理パラメータ  <a href="structF__MEASURE__PARAMS.html#_details">[詳細]</a><br></td></tr>
<tr><td colspan="2"><br><h2>列挙型</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__measure__main.html#gfe80b71496c984d9459048d428fcd746">f_measure_color_mode</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__fie__measure__main.html#ggfe80b71496c984d9459048d428fcd7468fc8b05edd94e236121473ed72762502">F_MEASURE_BLACKFG_WHITEBG</a> =  0, 
<a class="el" href="group__fie__measure__main.html#ggfe80b71496c984d9459048d428fcd746c8e9f5985fa0cbac5db07ed4e16a309f">F_MEASURE_WHITEFG_BLACKBG</a> =  1, 
<br>
&nbsp;&nbsp;<a class="el" href="group__fie__measure__main.html#ggfe80b71496c984d9459048d428fcd7464be6d54a4c89ac046b221fec6ed87a36">F_MEASURE_BLACKFG</a> =  2, 
<a class="el" href="group__fie__measure__main.html#ggfe80b71496c984d9459048d428fcd746bf42b6dcdbf917de7ae83f3bbf02fd24">F_MEASURE_WHITEFG</a> =  3
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ブローブ解析：対象色指定  <a href="group__fie__measure__main.html#gfe80b71496c984d9459048d428fcd746">[詳細]</a><br></td></tr>
<tr><td colspan="2"><br><h2>関数</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">FHANDLE FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873">fnFIE_measure_execute</a> (FHANDLE himage, <a class="el" href="structPNT__T.html">PNT_T</a> offset, const <a class="el" href="structF__MEASURE__PARAMS.html">F_MEASURE_PARAMS</a> *params, INT *exerr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">２値ブローブ解析実行  <a href="#g49c55246e0581da5b31edf1a953a9873"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd">fnFIE_measure_continue</a> (FHANDLE hresult, FHANDLE himage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ブローブ解析の続行  <a href="#g64951fdf80e771dabde978988de06abd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">INT FVALGAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fie__measure__main.html#g58b7e13c5ffbad84b099e93981b1f4e0">fnFIE_measure_query_timings</a> (FHANDLE hresult, DOUBLE *rle, DOUBLE *labeling, DOUBLE *blobinfo, DOUBLE *feature_calculation)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ブローブ解析の詳細な処理時間取得  <a href="#g58b7e13c5ffbad84b099e93981b1f4e0"></a><br></td></tr>
</table>
<hr><h2>列挙型</h2>
<a class="anchor" name="gfe80b71496c984d9459048d428fcd746"></a><!-- doxytag: member="fie.h::f_measure_color_mode" ref="gfe80b71496c984d9459048d428fcd746" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__fie__measure__main.html#gfe80b71496c984d9459048d428fcd746">f_measure_color_mode</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ブローブ解析：対象色指定 
<p>
<dl compact><dt><b>列挙型の値: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ggfe80b71496c984d9459048d428fcd7468fc8b05edd94e236121473ed72762502"></a><!-- doxytag: member="F_MEASURE_BLACKFG_WHITEBG" ref="ggfe80b71496c984d9459048d428fcd7468fc8b05edd94e236121473ed72762502" args="" -->F_MEASURE_BLACKFG_WHITEBG</em>&nbsp;</td><td>
前景が黒(0)、背景が白(1) </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfe80b71496c984d9459048d428fcd746c8e9f5985fa0cbac5db07ed4e16a309f"></a><!-- doxytag: member="F_MEASURE_WHITEFG_BLACKBG" ref="ggfe80b71496c984d9459048d428fcd746c8e9f5985fa0cbac5db07ed4e16a309f" args="" -->F_MEASURE_WHITEFG_BLACKBG</em>&nbsp;</td><td>
前景が白(1)、背景が黒(0) </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfe80b71496c984d9459048d428fcd7464be6d54a4c89ac046b221fec6ed87a36"></a><!-- doxytag: member="F_MEASURE_BLACKFG" ref="ggfe80b71496c984d9459048d428fcd7464be6d54a4c89ac046b221fec6ed87a36" args="" -->F_MEASURE_BLACKFG</em>&nbsp;</td><td>
前景が黒(0)、背景は解析しない </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfe80b71496c984d9459048d428fcd746bf42b6dcdbf917de7ae83f3bbf02fd24"></a><!-- doxytag: member="F_MEASURE_WHITEFG" ref="ggfe80b71496c984d9459048d428fcd746bf42b6dcdbf917de7ae83f3bbf02fd24" args="" -->F_MEASURE_WHITEFG</em>&nbsp;</td><td>
前景が白(1)、背景は解析しない </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>関数</h2>
<a class="anchor" name="g49c55246e0581da5b31edf1a953a9873"></a><!-- doxytag: member="fie_measure_execute.c::fnFIE_measure_execute" ref="g49c55246e0581da5b31edf1a953a9873" args="(FHANDLE himage, PNT_T offset, const F_MEASURE_PARAMS *params, INT *exerr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FHANDLE FVALGAPI fnFIE_measure_execute           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>himage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPNT__T.html">PNT_T</a>&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structF__MEASURE__PARAMS.html">F_MEASURE_PARAMS</a> *&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT *&nbsp;</td>
          <td class="paramname"> <em>exerr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
２値ブローブ解析実行 
<p>
<em>himage</em> にて指定された２値画像に対して、２値ブローブ解析処理を実行します。 <em>himage</em> は幅、高さ共に65535以下、チャネル数=1の２値画像(type=F_IMG_BIN)でなければなりません。<p>
<em>offset</em> は２値画像の座標系を指定するためのパラメータであり、 画像(0,0)の画素の座標をいくつと見なすかということです（下図参照）。 チャイルド画像に対してブローブ解析を行う際に、ルート画像の原点を ブローブ解析時の座標の原点としたい場合などに利用します。<p>
<div align="center">
<img src="measure_offset.png" alt="measure_offset.png">
<p><strong>Fig. offsetパラメータの説明</strong></p></div>
 但し、offset値を０以外に設定する場合には、座標範囲に注意してください。 offsetを付加した画像の座標範囲、<p>
<ul>
<li>offset.x ≦ x ≦ (offset.x + (画像の幅) - 1) </li>
<li>offset.y ≦ y ≦ (offset.y + (画像の高さ) - 1)</li>
</ul>
が、それぞれ<p>
<ul>
<li>-65534 ≦ x ≦ 65534 </li>
<li>-65534 ≦ y ≦ 65534</li>
</ul>
を満たしていなければなりません。<p>
<em>params</em> はブローブ解析のためのパラメータセットです。 <a class="el" href="structF__MEASURE__PARAMS.html">F_MEASURE_PARAMS</a> のドキュメントを参照して下さい。<p>
返されたハンドルオブジェクトは不要になったら <a class="el" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object()</a> にて解放してください。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>himage</em>&nbsp;</td><td>入力画像( type: bin ) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>offset</em>&nbsp;</td><td>原点座標オフセット </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>params</em>&nbsp;</td><td>パラメータセット </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>exerr</em>&nbsp;</td><td>エラーコード。エラーコードを受け取る必要の無い場合は、NULLを指定します。</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>正常に終了した場合は、２値ブローブ解析結果ハンドル（F_MEASURE_RESULTオブジェクト) を返します。 何らかのエラーが発生し、処理が失敗した場合は NULL を返します。 正常、異常、どちらの場合も <em>exerr</em> パラメータにエラーコード受け取り先変数のポインタが 渡された場合は、そこにエラーコードを代入して返します。返されるエラーコードは下記の何れかです。 </dd></dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*exerr==F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*exerr==F_ERR_NOMEMORY</em>&nbsp;</td><td>メモリ不足エラー </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*exerr==F_ERR_INVALID_PARAM</em>&nbsp;</td><td>パラメータエラー </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*exerr==F_ERR_INVALID_IMAGE</em>&nbsp;</td><td><em>himage</em> パラメータに指定された画像オブジェクトが不正 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*exerr==F_ERR_MEASURE_RUN_OVERFLOW</em>&nbsp;</td><td>ラン数が params-&gt;max_runs を超えたため、中断した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*exerr==F_ERR_MEASURE_BLOB_OVERFLOW</em>&nbsp;</td><td>ブローブ数が params-&gt;max_blobs を超えたため、中断した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*exerr==F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>example code</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">// エラー処理は省略しているので注意して下さい。</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include "fie.h"</span>

INT main()
{
    FHANDLE himg = NULL;
    FHANDLE measure_result;
    <a class="code" href="structF__MEASURE__PARAMS.html" title="ブローブ解析処理パラメータ">F_MEASURE_PARAMS</a> param;
    <a class="code" href="structPNT__T.html" title="２次元整数座標指定用構造体(INT)">PNT_T</a> orgin;
    INT exerr;
    UINT blobnum;

    <span class="comment">// FIEライブラリの使用前に必ずコールする必要があります。</span>
    <a class="code" href="group__fie__libinit.html#g12250eabf0163ce206c4caa007b33a80" title="FIEライブラリの初期化">fnFIE_setup</a>();

    <span class="comment">// 適当な２値画像を用意する - 画像ファイル名は適宜変更すること</span>
    <a class="code" href="group__fie__file__image.html#gd328309665f32a8897ef428299a0816a" title="ビットマップ読込">fnFIE_load_bmp</a>( <span class="stringliteral">"test.bmp"</span>, &amp;himg, <a class="code" href="group__fie__file__image.html#gge1ca4e0484c0d907a215a44931bbcc9adb9994a1f48569964f60a6dd2eb91234" title="F_IMG_UC8, 3chで読込">F_COLOR_IMG_TYPE_UC8</a> );

    <span class="comment">// 座標原点の指定</span>
    orgin.<a class="code" href="structPNT__T.html#4ff9a28ef8ff1a15f3536f989ad05010">x</a> = 0;
    orgin.<a class="code" href="structPNT__T.html#5dadbd324332104d1ccf225671098a30">y</a> = 0;

    <span class="comment">// パラメータ設定</span>
    memset( &amp;param, 0, <span class="keyword">sizeof</span>(<a class="code" href="structF__MEASURE__PARAMS.html" title="ブローブ解析処理パラメータ">F_MEASURE_PARAMS</a>) );
    param.<a class="code" href="structF__MEASURE__PARAMS.html#9ba122ef13d4c79988806461d5484cad" title="対象色モード">color_mode</a> = <a class="code" href="group__fie__measure__main.html#ggfe80b71496c984d9459048d428fcd746c8e9f5985fa0cbac5db07ed4e16a309f" title="前景が白(1)、背景が黒(0)">F_MEASURE_WHITEFG_BLACKBG</a>;
    param.<a class="code" href="structF__MEASURE__PARAMS.html#35810a826947a74b9d854cbbad6b9ffa" title="連結モード">neighborhood</a> = 8;

    <span class="comment">// メジャー実行</span>
    measure_result = <a class="code" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute</a>( himg, orgin, &amp;param, &amp;exerr );

    <span class="comment">// 全ブローブ数の取得＆表示</span>
    <a class="code" href="group__fie__measure__result.html#g20222f9235cda4f661c73aa7a2fb61f7" title="全ブローブ数の取得">fnFIE_measure_get_blobnum</a>( measure_result, &amp;blobnum );
    printf( <span class="stringliteral">"blobs:%d\n"</span>, blobnum );

    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>( measure_result );
    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>( himg );

    <span class="comment">// 終了処理</span>
    <a class="code" href="group__fie__libinit.html#gcf71693a1b50ed7ce9947ac8179cbfc3" title="FIEライブラリの終了処理">fnFIE_teardown</a>();

    <span class="keywordflow">return</span> 0;
}
</pre></div> </dd></dl>

</div>
</div><p>
<a class="anchor" name="g64951fdf80e771dabde978988de06abd"></a><!-- doxytag: member="fie_measure_execute.c::fnFIE_measure_continue" ref="g64951fdf80e771dabde978988de06abd" args="(FHANDLE hresult, FHANDLE himage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_measure_continue           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hresult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>himage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ブローブ解析の続行 
<p>
<a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> の解析結果に追加する形で、 <em>himage</em> に指定された２値画像の２値ブローブ解析処理を実行します。 <em>himage</em> を解析した結果は、hresultに保持されている解析結果の下部に追加されます（下図）。 本機能は、ラインセンサで画像を取り込むのと平行して解析を行いたい場合などに有効です。 <div align="center">
<img src="measure_continue.png" alt="measure_continue.png">
</div>
<p>
<em>himage</em> は幅、高さ共に65535以下、チャネル数=1の２値画像(type=F_IMG_BIN)でなければなりません。 また、幅は <a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> の実行時に指定した画像と同じ幅でなければなりません。 既に解析された部分と <em>himage</em> に指定された画像の行数（高さ）の和 が <em>params-&gt;max_rows</em> を超えた場合、 または その和+offset.y が 65535 を超えた場合は F_ERR_MEASURE_ROW_OVERFLOW エラーとなります。<p>
ブローブ解析に関するパラメータは <a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> の実行時に指定した パラメータ(params, offset)が使われます。途中で変更することは出来ません。<p>
また、エラー発生時は <em>hresult</em> の内容は不正な状態となるため、直ちに <a class="el" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object()</a> にて解放してください。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>hresult</em>&nbsp;</td><td>ブローブ解析結果 </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>himage</em>&nbsp;</td><td>追加する画像オブジェクト( type: bin )</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NOMEMORY</em>&nbsp;</td><td>メモリ不足エラー </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_UNKNOWN</em>&nbsp;</td><td><em>hresult</em> の内部パラメータが不正 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td><em>hresult</em> パラメータに指定された２値ブローブ解析結果ハンドルが不正 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_IMAGE</em>&nbsp;</td><td><em>himage</em> パラメータに指定された画像オブジェクトが不正 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_MEASURE_ROW_OVERFLOW</em>&nbsp;</td><td>総行数が params-&gt;max_rows を超えた、又は (offset.y+総行数)が 65535 を超えたため、中断した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_MEASURE_RUN_OVERFLOW</em>&nbsp;</td><td>ラン数が params-&gt;max_runs を超えたため、中断した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_MEASURE_BLOB_OVERFLOW</em>&nbsp;</td><td>ブローブ数が params-&gt;max_blobs を超えたため、中断した </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>example code</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">// エラー処理は省略しているので注意して下さい。</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include "fie.h"</span>

INT main()
{
    FHANDLE himg=NULL, hchild;
    FHANDLE measure_result;
    <a class="code" href="structF__MEASURE__PARAMS.html" title="ブローブ解析処理パラメータ">F_MEASURE_PARAMS</a> param;
    <a class="code" href="structPNT__T.html" title="２次元整数座標指定用構造体(INT)">PNT_T</a> orgin;
    INT exerr, i, width, height;
    UINT blobnum;

    <span class="comment">// FIEライブラリの使用前に必ずコールする必要があります。</span>
    <a class="code" href="group__fie__libinit.html#g12250eabf0163ce206c4caa007b33a80" title="FIEライブラリの初期化">fnFIE_setup</a>();

    <span class="comment">// 適当な２値画像を用意する - 画像ファイル名は適宜変更すること</span>
    <a class="code" href="group__fie__file__image.html#gd328309665f32a8897ef428299a0816a" title="ビットマップ読込">fnFIE_load_bmp</a>( <span class="stringliteral">"test.bmp"</span>, &amp;himg, <a class="code" href="group__fie__file__image.html#gge1ca4e0484c0d907a215a44931bbcc9adb9994a1f48569964f60a6dd2eb91234" title="F_IMG_UC8, 3chで読込">F_COLOR_IMG_TYPE_UC8</a> );

    <span class="comment">// 座標原点の指定</span>
    orgin.<a class="code" href="structPNT__T.html#4ff9a28ef8ff1a15f3536f989ad05010">x</a> = 0;
    orgin.<a class="code" href="structPNT__T.html#5dadbd324332104d1ccf225671098a30">y</a> = 0;

    <span class="comment">// パラメータ設定</span>
    memset( &amp;param, 0, <span class="keyword">sizeof</span>(<a class="code" href="structF__MEASURE__PARAMS.html" title="ブローブ解析処理パラメータ">F_MEASURE_PARAMS</a>) );
    param.<a class="code" href="structF__MEASURE__PARAMS.html#9ba122ef13d4c79988806461d5484cad" title="対象色モード">color_mode</a> = <a class="code" href="group__fie__measure__main.html#ggfe80b71496c984d9459048d428fcd746c8e9f5985fa0cbac5db07ed4e16a309f" title="前景が白(1)、背景が黒(0)">F_MEASURE_WHITEFG_BLACKBG</a>;
    param.<a class="code" href="structF__MEASURE__PARAMS.html#35810a826947a74b9d854cbbad6b9ffa" title="連結モード">neighborhood</a> = 8;

    <span class="comment">// y=0〜9まで処理</span>
    width = <a class="code" href="group__fie__image.html#gab7727792c2d3922f71e4b6af3356549" title="画像情報取得(画像幅)">fnFIE_img_get_width</a>( himg );
    height = <a class="code" href="group__fie__image.html#g277017697cdc16b19d971a9818c68575" title="画像情報取得(画像高さ)">fnFIE_img_get_height</a>( himg );
    hchild = <a class="code" href="group__fie__image.html#g167af7bb9b6ab179a806542d68b8b924" title="チャイルド画像の確保">fnFIE_img_child_alloc</a>( himg, 0, 0, width, 10 );
    measure_result = <a class="code" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute</a>( hchild, orgin, &amp;param, &amp;exerr );


    <span class="comment">// y=10〜(height-1)まで１行ずつ処理</span>
    <span class="comment">// ラインセンサでの取り込みを模擬</span>
    <span class="keywordflow">for</span>( i=10; i&lt;height; i++){
        <a class="code" href="group__fie__image.html#g90c008bc8b33aac5b443b16e714f3d4b" title="チャイルド画像をルート画像へ割り当てる">fnFIE_img_child_attach</a>( hchild, himg, 0, i, width, 1 );
        <a class="code" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue</a>( measure_result, hchild );
    }

    <span class="comment">// 全ブローブ数の取得＆表示</span>
    <a class="code" href="group__fie__measure__result.html#g20222f9235cda4f661c73aa7a2fb61f7" title="全ブローブ数の取得">fnFIE_measure_get_blobnum</a>( measure_result, &amp;blobnum );
    printf( <span class="stringliteral">"blobs:%d\n"</span>, blobnum );

    <a class="code" href="group__fie__object.html#g5255bfc98226503d087b8614fcbb240c" title="オブジェクトを解放">fnFIE_free_object</a>( measure_result );

    <span class="comment">// 終了処理</span>
    <a class="code" href="group__fie__libinit.html#gcf71693a1b50ed7ce9947ac8179cbfc3" title="FIEライブラリの終了処理">fnFIE_teardown</a>();

    <span class="keywordflow">return</span> 0;
}
</pre></div> </dd></dl>

</div>
</div><p>
<a class="anchor" name="g58b7e13c5ffbad84b099e93981b1f4e0"></a><!-- doxytag: member="fie_measure_execute.c::fnFIE_measure_query_timings" ref="g58b7e13c5ffbad84b099e93981b1f4e0" args="(FHANDLE hresult, DOUBLE *rle, DOUBLE *labeling, DOUBLE *blobinfo, DOUBLE *feature_calculation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT FVALGAPI fnFIE_measure_query_timings           </td>
          <td>(</td>
          <td class="paramtype">FHANDLE&nbsp;</td>
          <td class="paramname"> <em>hresult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE *&nbsp;</td>
          <td class="paramname"> <em>rle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE *&nbsp;</td>
          <td class="paramname"> <em>labeling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE *&nbsp;</td>
          <td class="paramname"> <em>blobinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOUBLE *&nbsp;</td>
          <td class="paramname"> <em>feature_calculation</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ブローブ解析の詳細な処理時間取得 
<p>
ブローブ解析処理 <a class="el" href="group__fie__measure__main.html#g49c55246e0581da5b31edf1a953a9873" title="２値ブローブ解析実行">fnFIE_measure_execute()</a> 又は <a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> 関数実行時の 内部処理時間を取得します。各処理時間は直前の実行時のものとなりますので、 <a class="el" href="group__fie__measure__main.html#g64951fdf80e771dabde978988de06abd" title="ブローブ解析の続行">fnFIE_measure_continue()</a> を使用する際はご注意ください。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hresult</em>&nbsp;</td><td>ブローブ解析結果ハンドル </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>rle</em>&nbsp;</td><td>ランレングス抽出処理時間 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>labeling</em>&nbsp;</td><td>ラベリング処理時間 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>blobinfo</em>&nbsp;</td><td>ブローブ情報構築処理時間 </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>feature_calculation</em>&nbsp;</td><td>事前特徴量計算処理時間</td></tr>
  </table>
</dl>
<dl compact><dt><b>戻り値:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NONE</em>&nbsp;</td><td>正常終了 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_INVALID_OBJECT</em>&nbsp;</td><td><em>hresult</em> に不正なオブジェクトが渡された </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>F_ERR_NO_LICENCE</em>&nbsp;</td><td>ライセンスエラー、または未初期化エラー </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1">
<address style="align: right; color: #cccccc;">
	<small>
	Documentation copyright &copy; 2009-2025 TOKYO ELECTRON DEVICE LIMITED. <br>
	Generated on Tue Sep 16 09:08:48 2025 for FIEライブラリ by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.5.6-FASTSP-p2
	</small>
</address>
</body>
</html>
