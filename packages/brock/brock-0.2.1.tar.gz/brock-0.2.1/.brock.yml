version: 0.2.0
project: brock

executors:
  python:
    type: docker
    image: python:3.9
    prepare:
      - pip install -U setuptools setuptools_scm build wheel

commands:
  default: build

  build:
    steps:
      - python -m build --sdist --wheel .

  test:
    steps:
      - pip install -e ./[test]
      - pytest tests/
