import"../chunks/DsnmJJEf.js";import{o as ye,s as pn}from"../chunks/B98B7x2v.js";import{p as mr,u as Bn,j as z,s as at,b as Ln,e as Rt,m as Et,g as a,h as ot,r as pt,l as O,v as At,a as Q,i as _r,b4 as Wt,f as Ht,b3 as Zr,c as Xe,d as Ye,t as Gr,n as xn,k as qe}from"../chunks/BZ0BXH4m.js";import{p as ue,i as $t,b as yr}from"../chunks/CUAkeMiK.js";import{R as Vr}from"../chunks/DlL-K-u1.js";import{D as Cn}from"../chunks/Bxbeg6fW.js";import{l as Br,F as Hr,e as Ur,b as se,S as Wr,c as $n,t as Fn,f as Kr}from"../chunks/B_jXps8r.js";import{_ as zn}from"../chunks/BXl3LOEh.js";import{e as on,i as an,u as Qr,g as ce}from"../chunks/B9BLuPDP.js";import{s as yt}from"../chunks/C5ruyaoV.js";import{s as Jr}from"../chunks/BQ1deccM.js";import{d as ti,e as Ze}from"../chunks/fIP5WTNy.js";import{s as Pn}from"../chunks/DQIR6haY.js";import{t as ni}from"../chunks/CBuf8mMG.js";import{c as ei}from"../chunks/BIpecMnu.js";import{f as ri,s as fe,i as he,p as Xn}from"../chunks/D6s5toP0.js";const ii=(t,n,r)=>{const e=t[n];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};class sn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const c=r[i],f=n+c,s=Math.abs(n)<Math.abs(c)?n-(f-c):c-(f-n);s&&(r[e++]=s),n=f}return r[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let r=this._n,e,i,c,f=0;if(r>0){for(f=n[--r];r>0&&(e=f,i=n[--r],f=e+i,c=i-(f-e),!c););r>0&&(c<0&&n[r-1]<0||c>0&&n[r-1]>0)&&(i=c*2,e=f+i,i==e-f&&(f=e))}return f}}class Ge extends Map{constructor(n,r=li){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[e,i]of n)this.set(e,i)}get(n){return super.get(Ve(this,n))}has(n){return super.has(Ve(this,n))}set(n,r){return super.set(oi(this,n),r)}delete(n){return super.delete(ai(this,n))}}function Ve({_intern:t,_key:n},r){const e=n(r);return t.has(e)?t.get(e):r}function oi({_intern:t,_key:n},r){const e=n(r);return t.has(e)?t.get(e):(t.set(e,r),r)}function ai({_intern:t,_key:n},r){const e=n(r);return t.has(e)&&(r=t.get(e),t.delete(e)),r}function li(t){return t!==null&&typeof t=="object"?t.valueOf():t}function*ui(t){for(const n of t)yield*n}function Er(t){return Array.from(ui(t))}var J=1e-6,Y=Math.PI,Nt=Y/2,Be=Y/4,jt=Y*2,It=180/Y,gt=Y/180,et=Math.abs,Sr=Math.atan,kn=Math.atan2,lt=Math.cos,si=Math.exp,ci=Math.log,ut=Math.sin,fi=Math.sign||function(t){return t>0?1:t<0?-1:0},fn=Math.sqrt,hi=Math.tan;function pi(t){return t>1?0:t<-1?Y:Math.acos(t)}function In(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function Ct(){}function Wn(t,n){t&&Ue.hasOwnProperty(t.type)&&Ue[t.type](t,n)}var He={Feature:function(t,n){Wn(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,e=-1,i=r.length;++e<i;)Wn(r[e].geometry,n)}},Ue={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)t=r[e],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ee(t.coordinates,n,0)},MultiLineString:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)Ee(r[e],n,0)},Polygon:function(t,n){We(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)We(r[e],n)},GeometryCollection:function(t,n){for(var r=t.geometries,e=-1,i=r.length;++e<i;)Wn(r[e],n)}};function Ee(t,n,r){var e=-1,i=t.length-r,c;for(n.lineStart();++e<i;)c=t[e],n.point(c[0],c[1],c[2]);n.lineEnd()}function We(t,n){var r=-1,e=t.length;for(n.polygonStart();++r<e;)Ee(t[r],n,1);n.polygonEnd()}function gn(t,n){t&&He.hasOwnProperty(t.type)?He[t.type](t,n):Wn(t,n)}function Se(t){return[kn(t[1],t[0]),In(t[2])]}function mn(t){var n=t[0],r=t[1],e=lt(r);return[e*lt(n),e*ut(n),ut(r)]}function Yn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Kn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function pe(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function qn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Me(t){var n=fn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function we(t,n){function r(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(r.invert=function(e,i){return e=n.invert(e,i),e&&t.invert(e[0],e[1])}),r}function xe(t,n){return et(t)>Y&&(t-=Math.round(t/jt)*jt),[t,n]}xe.invert=xe;function Mr(t,n,r){return(t%=jt)?n||r?we(Qe(t),Je(n,r)):Qe(t):n||r?Je(n,r):xe}function Ke(t){return function(n,r){return n+=t,et(n)>Y&&(n-=Math.round(n/jt)*jt),[n,r]}}function Qe(t){var n=Ke(t);return n.invert=Ke(-t),n}function Je(t,n){var r=lt(t),e=ut(t),i=lt(n),c=ut(n);function f(s,d){var h=lt(d),o=lt(s)*h,l=ut(s)*h,u=ut(d),p=u*r+o*e;return[kn(l*i-p*c,o*r-u*e),In(p*i+l*c)]}return f.invert=function(s,d){var h=lt(d),o=lt(s)*h,l=ut(s)*h,u=ut(d),p=u*i-l*c;return[kn(l*i+u*c,o*r+p*e),In(p*r-o*e)]},f}function gi(t){t=Mr(t[0]*gt,t[1]*gt,t.length>2?t[2]*gt:0);function n(r){return r=t(r[0]*gt,r[1]*gt),r[0]*=It,r[1]*=It,r}return n.invert=function(r){return r=t.invert(r[0]*gt,r[1]*gt),r[0]*=It,r[1]*=It,r},n}function di(t,n,r,e,i,c){if(r){var f=lt(n),s=ut(n),d=e*r;i==null?(i=n+e*jt,c=n-d/2):(i=tr(f,i),c=tr(f,c),(e>0?i<c:i>c)&&(i+=e*jt));for(var h,o=i;e>0?o>c:o<c;o-=d)h=Se([f,-s*lt(o),-s*ut(o)]),t.point(h[0],h[1])}}function tr(t,n){n=mn(n),n[0]-=t,Me(n);var r=pi(-n[1]);return((-n[2]<0?-r:r)+jt-J)%jt}function wr(){var t=[],n;return{point:function(r,e,i){n.push([r,e,i])},lineStart:function(){t.push(n=[])},lineEnd:Ct,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function Hn(t,n){return et(t[0]-n[0])<J&&et(t[1]-n[1])<J}function Zn(t,n,r,e){this.x=t,this.z=n,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function xr(t,n,r,e,i){var c=[],f=[],s,d;if(t.forEach(function(g){if(!((m=g.length-1)<=0)){var m,_=g[0],M=g[m],w;if(Hn(_,M)){if(!_[2]&&!M[2]){for(i.lineStart(),s=0;s<m;++s)i.point((_=g[s])[0],_[1]);i.lineEnd();return}M[0]+=2*J}c.push(w=new Zn(_,g,null,!0)),f.push(w.o=new Zn(_,null,w,!1)),c.push(w=new Zn(M,g,null,!1)),f.push(w.o=new Zn(M,null,w,!0))}}),!!c.length){for(f.sort(n),nr(c),nr(f),s=0,d=f.length;s<d;++s)f[s].e=r=!r;for(var h=c[0],o,l;;){for(var u=h,p=!0;u.v;)if((u=u.n)===h)return;o=u.z,i.lineStart();do{if(u.v=u.o.v=!0,u.e){if(p)for(s=0,d=o.length;s<d;++s)i.point((l=o[s])[0],l[1]);else e(u.x,u.n.x,1,i);u=u.n}else{if(p)for(o=u.p.z,s=o.length-1;s>=0;--s)i.point((l=o[s])[0],l[1]);else e(u.x,u.p.x,-1,i);u=u.p}u=u.o,o=u.z,p=!p}while(!u.v);i.lineEnd()}}}function nr(t){if(n=t.length){for(var n,r=0,e=t[0],i;++r<n;)e.n=i=t[r],i.p=e,e=i;e.n=i=t[0],i.p=e}}function ge(t){return et(t[0])<=Y?t[0]:fi(t[0])*((et(t[0])+Y)%jt-Y)}function vi(t,n){var r=ge(n),e=n[1],i=ut(e),c=[ut(r),-lt(r),0],f=0,s=0,d=new sn;i===1?e=Nt+J:i===-1&&(e=-Nt-J);for(var h=0,o=t.length;h<o;++h)if(u=(l=t[h]).length)for(var l,u,p=l[u-1],g=ge(p),m=p[1]/2+Be,_=ut(m),M=lt(m),w=0;w<u;++w,g=y,_=A,M=k,p=x){var x=l[w],y=ge(x),b=x[1]/2+Be,A=ut(b),k=lt(b),T=y-g,N=T>=0?1:-1,I=N*T,$=I>Y,D=_*A;if(d.add(kn(D*N*ut(I),M*k+D*lt(I))),f+=$?T+N*jt:T,$^g>=r^y>=r){var S=Kn(mn(p),mn(x));Me(S);var R=Kn(c,S);Me(R);var v=($^T>=0?-1:1)*In(R[2]);(e>v||e===v&&(S[0]||S[1]))&&(s+=$^T>=0?1:-1)}}return(f<-J||f<J&&d<-1e-12)^s&1}function $r(t,n,r,e){return function(i){var c=n(i),f=wr(),s=n(f),d=!1,h,o,l,u={point:p,lineStart:m,lineEnd:_,polygonStart:function(){u.point=M,u.lineStart=w,u.lineEnd=x,o=[],h=[]},polygonEnd:function(){u.point=p,u.lineStart=m,u.lineEnd=_,o=Er(o);var y=vi(h,e);o.length?(d||(i.polygonStart(),d=!0),xr(o,_i,y,r,i)):y&&(d||(i.polygonStart(),d=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),o=h=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(y,b){t(y,b)&&i.point(y,b)}function g(y,b){c.point(y,b)}function m(){u.point=g,c.lineStart()}function _(){u.point=p,c.lineEnd()}function M(y,b){l.push([y,b]),s.point(y,b)}function w(){s.lineStart(),l=[]}function x(){M(l[0][0],l[0][1]),s.lineEnd();var y=s.clean(),b=f.result(),A,k=b.length,T,N,I;if(l.pop(),h.push(l),l=null,!!k){if(y&1){if(N=b[0],(T=N.length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),A=0;A<T;++A)i.point((I=N[A])[0],I[1]);i.lineEnd()}return}k>1&&y&2&&b.push(b.pop().concat(b.shift())),o.push(b.filter(mi))}}return u}}function mi(t){return t.length>1}function _i(t,n){return((t=t.x)[0]<0?t[1]-Nt-J:Nt-t[1])-((n=n.x)[0]<0?n[1]-Nt-J:Nt-n[1])}const er=$r(function(){return!0},yi,Si,[-Y,-Nt]);function yi(t){var n=NaN,r=NaN,e=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(c,f){var s=c>0?Y:-Y,d=et(c-n);et(d-Y)<J?(t.point(n,r=(r+f)/2>0?Nt:-Nt),t.point(e,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(c,r),i=0):e!==s&&d>=Y&&(et(n-e)<J&&(n-=e*J),et(c-s)<J&&(c-=s*J),r=Ei(n,r,c,f),t.point(e,r),t.lineEnd(),t.lineStart(),t.point(s,r),i=0),t.point(n=c,r=f),e=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-i}}}function Ei(t,n,r,e){var i,c,f=ut(t-r);return et(f)>J?Sr((ut(n)*(c=lt(e))*ut(r)-ut(e)*(i=lt(n))*ut(t))/(i*c*f)):(n+e)/2}function Si(t,n,r,e){var i;if(t==null)i=r*Nt,e.point(-Y,i),e.point(0,i),e.point(Y,i),e.point(Y,0),e.point(Y,-i),e.point(0,-i),e.point(-Y,-i),e.point(-Y,0),e.point(-Y,i);else if(et(t[0]-n[0])>J){var c=t[0]<n[0]?Y:-Y;i=r*c/2,e.point(-c,i),e.point(0,i),e.point(c,i)}else e.point(n[0],n[1])}function Mi(t){var n=lt(t),r=2*gt,e=n>0,i=et(n)>J;function c(o,l,u,p){di(p,t,r,u,o,l)}function f(o,l){return lt(o)*lt(l)>n}function s(o){var l,u,p,g,m;return{lineStart:function(){g=p=!1,m=1},point:function(_,M){var w=[_,M],x,y=f(_,M),b=e?y?0:h(_,M):y?h(_+(_<0?Y:-Y),M):0;if(!l&&(g=p=y)&&o.lineStart(),y!==p&&(x=d(l,w),(!x||Hn(l,x)||Hn(w,x))&&(w[2]=1)),y!==p)m=0,y?(o.lineStart(),x=d(w,l),o.point(x[0],x[1])):(x=d(l,w),o.point(x[0],x[1],2),o.lineEnd()),l=x;else if(i&&l&&e^y){var A;!(b&u)&&(A=d(w,l,!0))&&(m=0,e?(o.lineStart(),o.point(A[0][0],A[0][1]),o.point(A[1][0],A[1][1]),o.lineEnd()):(o.point(A[1][0],A[1][1]),o.lineEnd(),o.lineStart(),o.point(A[0][0],A[0][1],3)))}y&&(!l||!Hn(l,w))&&o.point(w[0],w[1]),l=w,p=y,u=b},lineEnd:function(){p&&o.lineEnd(),l=null},clean:function(){return m|(g&&p)<<1}}}function d(o,l,u){var p=mn(o),g=mn(l),m=[1,0,0],_=Kn(p,g),M=Yn(_,_),w=_[0],x=M-w*w;if(!x)return!u&&o;var y=n*M/x,b=-n*w/x,A=Kn(m,_),k=qn(m,y),T=qn(_,b);pe(k,T);var N=A,I=Yn(k,N),$=Yn(N,N),D=I*I-$*(Yn(k,k)-1);if(!(D<0)){var S=fn(D),R=qn(N,(-I-S)/$);if(pe(R,k),R=Se(R),!u)return R;var v=o[0],L=l[0],B=o[1],K=l[1],rt;L<v&&(rt=v,v=L,L=rt);var Mt=L-v,st=et(Mt-Y)<J,dt=st||Mt<J;if(!st&&K<B&&(rt=B,B=K,K=rt),dt?st?B+K>0^R[1]<(et(R[0]-v)<J?B:K):B<=R[1]&&R[1]<=K:Mt>Y^(v<=R[0]&&R[0]<=L)){var G=qn(N,(-I+S)/$);return pe(G,k),[R,Se(G)]}}}function h(o,l){var u=e?t:Y-t,p=0;return o<-u?p|=1:o>u&&(p|=2),l<-u?p|=4:l>u&&(p|=8),p}return $r(f,s,c,e?[0,-t]:[-Y,t-Y])}function wi(t,n,r,e,i,c){var f=t[0],s=t[1],d=n[0],h=n[1],o=0,l=1,u=d-f,p=h-s,g;if(g=r-f,!(!u&&g>0)){if(g/=u,u<0){if(g<o)return;g<l&&(l=g)}else if(u>0){if(g>l)return;g>o&&(o=g)}if(g=i-f,!(!u&&g<0)){if(g/=u,u<0){if(g>l)return;g>o&&(o=g)}else if(u>0){if(g<o)return;g<l&&(l=g)}if(g=e-s,!(!p&&g>0)){if(g/=p,p<0){if(g<o)return;g<l&&(l=g)}else if(p>0){if(g>l)return;g>o&&(o=g)}if(g=c-s,!(!p&&g<0)){if(g/=p,p<0){if(g>l)return;g>o&&(o=g)}else if(p>0){if(g<o)return;g<l&&(l=g)}return o>0&&(t[0]=f+o*u,t[1]=s+o*p),l<1&&(n[0]=f+l*u,n[1]=s+l*p),!0}}}}}var Rn=1e9,Gn=-Rn;function xi(t,n,r,e){function i(h,o){return t<=h&&h<=r&&n<=o&&o<=e}function c(h,o,l,u){var p=0,g=0;if(h==null||(p=f(h,l))!==(g=f(o,l))||d(h,o)<0^l>0)do u.point(p===0||p===3?t:r,p>1?e:n);while((p=(p+l+4)%4)!==g);else u.point(o[0],o[1])}function f(h,o){return et(h[0]-t)<J?o>0?0:3:et(h[0]-r)<J?o>0?2:1:et(h[1]-n)<J?o>0?1:0:o>0?3:2}function s(h,o){return d(h.x,o.x)}function d(h,o){var l=f(h,1),u=f(o,1);return l!==u?l-u:l===0?o[1]-h[1]:l===1?h[0]-o[0]:l===2?h[1]-o[1]:o[0]-h[0]}return function(h){var o=h,l=wr(),u,p,g,m,_,M,w,x,y,b,A,k={point:T,lineStart:D,lineEnd:S,polygonStart:I,polygonEnd:$};function T(v,L){i(v,L)&&o.point(v,L)}function N(){for(var v=0,L=0,B=p.length;L<B;++L)for(var K=p[L],rt=1,Mt=K.length,st=K[0],dt,G,ct=st[0],ft=st[1];rt<Mt;++rt)dt=ct,G=ft,st=K[rt],ct=st[0],ft=st[1],G<=e?ft>e&&(ct-dt)*(e-G)>(ft-G)*(t-dt)&&++v:ft<=e&&(ct-dt)*(e-G)<(ft-G)*(t-dt)&&--v;return v}function I(){o=l,u=[],p=[],A=!0}function $(){var v=N(),L=A&&v,B=(u=Er(u)).length;(L||B)&&(h.polygonStart(),L&&(h.lineStart(),c(null,null,1,h),h.lineEnd()),B&&xr(u,s,v,c,h),h.polygonEnd()),o=h,u=p=g=null}function D(){k.point=R,p&&p.push(g=[]),b=!0,y=!1,w=x=NaN}function S(){u&&(R(m,_),M&&y&&l.rejoin(),u.push(l.result())),k.point=T,y&&o.lineEnd()}function R(v,L){var B=i(v,L);if(p&&g.push([v,L]),b)m=v,_=L,M=B,b=!1,B&&(o.lineStart(),o.point(v,L));else if(B&&y)o.point(v,L);else{var K=[w=Math.max(Gn,Math.min(Rn,w)),x=Math.max(Gn,Math.min(Rn,x))],rt=[v=Math.max(Gn,Math.min(Rn,v)),L=Math.max(Gn,Math.min(Rn,L))];wi(K,rt,t,n,r,e)?(y||(o.lineStart(),o.point(K[0],K[1])),o.point(rt[0],rt[1]),B||o.lineEnd(),A=!1):B&&(o.lineStart(),o.point(v,L),A=!1)}w=v,x=L,y=B}return k}}const $e=t=>t;var de=new sn,Pe=new sn,Pr,Rr,Re,be,Ut={point:Ct,lineStart:Ct,lineEnd:Ct,polygonStart:function(){Ut.lineStart=$i,Ut.lineEnd=Ri},polygonEnd:function(){Ut.lineStart=Ut.lineEnd=Ut.point=Ct,de.add(et(Pe)),Pe=new sn},result:function(){var t=de/2;return de=new sn,t}};function $i(){Ut.point=Pi}function Pi(t,n){Ut.point=br,Pr=Re=t,Rr=be=n}function br(t,n){Pe.add(be*t-Re*n),Re=t,be=n}function Ri(){br(Pr,Rr)}var _n=1/0,Qn=_n,jn=-_n,Jn=jn,te={point:bi,lineStart:Ct,lineEnd:Ct,polygonStart:Ct,polygonEnd:Ct,result:function(){var t=[[_n,Qn],[jn,Jn]];return jn=Jn=-(Qn=_n=1/0),t}};function bi(t,n){t<_n&&(_n=t),t>jn&&(jn=t),n<Qn&&(Qn=n),n>Jn&&(Jn=n)}var Ae=0,Te=0,bn=0,ne=0,ee=0,dn=0,Ne=0,Le=0,An=0,Ar,Tr,Gt,Vt,Dt={point:cn,lineStart:rr,lineEnd:ir,polygonStart:function(){Dt.lineStart=Ni,Dt.lineEnd=Li},polygonEnd:function(){Dt.point=cn,Dt.lineStart=rr,Dt.lineEnd=ir},result:function(){var t=An?[Ne/An,Le/An]:dn?[ne/dn,ee/dn]:bn?[Ae/bn,Te/bn]:[NaN,NaN];return Ae=Te=bn=ne=ee=dn=Ne=Le=An=0,t}};function cn(t,n){Ae+=t,Te+=n,++bn}function rr(){Dt.point=Ai}function Ai(t,n){Dt.point=Ti,cn(Gt=t,Vt=n)}function Ti(t,n){var r=t-Gt,e=n-Vt,i=fn(r*r+e*e);ne+=i*(Gt+t)/2,ee+=i*(Vt+n)/2,dn+=i,cn(Gt=t,Vt=n)}function ir(){Dt.point=cn}function Ni(){Dt.point=ki}function Li(){Nr(Ar,Tr)}function ki(t,n){Dt.point=Nr,cn(Ar=Gt=t,Tr=Vt=n)}function Nr(t,n){var r=t-Gt,e=n-Vt,i=fn(r*r+e*e);ne+=i*(Gt+t)/2,ee+=i*(Vt+n)/2,dn+=i,i=Vt*t-Gt*n,Ne+=i*(Gt+t),Le+=i*(Vt+n),An+=i*3,cn(Gt=t,Vt=n)}function Lr(t){this._context=t}Lr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,jt);break}}},result:Ct};var ke=new sn,ve,kr,Ir,Tn,Nn,On={point:Ct,lineStart:function(){On.point=Ii},lineEnd:function(){ve&&jr(kr,Ir),On.point=Ct},polygonStart:function(){ve=!0},polygonEnd:function(){ve=null},result:function(){var t=+ke;return ke=new sn,t}};function Ii(t,n){On.point=jr,kr=Tn=t,Ir=Nn=n}function jr(t,n){Tn-=t,Nn-=n,ke.add(fn(Tn*Tn+Nn*Nn)),Tn=t,Nn=n}let or,re,ar,lr;class ur{constructor(n){this._append=n==null?Or:ji(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,r){switch(this._point){case 0:{this._append`M${n},${r}`,this._point=1;break}case 1:{this._append`L${n},${r}`;break}default:{if(this._append`M${n},${r}`,this._radius!==ar||this._append!==re){const e=this._radius,i=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,ar=e,re=this._append,lr=this._,this._=i}this._+=lr;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Or(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function ji(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Or;if(n!==or){const r=10**n;or=n,re=function(i){let c=1;this._+=i[0];for(const f=i.length;c<f;++c)this._+=Math.round(arguments[c]*r)/r+i[c]}}return re}function Oi(t,n){let r=3,e=4.5,i,c;function f(s){return s&&(typeof e=="function"&&c.pointRadius(+e.apply(this,arguments)),gn(s,i(c))),c.result()}return f.area=function(s){return gn(s,i(Ut)),Ut.result()},f.measure=function(s){return gn(s,i(On)),On.result()},f.bounds=function(s){return gn(s,i(te)),te.result()},f.centroid=function(s){return gn(s,i(Dt)),Dt.result()},f.projection=function(s){return arguments.length?(i=s==null?(t=null,$e):(t=s).stream,f):t},f.context=function(s){return arguments.length?(c=s==null?(n=null,new ur(r)):new Lr(n=s),typeof e!="function"&&c.pointRadius(e),f):n},f.pointRadius=function(s){return arguments.length?(e=typeof s=="function"?s:(c.pointRadius(+s),+s),f):e},f.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const d=Math.floor(s);if(!(d>=0))throw new RangeError(`invalid digits: ${s}`);r=d}return n===null&&(c=new ur(r)),f},f.projection(t).digits(r).context(n)}function De(t){return function(n){var r=new Ie;for(var e in t)r[e]=t[e];return r.stream=n,r}}function Ie(){}Ie.prototype={constructor:Ie,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ce(t,n,r){var e=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),e!=null&&t.clipExtent(null),gn(r,t.stream(te)),n(te.result()),e!=null&&t.clipExtent(e),t}function Dr(t,n,r){return Ce(t,function(e){var i=n[1][0]-n[0][0],c=n[1][1]-n[0][1],f=Math.min(i/(e[1][0]-e[0][0]),c/(e[1][1]-e[0][1])),s=+n[0][0]+(i-f*(e[1][0]+e[0][0]))/2,d=+n[0][1]+(c-f*(e[1][1]+e[0][1]))/2;t.scale(150*f).translate([s,d])},r)}function Di(t,n,r){return Dr(t,[[0,0],n],r)}function Ci(t,n,r){return Ce(t,function(e){var i=+n,c=i/(e[1][0]-e[0][0]),f=(i-c*(e[1][0]+e[0][0]))/2,s=-c*e[0][1];t.scale(150*c).translate([f,s])},r)}function Fi(t,n,r){return Ce(t,function(e){var i=+n,c=i/(e[1][1]-e[0][1]),f=-c*e[0][0],s=(i-c*(e[1][1]+e[0][1]))/2;t.scale(150*c).translate([f,s])},r)}var sr=16,zi=lt(30*gt);function cr(t,n){return+n?Yi(t,n):Xi(t)}function Xi(t){return De({point:function(n,r){n=t(n,r),this.stream.point(n[0],n[1])}})}function Yi(t,n){function r(e,i,c,f,s,d,h,o,l,u,p,g,m,_){var M=h-e,w=o-i,x=M*M+w*w;if(x>4*n&&m--){var y=f+u,b=s+p,A=d+g,k=fn(y*y+b*b+A*A),T=In(A/=k),N=et(et(A)-1)<J||et(c-l)<J?(c+l)/2:kn(b,y),I=t(N,T),$=I[0],D=I[1],S=$-e,R=D-i,v=w*S-M*R;(v*v/x>n||et((M*S+w*R)/x-.5)>.3||f*u+s*p+d*g<zi)&&(r(e,i,c,f,s,d,$,D,N,y/=k,b/=k,A,m,_),_.point($,D),r($,D,N,y,b,A,h,o,l,u,p,g,m,_))}}return function(e){var i,c,f,s,d,h,o,l,u,p,g,m,_={point:M,lineStart:w,lineEnd:y,polygonStart:function(){e.polygonStart(),_.lineStart=b},polygonEnd:function(){e.polygonEnd(),_.lineStart=w}};function M(T,N){T=t(T,N),e.point(T[0],T[1])}function w(){l=NaN,_.point=x,e.lineStart()}function x(T,N){var I=mn([T,N]),$=t(T,N);r(l,u,o,p,g,m,l=$[0],u=$[1],o=T,p=I[0],g=I[1],m=I[2],sr,e),e.point(l,u)}function y(){_.point=M,e.lineEnd()}function b(){w(),_.point=A,_.lineEnd=k}function A(T,N){x(i=T,N),c=l,f=u,s=p,d=g,h=m,_.point=x}function k(){r(l,u,o,p,g,m,c,f,i,s,d,h,sr,e),_.lineEnd=y,y()}return _}}var qi=De({point:function(t,n){this.stream.point(t*gt,n*gt)}});function Zi(t){return De({point:function(n,r){var e=t(n,r);return this.stream.point(e[0],e[1])}})}function Gi(t,n,r,e,i){function c(f,s){return f*=e,s*=i,[n+t*f,r-t*s]}return c.invert=function(f,s){return[(f-n)/t*e,(r-s)/t*i]},c}function fr(t,n,r,e,i,c){if(!c)return Gi(t,n,r,e,i);var f=lt(c),s=ut(c),d=f*t,h=s*t,o=f/t,l=s/t,u=(s*r-f*n)/t,p=(s*n+f*r)/t;function g(m,_){return m*=e,_*=i,[d*m-h*_+n,r-h*m-d*_]}return g.invert=function(m,_){return[e*(o*m-l*_+u),i*(p-l*m-o*_)]},g}function Vi(t){return Bi(function(){return t})()}function Bi(t){var n,r=150,e=480,i=250,c=0,f=0,s=0,d=0,h=0,o,l=0,u=1,p=1,g=null,m=er,_=null,M,w,x,y=$e,b=.5,A,k,T,N,I;function $(v){return T(v[0]*gt,v[1]*gt)}function D(v){return v=T.invert(v[0],v[1]),v&&[v[0]*It,v[1]*It]}$.stream=function(v){return N&&I===v?N:N=qi(Zi(o)(m(A(y(I=v)))))},$.preclip=function(v){return arguments.length?(m=v,g=void 0,R()):m},$.postclip=function(v){return arguments.length?(y=v,_=M=w=x=null,R()):y},$.clipAngle=function(v){return arguments.length?(m=+v?Mi(g=v*gt):(g=null,er),R()):g*It},$.clipExtent=function(v){return arguments.length?(y=v==null?(_=M=w=x=null,$e):xi(_=+v[0][0],M=+v[0][1],w=+v[1][0],x=+v[1][1]),R()):_==null?null:[[_,M],[w,x]]},$.scale=function(v){return arguments.length?(r=+v,S()):r},$.translate=function(v){return arguments.length?(e=+v[0],i=+v[1],S()):[e,i]},$.center=function(v){return arguments.length?(c=v[0]%360*gt,f=v[1]%360*gt,S()):[c*It,f*It]},$.rotate=function(v){return arguments.length?(s=v[0]%360*gt,d=v[1]%360*gt,h=v.length>2?v[2]%360*gt:0,S()):[s*It,d*It,h*It]},$.angle=function(v){return arguments.length?(l=v%360*gt,S()):l*It},$.reflectX=function(v){return arguments.length?(u=v?-1:1,S()):u<0},$.reflectY=function(v){return arguments.length?(p=v?-1:1,S()):p<0},$.precision=function(v){return arguments.length?(A=cr(k,b=v*v),R()):fn(b)},$.fitExtent=function(v,L){return Dr($,v,L)},$.fitSize=function(v,L){return Di($,v,L)},$.fitWidth=function(v,L){return Ci($,v,L)},$.fitHeight=function(v,L){return Fi($,v,L)};function S(){var v=fr(r,0,0,u,p,l).apply(null,n(c,f)),L=fr(r,e-v[0],i-v[1],u,p,l);return o=Mr(s,d,h),k=we(n,L),T=we(o,k),A=cr(k,b),R()}function R(){return N=I=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&D,S()}}function Fe(t,n){return[t,ci(hi((Nt+n)/2))]}Fe.invert=function(t,n){return[t,2*Sr(si(n))-Nt]};function me(){return Hi(Fe).scale(961/jt)}function Hi(t){var n=Vi(t),r=n.center,e=n.scale,i=n.translate,c=n.clipExtent,f=null,s,d,h;n.scale=function(l){return arguments.length?(e(l),o()):e()},n.translate=function(l){return arguments.length?(i(l),o()):i()},n.center=function(l){return arguments.length?(r(l),o()):r()},n.clipExtent=function(l){return arguments.length?(l==null?f=s=d=h=null:(f=+l[0][0],s=+l[0][1],d=+l[1][0],h=+l[1][1]),o()):f==null?null:[[f,s],[d,h]]};function o(){var l=Y*e(),u=n(gi(n.rotate()).invert([0,0]));return c(f==null?[[u[0]-l,u[1]-l],[u[0]+l,u[1]+l]]:t===Fe?[[Math.max(u[0]-l,f),s],[Math.min(u[0]+l,d),h]]:[[f,Math.max(u[1]-l,s)],[d,Math.min(u[1]+l,h)]])}return o()}function Ui(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const hr=Symbol("implicit");function Cr(){var t=new Ge,n=[],r=[],e=hr;function i(c){let f=t.get(c);if(f===void 0){if(e!==hr)return e;t.set(c,f=n.push(c)-1)}return r[f%r.length]}return i.domain=function(c){if(!arguments.length)return n.slice();n=[],t=new Ge;for(const f of c)t.has(f)||t.set(f,n.push(f)-1);return i},i.range=function(c){return arguments.length?(r=Array.from(c),i):r.slice()},i.unknown=function(c){return arguments.length?(e=c,i):e},i.copy=function(){return Cr(n,r).unknown(e)},Ui.apply(i,arguments),i}function Pt(t){return function(){return t}}const pr=Math.abs,St=Math.atan2,ln=Math.cos,Wi=Math.max,_e=Math.min,Zt=Math.sin,vn=Math.sqrt,Tt=1e-12,Dn=Math.PI,ie=Dn/2,Un=2*Dn;function Ki(t){return t>1?0:t<-1?Dn:Math.acos(t)}function gr(t){return t>=1?ie:t<=-1?-ie:Math.asin(t)}const je=Math.PI,Oe=2*je,un=1e-6,Qi=Oe-un;function Fr(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function Ji(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Fr;const r=10**n;return function(e){this._+=e[0];for(let i=1,c=e.length;i<c;++i)this._+=Math.round(arguments[i]*r)/r+e[i]}}class to{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Fr:Ji(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,e,i){this._append`Q${+n},${+r},${this._x1=+e},${this._y1=+i}`}bezierCurveTo(n,r,e,i,c,f){this._append`C${+n},${+r},${+e},${+i},${this._x1=+c},${this._y1=+f}`}arcTo(n,r,e,i,c){if(n=+n,r=+r,e=+e,i=+i,c=+c,c<0)throw new Error(`negative radius: ${c}`);let f=this._x1,s=this._y1,d=e-n,h=i-r,o=f-n,l=s-r,u=o*o+l*l;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(u>un)if(!(Math.abs(l*d-h*o)>un)||!c)this._append`L${this._x1=n},${this._y1=r}`;else{let p=e-f,g=i-s,m=d*d+h*h,_=p*p+g*g,M=Math.sqrt(m),w=Math.sqrt(u),x=c*Math.tan((je-Math.acos((m+u-_)/(2*M*w)))/2),y=x/w,b=x/M;Math.abs(y-1)>un&&this._append`L${n+y*o},${r+y*l}`,this._append`A${c},${c},0,0,${+(l*p>o*g)},${this._x1=n+b*d},${this._y1=r+b*h}`}}arc(n,r,e,i,c,f){if(n=+n,r=+r,e=+e,f=!!f,e<0)throw new Error(`negative radius: ${e}`);let s=e*Math.cos(i),d=e*Math.sin(i),h=n+s,o=r+d,l=1^f,u=f?i-c:c-i;this._x1===null?this._append`M${h},${o}`:(Math.abs(this._x1-h)>un||Math.abs(this._y1-o)>un)&&this._append`L${h},${o}`,e&&(u<0&&(u=u%Oe+Oe),u>Qi?this._append`A${e},${e},0,1,${l},${n-s},${r-d}A${e},${e},0,1,${l},${this._x1=h},${this._y1=o}`:u>un&&this._append`A${e},${e},0,${+(u>=je)},${l},${this._x1=n+e*Math.cos(c)},${this._y1=r+e*Math.sin(c)}`)}rect(n,r,e,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${e=+e}v${+i}h${-e}Z`}toString(){return this._}}function no(t){let n=3;return t.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);n=e}return t},()=>new to(n)}function eo(t){return t.innerRadius}function ro(t){return t.outerRadius}function io(t){return t.startAngle}function oo(t){return t.endAngle}function ao(t){return t&&t.padAngle}function lo(t,n,r,e,i,c,f,s){var d=r-t,h=e-n,o=f-i,l=s-c,u=l*d-o*h;if(!(u*u<Tt))return u=(o*(n-c)-l*(t-i))/u,[t+u*d,n+u*h]}function Vn(t,n,r,e,i,c,f){var s=t-r,d=n-e,h=(f?c:-c)/vn(s*s+d*d),o=h*d,l=-h*s,u=t+o,p=n+l,g=r+o,m=e+l,_=(u+g)/2,M=(p+m)/2,w=g-u,x=m-p,y=w*w+x*x,b=i-c,A=u*m-g*p,k=(x<0?-1:1)*vn(Wi(0,b*b*y-A*A)),T=(A*x-w*k)/y,N=(-A*w-x*k)/y,I=(A*x+w*k)/y,$=(-A*w+x*k)/y,D=T-_,S=N-M,R=I-_,v=$-M;return D*D+S*S>R*R+v*v&&(T=I,N=$),{cx:T,cy:N,x01:-o,y01:-l,x11:T*(i/b-1),y11:N*(i/b-1)}}function uo(){var t=eo,n=ro,r=Pt(0),e=null,i=io,c=oo,f=ao,s=null,d=no(h);function h(){var o,l,u=+t.apply(this,arguments),p=+n.apply(this,arguments),g=i.apply(this,arguments)-ie,m=c.apply(this,arguments)-ie,_=pr(m-g),M=m>g;if(s||(s=o=d()),p<u&&(l=p,p=u,u=l),!(p>Tt))s.moveTo(0,0);else if(_>Un-Tt)s.moveTo(p*ln(g),p*Zt(g)),s.arc(0,0,p,g,m,!M),u>Tt&&(s.moveTo(u*ln(m),u*Zt(m)),s.arc(0,0,u,m,g,M));else{var w=g,x=m,y=g,b=m,A=_,k=_,T=f.apply(this,arguments)/2,N=T>Tt&&(e?+e.apply(this,arguments):vn(u*u+p*p)),I=_e(pr(p-u)/2,+r.apply(this,arguments)),$=I,D=I,S,R;if(N>Tt){var v=gr(N/u*Zt(T)),L=gr(N/p*Zt(T));(A-=v*2)>Tt?(v*=M?1:-1,y+=v,b-=v):(A=0,y=b=(g+m)/2),(k-=L*2)>Tt?(L*=M?1:-1,w+=L,x-=L):(k=0,w=x=(g+m)/2)}var B=p*ln(w),K=p*Zt(w),rt=u*ln(b),Mt=u*Zt(b);if(I>Tt){var st=p*ln(x),dt=p*Zt(x),G=u*ln(y),ct=u*Zt(y),ft;if(_<Dn)if(ft=lo(B,K,G,ct,st,dt,rt,Mt)){var j=B-ft[0],C=K-ft[1],F=st-ft[0],tt=dt-ft[1],ht=1/Zt(Ki((j*F+C*tt)/(vn(j*j+C*C)*vn(F*F+tt*tt)))/2),nt=vn(ft[0]*ft[0]+ft[1]*ft[1]);$=_e(I,(u-nt)/(ht-1)),D=_e(I,(p-nt)/(ht+1))}else $=D=0}k>Tt?D>Tt?(S=Vn(G,ct,B,K,p,D,M),R=Vn(st,dt,rt,Mt,p,D,M),s.moveTo(S.cx+S.x01,S.cy+S.y01),D<I?s.arc(S.cx,S.cy,D,St(S.y01,S.x01),St(R.y01,R.x01),!M):(s.arc(S.cx,S.cy,D,St(S.y01,S.x01),St(S.y11,S.x11),!M),s.arc(0,0,p,St(S.cy+S.y11,S.cx+S.x11),St(R.cy+R.y11,R.cx+R.x11),!M),s.arc(R.cx,R.cy,D,St(R.y11,R.x11),St(R.y01,R.x01),!M))):(s.moveTo(B,K),s.arc(0,0,p,w,x,!M)):s.moveTo(B,K),!(u>Tt)||!(A>Tt)?s.lineTo(rt,Mt):$>Tt?(S=Vn(rt,Mt,st,dt,u,-$,M),R=Vn(B,K,G,ct,u,-$,M),s.lineTo(S.cx+S.x01,S.cy+S.y01),$<I?s.arc(S.cx,S.cy,$,St(S.y01,S.x01),St(R.y01,R.x01),!M):(s.arc(S.cx,S.cy,$,St(S.y01,S.x01),St(S.y11,S.x11),!M),s.arc(0,0,u,St(S.cy+S.y11,S.cx+S.x11),St(R.cy+R.y11,R.cx+R.x11),M),s.arc(R.cx,R.cy,$,St(R.y11,R.x11),St(R.y01,R.x01),!M))):s.arc(0,0,u,b,y,M)}if(s.closePath(),o)return s=null,o+""||null}return h.centroid=function(){var o=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,l=(+i.apply(this,arguments)+ +c.apply(this,arguments))/2-Dn/2;return[ln(l)*o,Zt(l)*o]},h.innerRadius=function(o){return arguments.length?(t=typeof o=="function"?o:Pt(+o),h):t},h.outerRadius=function(o){return arguments.length?(n=typeof o=="function"?o:Pt(+o),h):n},h.cornerRadius=function(o){return arguments.length?(r=typeof o=="function"?o:Pt(+o),h):r},h.padRadius=function(o){return arguments.length?(e=o==null?null:typeof o=="function"?o:Pt(+o),h):e},h.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Pt(+o),h):i},h.endAngle=function(o){return arguments.length?(c=typeof o=="function"?o:Pt(+o),h):c},h.padAngle=function(o){return arguments.length?(f=typeof o=="function"?o:Pt(+o),h):f},h.context=function(o){return arguments.length?(s=o??null,h):s},h}function so(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function co(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function fo(t){return t}function ho(){var t=fo,n=co,r=null,e=Pt(0),i=Pt(Un),c=Pt(0);function f(s){var d,h=(s=so(s)).length,o,l,u=0,p=new Array(h),g=new Array(h),m=+e.apply(this,arguments),_=Math.min(Un,Math.max(-Un,i.apply(this,arguments)-m)),M,w=Math.min(Math.abs(_)/h,c.apply(this,arguments)),x=w*(_<0?-1:1),y;for(d=0;d<h;++d)(y=g[p[d]=d]=+t(s[d],d,s))>0&&(u+=y);for(n!=null?p.sort(function(b,A){return n(g[b],g[A])}):r!=null&&p.sort(function(b,A){return r(s[b],s[A])}),d=0,l=u?(_-h*x)/u:0;d<h;++d,m=M)o=p[d],y=g[o],M=m+(y>0?y*l:0)+x,g[o]={data:s[o],index:d,value:y,startAngle:m,endAngle:M,padAngle:w};return g}return f.value=function(s){return arguments.length?(t=typeof s=="function"?s:Pt(+s),f):t},f.sortValues=function(s){return arguments.length?(n=s,r=null,f):n},f.sort=function(s){return arguments.length?(r=s,n=null,f):r},f.startAngle=function(s){return arguments.length?(e=typeof s=="function"?s:Pt(+s),f):e},f.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Pt(+s),f):i},f.padAngle=function(s){return arguments.length?(c=typeof s=="function"?s:Pt(+s),f):c},f}const po=t=>t;function go(t,{delay:n=0,duration:r=400,easing:e=po}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:e,css:c=>`opacity: ${c*i}`}}function vo(t){return t}function mo(t){if(t==null)return vo;var n,r,e=t.scale[0],i=t.scale[1],c=t.translate[0],f=t.translate[1];return function(s,d){d||(n=r=0);var h=2,o=s.length,l=new Array(o);for(l[0]=(n+=s[0])*e+c,l[1]=(r+=s[1])*i+f;h<o;)l[h]=s[h],++h;return l}}function _o(t,n){for(var r,e=t.length,i=e-n;i<--e;)r=t[i],t[i++]=t[e],t[e]=r}function yo(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(r){return dr(t,r)})}:dr(t,n)}function dr(t,n){var r=n.id,e=n.bbox,i=n.properties==null?{}:n.properties,c=zr(t,n);return r==null&&e==null?{type:"Feature",properties:i,geometry:c}:e==null?{type:"Feature",id:r,properties:i,geometry:c}:{type:"Feature",id:r,bbox:e,properties:i,geometry:c}}function zr(t,n){var r=mo(t.transform),e=t.arcs;function i(o,l){l.length&&l.pop();for(var u=e[o<0?~o:o],p=0,g=u.length;p<g;++p)l.push(r(u[p],p));o<0&&_o(l,g)}function c(o){return r(o)}function f(o){for(var l=[],u=0,p=o.length;u<p;++u)i(o[u],l);return l.length<2&&l.push(l[0]),l}function s(o){for(var l=f(o);l.length<4;)l.push(l[0]);return l}function d(o){return o.map(s)}function h(o){var l=o.type,u;switch(l){case"GeometryCollection":return{type:l,geometries:o.geometries.map(h)};case"Point":u=c(o.coordinates);break;case"MultiPoint":u=o.coordinates.map(c);break;case"LineString":u=f(o.arcs);break;case"MultiLineString":u=o.arcs.map(f);break;case"Polygon":u=d(o.arcs);break;case"MultiPolygon":u=o.arcs.map(d);break;default:return null}return{type:l,coordinates:u}}return h(n)}function Eo(t,n){var r={},e={},i={},c=[],f=-1;n.forEach(function(h,o){var l=t.arcs[h<0?~h:h],u;l.length<3&&!l[1][0]&&!l[1][1]&&(u=n[++f],n[f]=h,n[o]=u)}),n.forEach(function(h){var o=s(h),l=o[0],u=o[1],p,g;if(p=i[l])if(delete i[p.end],p.push(h),p.end=u,g=e[u]){delete e[g.start];var m=g===p?p:p.concat(g);e[m.start=p.start]=i[m.end=g.end]=m}else e[p.start]=i[p.end]=p;else if(p=e[u])if(delete e[p.start],p.unshift(h),p.start=l,g=i[l]){delete i[g.end];var _=g===p?p:g.concat(p);e[_.start=g.start]=i[_.end=p.end]=_}else e[p.start]=i[p.end]=p;else p=[h],e[p.start=l]=i[p.end=u]=p});function s(h){var o=t.arcs[h<0?~h:h],l=o[0],u;return t.transform?(u=[0,0],o.forEach(function(p){u[0]+=p[0],u[1]+=p[1]})):u=o[o.length-1],h<0?[u,l]:[l,u]}function d(h,o){for(var l in h){var u=h[l];delete o[u.start],delete u.start,delete u.end,u.forEach(function(p){r[p<0?~p:p]=1}),c.push(u)}}return d(i,e),d(e,i),n.forEach(function(h){r[h<0?~h:h]||c.push([h])}),c}function vr(t){return zr(t,So.apply(this,arguments))}function So(t,n,r){var e,i,c;if(arguments.length>1)e=Mo(t,n,r);else for(i=0,e=new Array(c=t.arcs.length);i<c;++i)e[i]=i;return{type:"MultiLineString",arcs:Eo(t,e)}}function Mo(t,n,r){var e=[],i=[],c;function f(l){var u=l<0?~l:l;(i[u]||(i[u]=[])).push({i:l,g:c})}function s(l){l.forEach(f)}function d(l){l.forEach(s)}function h(l){l.forEach(d)}function o(l){switch(c=l,l.type){case"GeometryCollection":l.geometries.forEach(o);break;case"LineString":s(l.arcs);break;case"MultiLineString":case"Polygon":d(l.arcs);break;case"MultiPolygon":h(l.arcs);break}}return o(n),i.forEach(r==null?function(l){e.push(l[0].i)}:function(l){r(l[0].g,l[l.length-1].g)&&e.push(l[0].i)}),e}var wo=(t,n,r)=>{n(t),r(t)},xo=Wt('<text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle">Loading...</text>'),$o=Wt('<path fill="none" stroke="#bbb" stroke-width="1px"></path>'),Po=Wt('<path stroke="#000"></path>'),Ro=Wt('<path class="arc"></path>'),bo=Wt('<g class="pies"></g>'),Ao=Wt('<g><path></path><!><path fill="none" stroke="#888"></path></g><g></g><g></g>',1),To=Wt('<rect stroke="black" stroke-width="1" fill="rgba(255, 255, 255, 0.5)"></rect>'),No=Rt('<div class="d-flex align-items-center"><svg width="16" height="16" class="me-1"><rect width="16" height="16"></rect></svg> </div>'),Lo=Rt('<div class="position-absolute bottom-0 end-0 m-2 p-2 bg-black bg-opacity-75 text-white pe-none"><h5 class="visually-hidden">Legend</h5> <!></div>'),ko=Rt('<div class="position-absolute top-0 end-0 m-2"><button class="btn btn-secondary"><i class="bi bi-house"></i> <div class="visually-hidden">Reset zoom</div></button></div>'),Io=Wt('<svg class="position-absolute translate-middle-x opacity-75 start-50" width="10" height="5"><polygon points="0,0 10,0 5,5" fill="black"></polygon></svg>'),jo=Wt('<svg class="position-absolute translate-middle-x opacity-75 start-50" width="10" height="5"><polygon points="0,5 10,5 5,0" fill="black"></polygon></svg>'),Oo=Rt('<div class="px-2"><svg width="16" height="16"><rect width="16" height="16"></rect></svg> </div>'),Do=Rt('<div class="px-2"><strong> </strong></div>'),Co=Rt('<h5 class="fs-7 mb-0 px-2 svelte-1vuwfxm"> </h5> <!> <!>',1),Fo=Rt("<div> </div>"),zo=Rt('<div><h5 class="fs-7 mb-0 svelte-1vuwfxm"> </h5> <!></div>'),Xo=Rt('<div class="position-absolute bg-black bg-opacity-75 text-white py-2 rounded fs-8 pe-none svelte-1vuwfxm"><!> <!></div>'),Yo=Rt('<div class="position-relative"><svg><!><!></svg> <!> <!> <!></div>');function qo(t,n){mr(n,!0);let r=at(null);Bn(()=>{n.map&&ii(Object.assign({"../topojson/nuts-1.json":()=>zn(()=>import("../chunks/BGj-pI5n.js"),[]),"../topojson/nuts-2.json":()=>zn(()=>import("../chunks/CpFZsRVk.js"),[]),"../topojson/nuts-3.json":()=>zn(()=>import("../chunks/B34HR-o6.js"),[]),"../topojson/world-3.json":()=>zn(()=>import("../chunks/43hnhKVC.js"),[])}),`../topojson/${n.map}.json`,3).then(E=>{z(r,E.default,!0)}).catch(E=>{console.error(`Error loading topology for ${n.map}:`,E)})});let e=ue(n,"id",3,"map"),i=ue(n,"lineData",19,()=>({})),c=ue(n,"nodeCoords",19,()=>({})),f;const s=7,d=40,h=1,o=8;let l=at(936),u=at(800),p=at(1),g=at(0),m=at(0),_=O(()=>{const E=new Set(Object.keys(n.pieData).concat(Object.keys(i()).flatMap(Z=>Z.split("-")))),P=Object.entries(c()).filter(([Z,H])=>E.has(Z));if(!c()||P.length==0)return{scale:1100,translateX:400,translateY:1500};if(P.length==1){const Z=me().scale(800).translate([0,0]),H=Z(P[0][1]);return{scale:Z.scale(),translateX:a(l)/2-H[0],translateY:a(u)/2-H[1]}}const X={type:"FeatureCollection",features:P.map(([Z,H])=>({type:"Feature",geometry:{type:"Point",coordinates:H},properties:{}}))},q=1.5*d,W=me().fitExtent([[q,q],[a(l)-q,a(u)-q]],X);return{scale:W.scale(),translateX:W.translate()[0],translateY:W.translate()[1]}}),M=O(()=>me().translate([a(_).translateX*a(p)+a(g),a(_).translateY*a(p)+a(m)]).scale(a(_).scale*a(p))),w=O(()=>Oi().projection(a(M)));const x=Cr(Br()),y=ho().sort(null).value(E=>E);let b=O(()=>a(r)?a(w)(yo(a(r),a(r).objects.land)):null),A=O(()=>a(r)?a(w)(vr(a(r),a(r).objects.countries,(E,P)=>E!==P)):null),k=O(()=>!a(r)||!("regions"in a(r).objects)?null:a(w)(vr(a(r),a(r).objects.regions,(E,P)=>E!==P))),T=ri().filter(N).on("zoom",I);ye(()=>{f&&fe(f).call(T).call(T.transform,he)});function N(E){return E.button==0&&!(E.ctrlKey&&E.button===0)&&!(E.ctrlKey&&E.type!=="wheel")}function I(E){const{transform:P}=E;z(p,P.k,!0),z(g,P.x,!0),z(m,P.y,!0)}let $=at(!1),D=at(Ln([0,0])),S=at(Ln([0,0]));function R(E){E.button===0&&(z($,!0),z(D,Xn(E,f),!0),z(S,a(D),!0))}function v(E){a($)&&z(S,Xn(E,f),!0)}function L(E){if(!a($))return;z($,!1);const P=Xn(E,f),[X,q]=a(D),[W,Z]=P,H=Math.abs(X-W),_t=Math.abs(q-Z);if(H===0||_t===0)return;const zt=a(l)/H,V=a(u)/_t,U=Math.min(zt,V),vt=Math.min(X,W)+H/2,kt=Math.min(q,Z)+_t/2,xt=(a(g)-vt)*U+a(l)/2,Xt=(a(m)-kt)*U+a(u)/2,wn=fe(f);T.transform(wn,he.translate(xt,Xt).scale(a(p)*U))}function B(){z($,!1)}function K(){z(p,1),z(g,0),z(m,0),fe(f).call(T.transform,he)}let rt=O(()=>Object.entries(n.pieData).map(([E,P])=>{const X=P.reduce((H,_t)=>H+_t.value,0),q=uo().innerRadius(0).outerRadius(bt(X)),[W,Z]=a(M)(c()[E]||[0,0]);return{x:W,y:Z,label:E,total:X,data:y(P.map(H=>H.value)).map((H,_t)=>({color:x(P[_t].technology),arc:q(H),technology:P[_t].technology,value:H.data}))}})),Mt=O(()=>Object.entries(i()).map(([E,P])=>{const[X,q]=E.split("-"),W=P.reduce((Z,H)=>Math.max(Z,H.value),0);return{label:E,values:P,start:a(M)(c()[X]||[40,40]),end:a(M)(c()[q]||[40,40]),width:Lt(W)}})),st=O(()=>Object.values(n.pieData).reduce((E,P)=>{const X=P.map(q=>q.technology);return[...new Set([...E,...X])]},[])),dt=at(Ln([0,0])),G=O(()=>ht(a(dt))),ct=O(()=>a(G)?[]:nt(a(dt))),ft=O(()=>a(G)?a(G).x:a(ct).length>0?.5*(a(ct)[0].start[0]+a(ct)[0].end[0]):0),j=O(()=>a(G)?a(G).y:a(ct).length>0?.5*(a(ct)[0].start[1]+a(ct)[0].end[1]):0),C=O(()=>5+(a(G)?bt(a(G).total):0)),F=O(()=>a(j)-a(C)>180);function tt(E){z(dt,Xn(E),!0)}function ht(E){const[P,X]=E;return a(rt).find(q=>{const W=P-q.x,Z=X-q.y;return Math.sqrt(W*W+Z*Z)<bt(q.total)})}function nt(E){const[P,X]=E;return a(Mt).filter(q=>{let[W,Z]=q.start,[H,_t]=q.end;const zt=P-W,V=X-Z,U=H-W,vt=_t-Z,kt=zt*U+V*vt,xt=Math.pow(U,2)+Math.pow(vt,2);return kt<0||kt>xt||xt<1e-10?!1:4*(Math.pow(zt,2)+Math.pow(V,2)-Math.pow(kt,2)/xt)<Math.pow(o,2)})}ye(it);function it(){const{width:E,height:P}=f.parentElement.getBoundingClientRect();z(l,E,!0),z(u,P,!0)}function bt(E){return n.maxTotal==n.minTotal?d:s+(E-n.minTotal)/(n.maxTotal-n.minTotal)*(d-s)}function Lt(E){return n.maxEdge==n.minEdge?o:h+(E-n.minEdge)/(n.maxEdge-n.minEdge)*(o-h)}function Ot(E,P){const[X,q]=E,[W,Z]=P;return`M${X},${q} L${W},${Z}`}var yn=Yo();Ze("resize",Zr,it);var mt=Et(yn);mt.__mousemove=[wo,tt,v],mt.__mousedown=R,mt.__mouseup=L,Pn(mt,"",{},{background:"#fff"});var En=Et(mt);{var Sn=E=>{var P=xo();Q(E,P)},Qt=E=>{var P=Ao(),X=Ht(P),q=Et(X);Pn(q,"",{},{fill:"#e0e0e0"});var W=ot(q);{var Z=V=>{var U=$o();At(()=>yt(U,"d",a(k))),Q(V,U)};$t(W,V=>{a(k)!=null&&V(Z)})}var H=ot(W);pt(X);var _t=ot(X);on(_t,21,()=>a(Mt),an,(V,U)=>{var vt=Po();At(kt=>{yt(vt,"d",kt),yt(vt,"stroke-width",a(U).width)},[()=>Ot(a(U).start,a(U).end)]),Q(V,vt)}),pt(_t);var zt=ot(_t);on(zt,21,()=>a(rt),an,(V,U)=>{var vt=bo();on(vt,21,()=>a(U).data,an,(kt,xt)=>{var Xt=Ro();At(()=>{yt(Xt,"d",a(xt).arc),yt(Xt,"fill",a(xt).color)}),Q(kt,Xt)}),pt(vt),At(()=>yt(vt,"transform",`translate(${a(U).x}, ${a(U).y})`)),Q(V,vt)}),pt(zt),At(()=>{yt(q,"d",a(b)),yt(H,"d",a(A)),yt(H,"stroke-width",a(k)==null?"1px":"2px")}),Q(E,P)};$t(En,E=>{a(r)?E(Qt,!1):E(Sn)})}var Jt=ot(En);{var Mn=E=>{var P=To();At((X,q,W,Z)=>{yt(P,"x",X),yt(P,"y",q),yt(P,"width",W),yt(P,"height",Z)},[()=>Math.min(a(D)[0],a(S)[0]),()=>Math.min(a(D)[1],a(S)[1]),()=>Math.abs(a(D)[0]-a(S)[0]),()=>Math.abs(a(D)[1]-a(S)[1])]),Q(E,P)};$t(Jt,E=>{a($)&&E(Mn)})}pt(mt),yr(mt,E=>f=E,()=>f);var hn=ot(mt,2);{var tn=E=>{var P=Lo(),X=ot(Et(P),2);on(X,17,()=>a(st),an,(q,W)=>{var Z=No(),H=Et(Z),_t=Et(H);pt(H);var zt=ot(H);pt(Z),At(V=>{yt(_t,"fill",V),pn(zt,` ${a(W)??""}`)},[()=>x(a(W))]),Q(q,Z)}),pt(P),Q(E,P)};$t(hn,E=>{a(st).length>0&&E(tn)})}var wt=ot(hn,2);{var Bt=E=>{var P=ko(),X=Et(P);X.__click=K,pt(P),Q(E,P)};$t(wt,E=>{a(r)&&E(Bt)})}var Ft=ot(wt,2);{var nn=E=>{var P=Xo();let X;var q=Et(P);{var W=V=>{var U=Io();Pn(U,"",{},{bottom:"-5px"}),Q(V,U)},Z=V=>{var U=jo();Pn(U,"",{},{top:"-5px"}),Q(V,U)};$t(q,V=>{a(F)?V(W):V(Z,!1)})}var H=ot(q,2);{var _t=V=>{var U=Co(),vt=Ht(U),kt=Et(vt,!0);pt(vt);var xt=ot(vt,2);on(xt,17,()=>a(G).data,an,(en,Yt)=>{var Kt=Oo(),qt=Et(Kt),rn=Et(qt);pt(qt);var oe=ot(qt);pt(Kt),At(ae=>{yt(rn,"fill",a(Yt).color),pn(oe,` ${a(Yt).technology??""}: ${ae??""}
						${n.unit??""}`)},[()=>a(Yt).value.toFixed(3)]),Q(en,Kt)});var Xt=ot(xt,2);{var wn=en=>{var Yt=Do(),Kt=Et(Yt),qt=Et(Kt);pt(Kt),pt(Yt),At(rn=>pn(qt,`Total: ${rn??""} ${n.unit??""}`),[()=>a(G).total.toFixed(3)]),Q(en,Yt)};$t(Xt,en=>{a(G).data.length>1&&en(wn)})}At(()=>pn(kt,a(G).label)),Q(V,U)},zt=V=>{var U=Xe(),vt=Ht(U);{var kt=xt=>{var Xt=Xe(),wn=Ht(Xt);on(wn,17,()=>a(ct),an,(en,Yt,Kt)=>{var qt=zo();Jr(qt,1,ei(["px-2",Kt>0&&"border-top border-secondary mt-1 pt-1"]));var rn=Et(qt),oe=Et(rn,!0);pt(rn);var ae=ot(rn,2);on(ae,17,()=>a(Yt).values,an,(Xr,ze)=>{var le=Fo(),Yr=Et(le);pt(le),At(qr=>pn(Yr,`${a(ze).technology??""}: ${qr??""}
								${n.unit??""}`),[()=>a(ze).value.toFixed(3)]),Q(Xr,le)}),pt(qt),At(()=>pn(oe,a(Yt).label)),Q(en,qt)}),Q(xt,Xt)};$t(vt,xt=>{a(ct).length>0&&xt(kt)},!0)}Q(V,U)};$t(H,V=>{a(G)?V(_t):V(zt,!1)})}pt(P),At(V=>X=Pn(P,"",X,V),[()=>({top:a(F)?`${a(j)-a(C)}px`:`${a(j)+a(C)}px`,left:`${a(ft)}px`,transform:a(F)?"translate(-50%, -100%)":"translate(-50%, 0%)","min-width":"200px"})]),ni(3,P,()=>go,()=>({duration:300})),Q(E,P)};$t(Ft,E=>{(a(G)||a(ct).length>0)&&E(nn)})}return pt(yn),At(()=>{yt(mt,"width",a(l)),yt(mt,"height",a(u)),yt(mt,"id",e())}),Ze("mouseleave",mt,B),Q(t,yn),_r({resetZoom:K})}ti(["mousemove","mousedown","mouseup","click"]);const Zo=[{label:"Countries",value:"world-3"},{label:"NUTS 1 (only Europe)",value:"nuts-1"},{label:"NUTS 2 (only Europe)",value:"nuts-2"},{label:"NUTS 3 (only Europe)",value:"nuts-3"}];var Go=Rt("<!> <!> <!>",1),Vo=Rt("<!> <!>",1),Bo=Rt("<!> <!>",1),Ho=Rt("<!> <!>",1),Uo=Rt('<h1 class="mt-2 mb-4">The Map</h1> <!> <div class="my-4 border rounded overflow-hidden"><!></div>',1);function ha(t,n){mr(n,!0);let r=at(void 0),e=at(null),i=at(Ln([])),c=["conversion","storage"];const f=["energy","power"],s=Zo;let d=at(null),h=at("conversion"),o=at("energy"),l=at(null),u=at(null),p=at("world-3"),g=at(!1),m=at(!1),_=at(Ln({})),M=O(()=>{const j=a(h)=="storage"?a(o):"power";return a(_)[a(y)[0]+"_"+j]||""}),w=O(()=>a(d)==null?{}:Object.entries(a(d).detail.system.coords).reduce((j,[C,{lat:F,lon:tt}])=>({...j,[C]:[tt,F]}),{}));Bn(()=>{a(i),Ye(()=>{a(i).length>0&&(a(u)==null||!a(i).includes(parseInt(a(u))))&&z(u,a(i)[0].toString(),!0)})});let x=O(()=>{if(!a(e)||!a(d)||!a(h))return[];const j=a(b).concat(a(d).detail.system.set_transport_technologies);return Ur(a(e).data.map(C=>{const F=C.technology;return j.includes(F)?a(d).detail.reference_carrier[F]:null}).filter(C=>C!=null))});Bn(()=>{a(x),Ye(()=>{a(x).length>0&&(a(l)==null||!a(x).includes(a(l)))&&z(l,a(x)[0],!0)})});let y=O(()=>!a(d)||!a(h)?[]:a(b).filter(j=>a(d).detail.reference_carrier[j]==a(l))),b=O(()=>{if(!a(d)||!a(h))return[];let j={conversion:"set_conversion_technologies",storage:"set_storage_technologies",transport:"set_transport_technologies"}[a(h)];return j?a(d).detail.system[j]||[]:[]});ye(()=>{z(h,ce("tech")||a(h),!0),z(o,ce("stor")||a(o),!0),z(l,ce("car")||a(l),!0)}),Bn(()=>{a(h),a(o),a(l),Gr().then(()=>{Qr({tech:a(h),stor:a(h)==="storage"?a(o):null,car:a(l)})})});async function A(){await k(),a(r)?.resetZoom()}async function k(){if(!a(d))return;z(m,!0),z(e,null);const j=await Kr(a(d).solution_name,["capacity"],a(d).scenario_name);z(e,j.capacity,!0),j.unit?.data&&z(_,Object.fromEntries(j.unit.data.map(C=>[C.technology+"_"+C.capacity_type,C[0]||C.units])),!0),z(m,!1)}function T(j,C=null){return!a(e)||!a(d)||!a(h)||!a(l)?null:a(e).data.reduce((F,tt)=>{const{technology:ht,capacity_type:nt,location:it}=tt;if(!j.includes(ht)||C&&C!==nt)return F;const bt=Object.entries(tt).filter(([Lt,Ot])=>!isNaN(parseInt(Lt))).map(([Lt,Ot])=>parseFloat(Ot));return bt.length===0||(F[it]=F[it]||[],F[it].push({technology:ht,years:bt})),F},{})}let N=O(()=>!a(e)||!a(h)?null:T(a(y),a(h)=="storage"?a(o):null)),I=O(()=>{if(!a(d))return null;const j=a(d).detail.system.set_transport_technologies.filter(C=>a(d).detail.reference_carrier[C]==a(l));return T(j)}),$=O(()=>{if(!a(N)||a(u)==null)return null;const j=a(i).findIndex(F=>F.toString()===a(u)),C=Object.entries(a(N)).map(([F,tt])=>{const ht=tt.map(nt=>({technology:nt.technology,value:nt.years[j]})).filter(nt=>nt.value>1e-6);return[F,ht]}).filter(([F,tt])=>tt.length>0);return Object.fromEntries(C)}),D=O(()=>{if(!a(I)||a(u)==null)return null;const j=a(i).findIndex(F=>F.toString()===a(u)),C=Object.entries(a(I)).map(([F,tt])=>[F,tt.map(ht=>({technology:ht.technology,value:ht.years[j]}))]);return Object.fromEntries(C)}),S=O(()=>a(N)?Object.values(a(N)).reduce(([j,C],F)=>{const tt=F.reduce((nt,{years:it})=>nt?nt.map((bt,Lt)=>bt+(it[Lt]||0)):[...it],null);if(tt==null)return[j,C];const ht=tt.reduce((nt,it)=>Math.max(nt,it),0);return[Math.min(j,ht),Math.max(C,ht)]},[Number.MAX_SAFE_INTEGER,0]):[0,0]),R=O(()=>qe(a(S),2)),v=O(()=>a(R)[0]),L=O(()=>a(R)[1]),B=O(()=>a(I)?Object.values(a(I)).reduce(([j,C],F)=>{const tt=F.reduce((nt,{years:it})=>nt?nt.map((bt,Lt)=>Math.max(bt,it[Lt]||0)):[...it],null);if(tt==null)return[j,C];const ht=tt.reduce((nt,it)=>Math.max(nt,it),0);return[Math.min(j,ht),Math.max(C,ht)]},[Number.MAX_SAFE_INTEGER,0]):[0,0]),K=O(()=>qe(a(B),2)),rt=O(()=>a(K)[0]),Mt=O(()=>a(K)[1]);var st=Uo(),dt=ot(Ht(st),2);Hr(dt,{children:(j,C)=>{var F=Ho(),tt=Ht(F);se(tt,{title:"Solution Selection",children:(it,bt)=>{{let Lt=O(()=>a(m)||a(g));Wr(it,{solution_selected:A,get disabled(){return a(Lt)},get years(){return a(i)},set years(Ot){z(i,Ot,!0)},get selected_solution(){return a(d)},set selected_solution(Ot){z(d,Ot,!0)},get loading(){return a(g)},set loading(Ot){z(g,Ot,!0)}})}}});var ht=ot(tt,2);{var nt=it=>{var bt=Bo(),Lt=Ht(bt);se(Lt,{title:"Variable Selection",children:(mt,En)=>{var Sn=Go(),Qt=Ht(Sn);$n(Qt,{label:"Technology Type",content:(Bt,Ft=xn)=>{{let nn=O(()=>Fn(c)),E=O(()=>a(m)||a(g));Cn(Bt,{get formId(){return Ft()},get options(){return a(nn)},get disabled(){return a(E)},get value(){return a(h)},set value(P){z(h,P,!0)}})}}});var Jt=ot(Qt,2);{var Mn=wt=>{$n(wt,{label:"Storage Type",content:(Ft,nn=xn)=>{{let E=O(()=>Fn(f)),P=O(()=>a(m)||a(g));Vr(Ft,{get formId(){return nn()},get options(){return a(E)},get disabled(){return a(P)},get value(){return a(o)},set value(X){z(o,X,!0)}})}}})};$t(Jt,wt=>{a(h)=="storage"&&wt(Mn)})}var hn=ot(Jt,2);{var tn=wt=>{$n(wt,{label:"Carrier",content:(Ft,nn=xn)=>{{let E=O(()=>Fn(a(x))),P=O(()=>a(m)||a(g));Cn(Ft,{get formId(){return nn()},get options(){return a(E)},get disabled(){return a(P)},get value(){return a(l)},set value(X){z(l,X,!0)}})}}})};$t(hn,wt=>{a(h)!=null&&a(x).length>0&&wt(tn)})}Q(mt,Sn)}});var Ot=ot(Lt,2);{var yn=mt=>{se(mt,{title:"Data Selection",children:(En,Sn)=>{var Qt=Vo(),Jt=Ht(Qt);$n(Jt,{label:"Year",content:(tn,wt=xn)=>{{let Bt=O(()=>Fn(a(i).map(Ft=>Ft.toString())));Cn(tn,{get formId(){return wt()},get options(){return a(Bt)},get value(){return a(u)},set value(Ft){z(u,Ft,!0)}})}}});var Mn=ot(Jt,2);$n(Mn,{label:"Map",content:(tn,wt=xn)=>{Cn(tn,{get formId(){return wt()},get options(){return s},get value(){return a(p)},set value(Bt){z(p,Bt,!0)}})}}),Q(En,Qt)}})};$t(Ot,mt=>{a(e)&&a(h)&&a(l)&&mt(yn)})}Q(it,bt)};$t(ht,it=>{!a(g)&&a(d)&&it(nt)})}Q(j,F)}});var G=ot(dt,2),ct=Et(G);{var ft=j=>{yr(qo(j,{get pieData(){return a($)},get lineData(){return a(D)},get minTotal(){return a(v)},get maxTotal(){return a(L)},get minEdge(){return a(rt)},get maxEdge(){return a(Mt)},get nodeCoords(){return a(w)},get unit(){return a(M)},get map(){return a(p)}}),C=>z(r,C,!0),()=>a(r))};$t(ct,j=>{a($)&&a(D)&&j(ft)})}pt(G),Q(t,st),_r()}export{ha as component};
