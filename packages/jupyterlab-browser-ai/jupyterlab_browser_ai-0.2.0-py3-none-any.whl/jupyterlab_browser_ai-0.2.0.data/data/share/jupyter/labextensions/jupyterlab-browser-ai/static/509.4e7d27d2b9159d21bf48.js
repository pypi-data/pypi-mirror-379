"use strict";(self.webpackChunkjupyterlab_browser_ai=self.webpackChunkjupyterlab_browser_ai||[]).push([[509],{509:(e,r,o)=>{o.r(r),o.d(r,{default:()=>p});var t=o(10),s=o(436),i=o(194),a=o(368),l=o(516),n=o(26);const u={id:"jupyterlab-browser-ai:plugin",description:"In-browser AI in JupyterLab and Jupyter Notebook",autoStart:!0,requires:[i.IChatProviderRegistry],optional:[t.ISettingRegistry],activate:(e,r,t)=>{if((0,a.doesBrowserSupportBuiltInAI)()){const e={id:"chrome-ai",name:"Chrome Built-in AI",requiresApiKey:!1,defaultModels:["chrome-ai"],supportsBaseURL:!1,supportsHeaders:!1,supportsToolCalling:!1,factory:()=>(0,n.aisdk)((0,a.builtInAI)("text"))};r.registerProvider(e)}if((0,l.doesBrowserSupportWebLLM)()){const e={id:"web-llm",name:"WebLLM",requiresApiKey:!1,defaultModels:["Llama-3.2-3B-Instruct-q4f16_1-MLC","Llama-3.2-1B-Instruct-q4f16_1-MLC","Phi-3.5-mini-instruct-q4f16_1-MLC","gemma-2-2b-it-q4f16_1-MLC","Qwen3-0.6B-q4f16_1-MLC"],supportsBaseURL:!1,supportsHeaders:!1,supportsToolCalling:!1,factory:e=>{var r;const t=null!==(r=e.model)&&void 0!==r?r:"Llama-3.2-3B-Instruct-q4f16_1-MLC";let i=null;const a=(0,l.webLLM)(t,{worker:new Worker(new URL(o.p+o.u(143),o.b),{type:void 0}),initProgressCallback:e=>{var r;const o=Math.round(100*e.progress);null===i?i=s.Notification.emit(null!==(r=e.text)&&void 0!==r?r:`Downloading ${t}...`,"in-progress",{progress:0,autoClose:!1}):100===o?i&&s.Notification.update({id:i,message:`${t} ready`,type:"success",progress:1,autoClose:3e3}):i&&s.Notification.update({id:i,message:`Downloading ${t}... ${o}%`,progress:e.progress})}});return(0,n.aisdk)(a)}};r.registerProvider(e)}t&&t.load(u.id).then(e=>{console.log("jupyterlab-browser-ai settings loaded:",e.composite)}).catch(e=>{console.error("Failed to load settings for jupyterlab-browser-ai.",e)})}},p=u}}]);