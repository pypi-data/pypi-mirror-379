<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:py="http://genshi.edgewall.org/">
<head>
 <meta http-equiv="Content-type" content="text/html;charset=UTF-8"/>
 <title>${title}</title>
 <style type="text/css">
body {
    font-family: Helvetica, sans-serif;
    font-size:14px;
}

h1 {
    text-align: center;
}

a {
    color:navy;
    text-decoration: none;
    border-bottom:1px dotted navy;
}

a:hover {
    text-decoration:none;
    border-bottom: 0;
    color:#0000B9;
}

hr {
    border: 1px solid #ccc;
}

.details {
    font-size: 12px;
    font-weight:bold;
}

.event {
    font-weight: bold;
}

.topic {
    font-weight: bold;
}

ol.latin {
    list-style-type: lower-latin;
}

ol.decimal {
    list-style-type: decimal;
}
 </style>
</head>
<body>
    <h1>${title}</h1>
    <div>
        <span class="details">Meeting started by ${minutes.founder} at ${minutes.start_time} (<a href="${logpath}">full logs</a>).</span>

        <h3>Attendees</h3>
        <ol class="decimal">
            <li py:for="attendee in minutes.attendees">
                ${attendee.nick}<span py:if="attendee.alias"> (aka ${attendee.alias})</span> - ${attendee.count} lines (${attendee.percentage}%)
            </li>
        </ol>

        <h3>Meeting Summary</h3>
        <ol class="decimal">
            <li py:for="topic in minutes.topics">
                <span class="topic">${topic.name}</span>
                <span class="details">(<a href="${logpath}#${topic.id}">${topic.nick}</a>, ${topic.timestamp})</span>
                <ol class="latin">
                    <li py:for="event in topic.events">
                        <span class="event">${event.event_type}: </span>
                        <py:choose>
                            <py:when test="event.link is not None">
                                <span class="${event.event_type}"><a href="${event.link}">${event.payload}</a></span>
                            </py:when>
                            <py:otherwise>
                                <span class="${event.event_type}">${event.payload}</span>
                            </py:otherwise>
                        </py:choose>
                        <span class="details">(<a href="${logpath}#${event.id}">${event.nick}</a>, ${event.timestamp})</span>
                    </li>
                </ol>
            </li>
        </ol>

        <span class="details">Meeting ended at ${minutes.end_time} (<a href="${logpath}">full logs</a>).</span>

        <h3>Action Items</h3>
        <ol class="decimal">
            <py:for each="action in minutes.actions">
            <li id="${action.id}">${action.text} (<a href="#${action.id}">link</a>)</li>
            </py:for>
        </ol>

        <h3>Action Items by Attendee</h3>
        <ul>
            <py:for each="attendee in minutes.attendees">
                <li py:if="len(attendee.actions) > 0">
                    ${attendee.nick}
                    <ol>
                        <py:for each="action in attendee.actions">
                        <li>${action.text} (<a href="#${action.id}">link</a>)</li>
                        </py:for>
                    </ol>
                </li>
            </py:for>
        </ul>


        <span class="details">Generated by <a href="${software.url}">HCoop Meetbot</a> v${software.version}</span>
    </div>
</body>
</html>
