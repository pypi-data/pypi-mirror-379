[project]
name = "akerbp-mlpet"
version = "6.0.0"
description = "Package to prepare well log data for ML projects."
authors = [
    { name = "Yann Van Crombrugge", email = "yann.van.crombrugge@akerbp.com" },
    { name = "Saghar Asadi", email = "saghar.asadi@akerbp.com" },
    { name = "Flavia Dias Casagrande", email = "flavia.dias.casagrande@akerbp.com" },
]
requires-python = ">=3.9,<4.0"
readme = "README.md"
license = "Apache-2.0"
maintainers = [
    { name = "Yann Van Crombrugge", email = "yann.van.crombrugge@akerbp.com" },
    { name = "Peder Aursand", email = "peder.aursand@akerbp.com" },
]
dependencies = [
    "pyyaml>=5.4.1",
    "pandas<3",
    "importlib-metadata>=4.12",
    "scipy",
    "scikit-learn",
    "plotly",
    "tqdm",
    "lasio",
    "joblib",
]

[project.urls]
Repository = "https://github.com/AkerBP/expres-ml-mlpet"
Tracker = "https://github.com/AkerBP/expres-ml-mlpet/issues"

[dependency-groups]
dev = [
    "mypy",
    "types-pyyaml",
    "types-requests",
    "types-toml",
    "types-python-dateutil",
    "ruff",
]
pre-commit = ["pre-commit"]
doc = [
    "sphinx",
    "myst-parser",
    "furo",
]
tests = [
    "pytest",
    "coverage",
]
version = [
    "semver",
    "toml",
    "requests",
]

[tool.uv]
default-groups = []

[tool.hatch.build.targets.sdist]
include = ["src/akerbp"]

[tool.hatch.build.targets.wheel]
include = ["src/akerbp"]

[tool.hatch.build.targets.wheel.sources]
"src/akerbp" = "akerbp"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.pytest.ini_options]
minversion = "6.0"
addopts = "-v -rA"
testpaths = [
  "tests",
]
filterwarnings = [
    "error::pandas.errors.SettingWithCopyWarning",
]
log_cli = "true"

[tool.mypy]
files=["src/**/*.py", "tests/**/*.py"]
incremental = "True"
ignore_missing_imports = "True"
show_column_numbers = "True"
disallow_untyped_calls = "True"
warn_return_any = "True"
strict_optional = "True"
warn_no_return = "True"
warn_redundant_casts = "True"
warn_unused_ignores = "True"
disallow_any_generics = "True"
explicit_package_bases = "True"

[tool.ruff]
src = ["src",]
exclude = [
    "docs",
    ".venv",
    "__pycache__",
]

[tool.ruff.lint]
ignore = [
    "E501", # Handled by formatter
    "N818",
    "G004", # Requires a bigger refactor of all of the logging
]
select = [
    "A",
    "B",
    "C",
    "E",
    "F",
    "W",
    "I",
    "N",
    "G",
    "LOG",
    "PD",
    "PTH",
]

[tool.ruff.lint.mccabe]
max-complexity = 18

[tool.ruff.lint.flake8-quotes]
docstring-quotes = "double"
multiline-quotes = "double"

[tool.ruff.lint.flake8-tidy-imports]
ban-relative-imports = "all"
