#!/bin/bash
set -o errexit
set -o nounset

echo "Starting Flower..."
while ! nc -z redis 6379; do sleep 1; done
echo "âœ“ Redis is ready"

exec celery -A app.core.celery_app flower \
    --address=0.0.0.0 \
    --port=5555 \
    --basic_auth=${CELERY_FLOWER_USER:-admin}:${CELERY_FLOWER_PASSWORD:-admin}