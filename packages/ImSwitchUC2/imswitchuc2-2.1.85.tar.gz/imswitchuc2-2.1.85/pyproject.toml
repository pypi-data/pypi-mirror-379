[build-system]
requires = [
    "setuptools>=42",
    "wheel"
]
build-backend = "setuptools.build_meta"

[project]
name = "ImSwitchUC2"
description = "Microscopy control"
readme = "README.md"
license = {text = "GPL-3.0-or-later"}
authors = [
    {name = "Benedict Diederich", email = "benedictdied@gmail.com"},
    {name = "Xavier Casas Moreno"},
]
maintainers = [
    {name = "Benedict Diederich", email = "benedictdied@gmail.com"},
]
classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
    "Operating System :: OS Independent",
]
dynamic = ["version"]
requires-python = ">=3.9"
dependencies = [
    "pydantic==2.11.4",
    "coloredlogs >= 15",
    "colour-science >= 0.3",
    "dataclasses-json >= 0.5",
    "h5py >= 2.10",
    "pyvisa-py==0.4.1",
    "lantzdev >= 0.5.2",
    "luddite >= 1",
    "nidaqmx >= 0.5.7",
    "numpy==2.1.2",
    "packaging >= 19",
    "psutil >= 5.4.8",
    "pyserial >= 3.4",
    "requests >= 2.25",
    "scikit-image==0.25.2",
    "Send2Trash >= 1.8",
    "tifffile >= 2020.11.26",
    "dask[complete] >= 2024.8.0",
    "fastAPI >= 0.86.0",
    "uvicorn[standard] >= 0.19.0",
    "matplotlib == 3.9.2",
    "opencv-python",
    "dataclasses-json >= 0.5",
    "aiortc >= 1.9.0",
    "UC2-REST",
    "tk >= 0.1.0",
    "jupyter",
    "python-multipart >= 0.0.5",
    "piexif >= 1.1.3",
    "NanoImagingPack==2.1.4",
    "imswitchclient>=0.1.2",
    "psygnal",
    "python-socketio[asyncio]==5.11.4",
    "jupyterlab==4.2.5",
    "python-dateutil >= 2.8.1",
    "zarr>=3.0.0",
    "numcodecs>=0.13.1",
    "aiohttp>=3.9.4",
    "numba>=0.61.2"
]

[project.optional-dependencies]
PyQt5 = [
    "qtpy >= 1.9",
    "PyQt5 >= 5.15.2",
    "QDarkStyle >= 3",
    "QScintilla >= 2.12",
    "PyQtWebEngine >= 5.15.2",
    "pyqtgraph >= 0.12.1",
    "napari[pyqt5] >= 0.6.0",
    "lantzdev[qt] >= 0.5.2",
    "qtpy >= 1.9",
]
Lepmont = [
    "smbus2",
    "smbus",
    "RPi.GPIO",
    "luma.oled",
]
Ashlar = [
    "ashlarUC2",
]
arkitekt = [
    "arkitekt==0.7.8",
    "arkitekt_next>=0.8.6",
]
imjoy = [
    "imjoy-rpc==0.5.59",
    "imjoy_rpc",
    "imjoy",
]
dev = [
    "pytest",
]

[project.urls]
Homepage = "https://github.com/openuc2/ImSwitch"
"Bug Tracker" = "https://github.com/openuc2/ImSwitch/issues"

[project.scripts]
imswitch = "imswitch.__main__:main"

[tool.setuptools.dynamic]
version = {attr = "imswitch.__version__"}

[tool.setuptools.packages.find]
include = ["imswitch*"]

[tool.setuptools.package-data]
"*" = ["*"]

[project.entry-points."imswitch.implugins.detectors"]

[project.entry-points."imswitch.implugins.lasers"]

[project.entry-points."imswitch.implugins.positioner"]

[project.entry-points."jupyter_client.kernel_provisioners"]
imswitch-provisioner = "imswitch.imcontrol.model.jupyter_connection:ExistingProvisioner"
