{"file":"document-page-info.entry.js","mappings":";;AAAA,MAAM,mBAAmB,GAAG,soBAAsoB,CAAC;AACnqB,+BAAe,mBAAmB;;MCQrB,gBAAgB;;;;;;yBAIU,CAAC;qBACX,CAAC;4BACM,CAAC;;IAE1B,iBAAiB;QACpB,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;YAC/C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;;YAElD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;SACpD;KACJ;;;;;;;;;;;;;IAiBM,MAAM;QACT,OAAO;YACH,4DAAK,KAAK,EAAC,qBAAqB,IAC5B,4DAAK,KAAK,EAAC,aAAa,IAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAO,EACnD,4DAAK,KAAK,EAAC,YAAY,EAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,GAAI,EACpD,4DAAK,KAAK,EAAC,iBAAiB,IACxB,6DAAM,KAAK,EAAC,sBAAsB,iBAAkB,EACpD,+DAAO,IAAI,CAAC,IAAI,CAAC,SAAS,MAAS,CACjC,CACJ;YACN,4DAAK,KAAK,EAAC,mBAAmB,IAC1B,+DAAO,IAAI,CAAC,YAAY,MAAS,EACjC,8EAAuB,KAAK,EAAE,IAAI,CAAC,KAAK,GAAI,CAC1C;SACT,CAAC;KACL;;;;;;","names":[],"sources":["src/components/document-page-info/document-page-info.scss?tag=document-page-info&encapsulation=shadow","src/components/document-page-info/document-page-info.tsx"],"sourcesContent":["@import '../../gacolors.scss';\n\n.page-info-container {\n    display: flex;\n\n    .page-number {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        height: 1.5rem;\n        width: 1.5rem;\n        margin-right: 1rem;\n        border-radius: 50%;\n        -webkit-border-radius: 50%;\n        -moz-border-radius: 50%;\n        -ms-border-radius: 50%;\n        -o-border-radius: 50%;\n\n        background-color: $ga-orange;\n        color: $ga-white;\n    }\n\n    .page-thumb {\n        width: 4rem;\n        height: 6rem;\n        background-color: $ga-light-gray;\n        object-fit: contain;\n    }\n\n    .page-time-spent {\n        margin-left: 1rem;\n\n        .page-time-spent-text {\n            display: block;\n            font-size: 0.6rem;\n            font-weight: bold;\n            text-transform: uppercase;\n        }\n    }\n}\n.page-info-percent {\n    margin-bottom: 1rem;\n}\n","import { Component, h, Prop, State } from '@stencil/core';\nimport { IDocumentPage } from '../../types/DocumentPage';\nimport { ISession } from '../../types/Session';\n\n@Component({\n    tag: 'document-page-info',\n    shadow: true,\n    styleUrl: 'document-page-info.scss',\n})\nexport class DocumentPageInfo {\n    @Prop() public page: IDocumentPage;\n    @Prop() public documentId: string;\n    @Prop() public session: ISession;\n    @Prop() public totalTime: number = 0;\n    @State() private value = 0;\n    @State() private valuePercent = 0;\n\n    public componentWillLoad() {\n        if (this.totalTime > 0 && this.page.page_time > 0) {\n            this.value = this.page.page_time / this.totalTime;\n            // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n            this.valuePercent = Math.round(this.value * 100);\n        }\n    }\n\n    // private getThumbUrl(originalUrl = ''): string {\n    //     const s3_credentials: string = originalUrl.split('?')[1];\n    //     const bucket: string = this.getS3Bucket(originalUrl);\n\n    //     return `getaccept/page_thumb_proxy/${bucket}/${\n    //         this.session.entity_id\n    //     }/${this.documentId}/${this.page.page_id}/${encodeURIComponent(\n    //         s3_credentials\n    //     )}`;\n    // }\n\n    // private getS3Bucket(originalUrl: string): string {\n    //     return originalUrl.replace('https://', '').split('.s3.')[0] || '';\n    // }\n\n    public render() {\n        return [\n            <div class=\"page-info-container\">\n                <div class=\"page-number\">{this.page.page_num}</div>\n                <img class=\"page-thumb\" src={this.page.thumb_url} />\n                <div class=\"page-time-spent\">\n                    <span class=\"page-time-spent-text\">Time spent</span>\n                    <span>{this.page.page_time}s</span>\n                </div>\n            </div>,\n            <div class=\"page-info-percent\">\n                <span>{this.valuePercent}%</span>\n                <limel-linear-progress value={this.value} />\n            </div>,\n        ];\n    }\n}\n"],"version":3}