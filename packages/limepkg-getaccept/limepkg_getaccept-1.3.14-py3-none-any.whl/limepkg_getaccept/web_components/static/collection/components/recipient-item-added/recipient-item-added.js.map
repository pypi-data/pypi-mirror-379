{"version":3,"file":"recipient-item-added.js","sourceRoot":"","sources":["../../../src/components/recipient-item-added/recipient-item-added.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Prop, Event, EventEmitter } from '@stencil/core';\nimport { IRecipient } from '../../types/Recipient';\nimport { IRole } from '../../types/Role';\n\n@Component({\n    tag: 'recipient-item-added',\n    shadow: true,\n    styleUrl: 'recipient-item-added.scss',\n})\nexport class RecipientItemAdded {\n    @Prop() recipient: IRecipient;\n    @Prop() isSigning: boolean;\n    @Event() changeRecipientRole: EventEmitter<IRecipient>;\n    @Event() removeRecipient: EventEmitter<IRecipient>;\n\n    private roles: IRole[] = [];\n\n    constructor() {\n        this.handleChangeRole = this.handleChangeRole.bind(this);\n        this.handleRemoveRecipient = this.handleRemoveRecipient.bind(this);\n        this.selectedRole = this.selectedRole.bind(this);\n    }\n\n    public componentWillLoad() {\n        this.addRecipientRoles();\n    }\n\n    addRecipientRoles() {\n        if (this.isSigning) {\n            this.roles.push({\n                value: 'signer',\n                label: 'Signer',\n            });\n        }\n\n        this.roles.push(\n            {\n                value: 'cc',\n                label: 'Viewer',\n            },\n            {\n                value: 'approver',\n                label: 'Internal approver',\n            },\n            {\n                value: 'externalApprover',\n                label: 'External approver',\n            }\n        );\n\n        if (!this.recipient.role) {\n            this.recipient.role = this.roles[0].value;\n            this.changeRecipientRole.emit(this.recipient as IRecipient);\n        }\n    }\n\n    public render() {\n        const { fullname, email } = this.recipient;\n\n        return (\n            <li class=\"recipient-list-item\">\n                <div class=\"recipient-info-container\">\n                    <span>{fullname}</span>\n                    <div class=\"recipient-info-contact-data\">\n                        <span>{email}</span>\n                    </div>\n                </div>\n                <div class=\"recipient-role-container\">\n                    <select\n                        class=\"recipient-role-list\"\n                        onInput={event => this.handleChangeRole(event)}\n                    >\n                        {this.roles.map(role => {\n                            return (\n                                <option\n                                    value={role.value}\n                                    selected={this.selectedRole(role)}\n                                >\n                                    {role.label}\n                                </option>\n                            );\n                        })}\n                    </select>\n                </div>\n                <div\n                    class=\"recipient-remove-button\"\n                    onClick={this.handleRemoveRecipient}\n                >\n                    <limel-icon name=\"trash\" size=\"small\" />\n                </div>\n            </li>\n        );\n    }\n\n    private handleChangeRole(event) {\n        this.recipient.role = event.target.value;\n        this.changeRecipientRole.emit(this.recipient as IRecipient);\n    }\n\n    private handleRemoveRecipient() {\n        this.removeRecipient.emit(this.recipient as IRecipient);\n    }\n\n    private selectedRole(role): boolean {\n        return this.recipient.role === role.value;\n    }\n}\n"]}