{"version":3,"file":"document-page-info.js","sourceRoot":"","sources":["../../../src/components/document-page-info/document-page-info.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAS1D,MAAM,OAAO,gBAAgB;;;;;yBAIU,CAAC;qBACX,CAAC;4BACM,CAAC;;IAE1B,iBAAiB;QACpB,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC;YAChD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAClD,+DAA+D;YAC/D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;QACrD,CAAC;IACL,CAAC;IAED,kDAAkD;IAClD,gEAAgE;IAChE,4DAA4D;IAE5D,sDAAsD;IACtD,iCAAiC;IACjC,sEAAsE;IACtE,yBAAyB;IACzB,WAAW;IACX,IAAI;IAEJ,qDAAqD;IACrD,yEAAyE;IACzE,IAAI;IAEG,MAAM;QACT,OAAO;YACH,4DAAK,KAAK,EAAC,qBAAqB;gBAC5B,4DAAK,KAAK,EAAC,aAAa,IAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAO;gBACnD,4DAAK,KAAK,EAAC,YAAY,EAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,GAAI;gBACpD,4DAAK,KAAK,EAAC,iBAAiB;oBACxB,6DAAM,KAAK,EAAC,sBAAsB,iBAAkB;oBACpD;wBAAO,IAAI,CAAC,IAAI,CAAC,SAAS;4BAAS,CACjC,CACJ;YACN,4DAAK,KAAK,EAAC,mBAAmB;gBAC1B;oBAAO,IAAI,CAAC,YAAY;wBAAS;gBACjC,8EAAuB,KAAK,EAAE,IAAI,CAAC,KAAK,GAAI,CAC1C;SACT,CAAC;IACN,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACJ","sourcesContent":["import { Component, h, Prop, State } from '@stencil/core';\nimport { IDocumentPage } from '../../types/DocumentPage';\nimport { ISession } from '../../types/Session';\n\n@Component({\n    tag: 'document-page-info',\n    shadow: true,\n    styleUrl: 'document-page-info.scss',\n})\nexport class DocumentPageInfo {\n    @Prop() public page: IDocumentPage;\n    @Prop() public documentId: string;\n    @Prop() public session: ISession;\n    @Prop() public totalTime: number = 0;\n    @State() private value = 0;\n    @State() private valuePercent = 0;\n\n    public componentWillLoad() {\n        if (this.totalTime > 0 && this.page.page_time > 0) {\n            this.value = this.page.page_time / this.totalTime;\n            // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n            this.valuePercent = Math.round(this.value * 100);\n        }\n    }\n\n    // private getThumbUrl(originalUrl = ''): string {\n    //     const s3_credentials: string = originalUrl.split('?')[1];\n    //     const bucket: string = this.getS3Bucket(originalUrl);\n\n    //     return `getaccept/page_thumb_proxy/${bucket}/${\n    //         this.session.entity_id\n    //     }/${this.documentId}/${this.page.page_id}/${encodeURIComponent(\n    //         s3_credentials\n    //     )}`;\n    // }\n\n    // private getS3Bucket(originalUrl: string): string {\n    //     return originalUrl.replace('https://', '').split('.s3.')[0] || '';\n    // }\n\n    public render() {\n        return [\n            <div class=\"page-info-container\">\n                <div class=\"page-number\">{this.page.page_num}</div>\n                <img class=\"page-thumb\" src={this.page.thumb_url} />\n                <div class=\"page-time-spent\">\n                    <span class=\"page-time-spent-text\">Time spent</span>\n                    <span>{this.page.page_time}s</span>\n                </div>\n            </div>,\n            <div class=\"page-info-percent\">\n                <span>{this.valuePercent}%</span>\n                <limel-linear-progress value={this.value} />\n            </div>,\n        ];\n    }\n}\n"]}