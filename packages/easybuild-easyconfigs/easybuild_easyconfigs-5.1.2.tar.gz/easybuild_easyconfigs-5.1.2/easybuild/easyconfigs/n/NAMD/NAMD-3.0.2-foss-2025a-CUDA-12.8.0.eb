# #
# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
#
#  Contribution from University of Houston
# Based on NAMD-3.0.1-foss-2024a-CUDA-12.6.0.eb
# Author: Jerry Ebalunode <jebalunode@uh.edu>
# #

name = 'NAMD'
version = '3.0.2'
versionsuffix = '-CUDA-%(cudaver)s'

homepage = 'https://www.ks.uiuc.edu/Research/namd/'
description = """NAMD is a parallel molecular dynamics code designed for high-performance simulation of
 large biomolecular systems."""

toolchain = {'name': 'foss', 'version': '2025a'}
toolchainopts = {'usempi': False, 'openmp': False, 'pic': True}

sources = ['NAMD_%(version)s_Source.tar.gz']
checksums = ['4809360bdbe4f67aebd56847210537a24f6c785c381e501341260a7812879da4']

download_instructions = f'Manually obtain {sources[0]} at'
download_instructions += ' https://www.ks.uiuc.edu/Development/Download/download.cgi?PackageName=NAMD'

dependencies = [
    ('Tcl', '8.6.16'),
    ('CUDA', '12.8.0', '', SYSTEM),
]

builddependencies = [
    ('tcsh', '6.24.16'),
]

charm_arch = "multicore-linux-%(arch)s"
charm_extra_cxxflags = '-std=c++17 -fpermissive'

moduleclass = 'chem'
