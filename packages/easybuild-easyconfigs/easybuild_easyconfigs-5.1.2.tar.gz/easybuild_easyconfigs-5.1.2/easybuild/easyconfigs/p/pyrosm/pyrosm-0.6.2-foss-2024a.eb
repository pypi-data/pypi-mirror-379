easyblock = 'PythonBundle'

name = 'pyrosm'
version = '0.6.2'

homepage = 'https://pyrosm.readthedocs.io/'
description = """Pyrosm is a Python library for reading OpenStreetMap from Protocolbuffer Binary Format -files
(*.osm.pbf) into Geopandas GeoDataFrames. Pyrosm makes it easy to extract various datasets from
OpenStreetMap pbf-dumps including e.g. road networks, buildings, Points of Interest (POI), landuse, natural elements,
administrative boundaries and much more. Fully customized queries are supported which makes it possible to parse
any kind of data from OSM, even with more specific filters."""

toolchain = {'name': 'foss', 'version': '2024a'}

dependencies = [
    ('Python', '3.12.3'),
    ('RapidJSON', '1.1.0-20240815'),
    ('geopandas', '1.0.1'),
    ('Shapely', '2.0.6'),
    # pyrobuf needs cython as dependency
    ('Cython', '3.0.10'),
]

exts_list = [
    ('python_rapidjson', '1.21', {
        'modulename': 'rapidjson',
        'installopts': '--global-option=--rj-include-dir=$EBROOTRAPIDJSON/include/rapidjson',
        'checksums': ['4d0dd9cf1fcb6f4bf79ee606e6e9be4cfa598f273b91338a6974b6a99309a1e6'],
    }),
    ('cykhash', '2.0.0', {
        'checksums': ['ab2e7b3a701291f71df626d8fe597a50b097c1b33e25b4c37681415639d270fd'],
    }),
    ('pyrobuf', '0.9.3', {
        'checksums': ['9cca7f992c674645522247e23cf6c4d81cca42e5a65e4ae1d05f3967b0c07a80'],
    }),
    (name, version, {
        'checksums': ['904e9636e71fd558d127807a0beb9b53e4d2e28a2301d3c46ed8ba2d84d5e1b9'],
    }),
]

moduleclass = 'geo'
