name: "Login Page Flow"
type: "sequence"
steps:
  - name: "标准推广数据汇总"
    selector: { type: xpath, value: '//div[contains(@mx-view, "onebp/views/pages/report/sum-card")]' }
    children:
      - name: "显示模式 - 表格"
        selector: { type: xpath, valued: '//span[contains(text(), "显示模式")]/following-sibling::div[div[contains(text(), "表格")]]'}
        type: click
      - name: "点击下载报表"
        selector: { type: xpath, value: './/button/span[contains(text(), "下载报表")]' }
        type: click
  - name: "下载报表对话框"
    selector: { type: xpath, value: './/div[contains(@data-daynamic-view, "onebp/views/pages/report/download-dialog")]' }
    children:
      - name: "文件名称 - 获取"
        selector: { type: xpath, value: './/div/div[contains(text(), "文件名称")]/following-sibling::div//input' }
        type: input_value
        action_type: value
        param_name: 'file_prefix'
      - name: "报表下载 - 任务"
        selector: { type: xpath, value: './/button/span[contains(text(), "确定")]' }
        type: click
        action_type: download_task
        name_rule: '{file_prefix}'
        rename_rule: '{account[brand_code]}_{effectEqual}_daily_{sync_date}_{suffix}.csv'