import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{a as f}from"./chunk-QMGIS6GS-Ycl3lDfV.js";import{O as le,g as T}from"./OptionalPortal-B27yLbBN.js";import{B as O,m as de,y as ce,l as j,j as B,h as N,r as F,i as ie,o as ue,s as me,q as fe}from"./polymorphic-factory-LSZH-6YR.js";import{c as A}from"./create-safe-context-B_aKK-F2.js";import{a as ye,C as pe,c as xe}from"./Button-CBQP_VHO.js";import{u as Me,F as he,O as ve}from"./FocusTrap-Dk7zkddL.js";import{P as Se}from"./Paper-DURyahKO.js";import{u as Be,T as H}from"./Loader-DMms8AFE.js";import{u as Ne,R as ge}from"./use-window-event-DvDG7-bU.js";import{S as je}from"./ScrollArea-CRBHD8x0.js";const[we,h]=A("ModalBase component was not found in tree");function Ie({opened:e,transitionDuration:t}){const[s,a]=f.useState(e),n=f.useRef(-1),r=Be()?0:t;return f.useEffect(()=>(e?(a(!0),window.clearTimeout(n.current)):r===0?a(!1):n.current=window.setTimeout(()=>a(!1),r),()=>window.clearTimeout(n.current)),[e,r]),s}function Te({id:e,transitionProps:t,opened:s,trapFocus:a,closeOnEscape:n,onClose:l,returnFocus:r}){const o=ye(e),[i,d]=f.useState(!1),[u,y]=f.useState(!1),p=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,m=Ie({opened:s,transitionDuration:p});return Ne("keydown",S=>{var M;S.key==="Escape"&&n&&!S.isComposing&&s&&((M=S.target)==null?void 0:M.getAttribute("data-mantine-stop-propagation"))!=="true"&&l()},{capture:!0}),Me({opened:s,shouldReturnFocus:a&&r}),{_id:o,titleMounted:i,bodyMounted:u,shouldLockScroll:m,setTitleMounted:d,setBodyMounted:y}}const L=f.forwardRef(({keepMounted:e,opened:t,onClose:s,id:a,transitionProps:n,onExitTransitionEnd:l,onEnterTransitionEnd:r,trapFocus:o,closeOnEscape:i,returnFocus:d,closeOnClickOutside:u,withinPortal:y,portalProps:p,lockScroll:m,children:S,zIndex:M,shadow:g,padding:b,__vars:G,unstyled:J,removeScrollProps:Q,...X},Y)=>{const{_id:z,titleMounted:ee,bodyMounted:te,shouldLockScroll:se,setTitleMounted:oe,setBodyMounted:ae}=Te({id:a,transitionProps:n,opened:t,trapFocus:o,closeOnEscape:i,onClose:s,returnFocus:d}),{key:ne,...re}=Q||{};return c.jsx(le,{...p,withinPortal:y,children:c.jsx(we,{value:{opened:t,onClose:s,closeOnClickOutside:u,onExitTransitionEnd:l,onEnterTransitionEnd:r,transitionProps:{...n,keepMounted:e},getTitleId:()=>`${z}-title`,getBodyId:()=>`${z}-body`,titleMounted:ee,bodyMounted:te,setTitleMounted:oe,setBodyMounted:ae,trapFocus:o,closeOnEscape:i,zIndex:M,unstyled:J},children:c.jsx(ge,{enabled:se&&m,...re,children:c.jsx(O,{ref:Y,...X,__vars:{...G,"--mb-z-index":(M||T("modal")).toString(),"--mb-shadow":ce(g),"--mb-padding":de(b)},children:S})},ne)})})});L.displayName="@mantine/core/ModalBase";function be(){const e=h();return f.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var w={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Z=f.forwardRef(({className:e,...t},s)=>{const a=be(),n=h();return c.jsx(O,{ref:s,...t,id:a,className:j({[w.body]:!n.unstyled},e)})});Z.displayName="@mantine/core/ModalBaseBody";const D=f.forwardRef(({className:e,onClick:t,...s},a)=>{const n=h();return c.jsx(pe,{ref:a,...s,onClick:l=>{n.onClose(),t==null||t(l)},className:j({[w.close]:!n.unstyled},e),unstyled:n.unstyled})});D.displayName="@mantine/core/ModalBaseCloseButton";const K=f.forwardRef(({transitionProps:e,className:t,innerProps:s,onKeyDown:a,style:n,...l},r)=>{const o=h();return c.jsx(H,{mounted:o.opened,transition:"pop",...o.transitionProps,onExited:()=>{var i,d,u;(i=o.onExitTransitionEnd)==null||i.call(o),(u=(d=o.transitionProps)==null?void 0:d.onExited)==null||u.call(d)},onEntered:()=>{var i,d,u;(i=o.onEnterTransitionEnd)==null||i.call(o),(u=(d=o.transitionProps)==null?void 0:d.onEntered)==null||u.call(d)},...e,children:i=>c.jsx("div",{...s,className:j({[w.inner]:!o.unstyled},s.className),children:c.jsx(he,{active:o.opened&&o.trapFocus,innerRef:r,children:c.jsx(Se,{...l,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":o.bodyMounted?o.getBodyId():void 0,"aria-labelledby":o.titleMounted?o.getTitleId():void 0,style:[n,i],className:j({[w.content]:!o.unstyled},t),unstyled:o.unstyled,children:l.children})})})})});K.displayName="@mantine/core/ModalBaseContent";const V=f.forwardRef(({className:e,...t},s)=>{const a=h();return c.jsx(O,{component:"header",ref:s,className:j({[w.header]:!a.unstyled},e),...t})});V.displayName="@mantine/core/ModalBaseHeader";const Oe={duration:200,timingFunction:"ease",transition:"fade"};function Re(e){const t=h();return{...Oe,...t.transitionProps,...e}}const q=f.forwardRef(({onClick:e,transitionProps:t,style:s,visible:a,...n},l)=>{const r=h(),o=Re(t);return c.jsx(H,{mounted:a!==void 0?a:r.opened,...o,transition:"fade",children:i=>c.jsx(ve,{ref:l,fixed:!0,style:[s,i],zIndex:r.zIndex,unstyled:r.unstyled,onClick:d=>{e==null||e(d),r.closeOnClickOutside&&r.onClose()},...n})})});q.displayName="@mantine/core/ModalBaseOverlay";function _e(){const e=h();return f.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const U=f.forwardRef(({className:e,...t},s)=>{const a=_e(),n=h();return c.jsx(O,{component:"h2",ref:s,className:j({[w.title]:!n.unstyled},e),...t,id:a})});U.displayName="@mantine/core/ModalBaseTitle";function Ce({children:e}){return c.jsx(c.Fragment,{children:e})}const[Ee,I]=A("Modal component was not found in tree");var v={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Pe={},R=B((e,t)=>{const s=N("ModalBody",Pe,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(Z,{ref:t,...d.getStyles("body",{classNames:a,style:l,styles:r,className:n}),...i})});R.classes=v;R.displayName="@mantine/core/ModalBody";const ke={},_=B((e,t)=>{const s=N("ModalCloseButton",ke,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(D,{ref:t,...d.getStyles("close",{classNames:a,style:l,styles:r,className:n}),...i})});_.classes=v;_.displayName="@mantine/core/ModalCloseButton";const $e={},C=B((e,t)=>{const s=N("ModalContent",$e,e),{classNames:a,className:n,style:l,styles:r,vars:o,children:i,__hidden:d,...u}=s,y=I(),p=y.scrollAreaComponent||Ce;return c.jsx(K,{...y.getStyles("content",{className:n,style:l,styles:r,classNames:a}),innerProps:y.getStyles("inner",{className:n,style:l,styles:r,classNames:a}),"data-full-screen":y.fullScreen||void 0,"data-modal-content":!0,"data-hidden":d||void 0,ref:t,...u,children:c.jsx(p,{style:{maxHeight:y.fullScreen?"100dvh":`calc(100dvh - (${F(y.yOffset)} * 2))`},children:i})})});C.classes=v;C.displayName="@mantine/core/ModalContent";const Fe={},E=B((e,t)=>{const s=N("ModalHeader",Fe,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(V,{ref:t,...d.getStyles("header",{classNames:a,style:l,styles:r,className:n}),...i})});E.classes=v;E.displayName="@mantine/core/ModalHeader";const ze={},P=B((e,t)=>{const s=N("ModalOverlay",ze,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(q,{ref:t,...d.getStyles("overlay",{classNames:a,style:l,styles:r,className:n}),...i})});P.classes=v;P.displayName="@mantine/core/ModalOverlay";const Ae={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:T("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},He=ue((e,{radius:t,size:s,yOffset:a,xOffset:n})=>({root:{"--modal-radius":t===void 0?void 0:fe(t),"--modal-size":me(s,"modal-size"),"--modal-y-offset":F(a),"--modal-x-offset":F(n)}})),k=B((e,t)=>{const s=N("ModalRoot",Ae,e),{classNames:a,className:n,style:l,styles:r,unstyled:o,vars:i,yOffset:d,scrollAreaComponent:u,radius:y,fullScreen:p,centered:m,xOffset:S,__staticSelector:M,...g}=s,b=ie({name:M,classes:v,props:s,className:n,style:l,classNames:a,styles:r,unstyled:o,vars:i,varsResolver:He});return c.jsx(Ee,{value:{yOffset:d,scrollAreaComponent:u,getStyles:b,fullScreen:p},children:c.jsx(L,{ref:t,...b("root"),"data-full-screen":p||void 0,"data-centered":m||void 0,"data-offset-scrollbars":u===je.Autosize||void 0,unstyled:o,...g})})});k.classes=v;k.displayName="@mantine/core/ModalRoot";const[Le,Ze]=xe();function W({children:e}){const[t,s]=f.useState([]),[a,n]=f.useState(T("modal"));return c.jsx(Le,{value:{stack:t,addModal:(l,r)=>{s(o=>[...new Set([...o,l])]),n(o=>typeof r=="number"&&typeof o=="number"?Math.max(o,r):o)},removeModal:l=>s(r=>r.filter(o=>o!==l)),getZIndex:l=>`calc(${a} + ${t.indexOf(l)} + 1)`,currentId:t[t.length-1],maxZIndex:a},children:e})}W.displayName="@mantine/core/ModalStack";const De={},$=B((e,t)=>{const s=N("ModalTitle",De,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(U,{ref:t,...d.getStyles("title",{classNames:a,style:l,styles:r,className:n}),...i})});$.classes=v;$.displayName="@mantine/core/ModalTitle";const Ke={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:T("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},x=B((e,t)=>{const{title:s,withOverlay:a,overlayProps:n,withCloseButton:l,closeButtonProps:r,children:o,radius:i,opened:d,stackId:u,zIndex:y,...p}=N("Modal",Ke,e),m=Ze(),S=!!s||l,M=m&&u?{closeOnEscape:m.currentId===u,trapFocus:m.currentId===u,zIndex:m.getZIndex(u)}:{},g=a===!1?!1:u&&m?m.currentId===u:d;return f.useEffect(()=>{m&&u&&(d?m.addModal(u,y||T("modal")):m.removeModal(u))},[d,u,y]),c.jsxs(k,{ref:t,radius:i,opened:d,zIndex:m&&u?m.getZIndex(u):y,...p,...M,children:[a&&c.jsx(P,{visible:g,transitionProps:m&&u?{duration:0}:void 0,...n}),c.jsxs(C,{radius:i,__hidden:m&&u&&d?u!==m.currentId:!1,children:[S&&c.jsxs(E,{children:[s&&c.jsx($,{children:s}),l&&c.jsx(_,{...r})]}),c.jsx(R,{children:o})]})]})});x.classes=v;x.displayName="@mantine/core/Modal";x.Root=k;x.Overlay=P;x.Content=C;x.Body=R;x.Header=E;x.Title=$;x.CloseButton=_;x.Stack=W;export{x as M};
