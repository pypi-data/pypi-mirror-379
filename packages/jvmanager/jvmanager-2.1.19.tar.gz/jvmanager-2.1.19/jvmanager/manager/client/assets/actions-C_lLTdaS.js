import{z as d,w as p}from"./chunk-QMGIS6GS-Ycl3lDfV.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{C as f}from"./Card-HKp9kRNR.js";import{G as g}from"./Group-BSStCtoe.js";import{B as s}from"./Badge-BEv6t5_i.js";import{T as c}from"./Text-xLIbnwfR.js";import{f as u}from"./api-tgDzxHzW.js";import{B as x}from"./polymorphic-factory-LSZH-6YR.js";import{T as h}from"./Title-c3Y7NKae.js";import{D as j}from"./Divider-BzbqtjWl.js";import{S as b}from"./SimpleGrid-C3O3DW9G.js";import"./Paper-DURyahKO.js";import"./create-safe-context-B_aKK-F2.js";import"./px-CiO0pVtX.js";import"./get-sorted-breakpoints-CWbmZd_q.js";const y="_root_tlzeu_1",v={root:y};function _({action:r}){var o,t,a;return e.jsxs(f,{withBorder:!0,padding:"lg",radius:"md",component:d,className:v.root,to:`/actions/${r.id}`,children:[e.jsxs(g,{justify:"space-between",children:[e.jsx(s,{size:"sm",color:"gray",variant:"outline",children:((o=r._package)==null?void 0:o.version)||"-"}),r.enabled?e.jsx(s,{size:"sm",variant:"dot",color:"teal",children:"Enabled"}):e.jsx(s,{size:"sm",color:"red",variant:"dot",children:"Disabled"})]}),e.jsx(c,{fz:"md",fw:500,mt:"md",children:((a=(t=r._package)==null?void 0:t.meta)==null?void 0:a.title)||r.label}),e.jsx(c,{fz:"sm",c:"gray.7",mt:5,lineClamp:3,children:r.description})]})}function O(){return[{title:"Actions | JIVAS Manager"}]}async function P({request:r}){const t=(await r.formData()).get("agentId");return localStorage.setItem("jivas-agent",t),{}}async function R({serverLoader:r}){const o=localStorage.getItem("jivas-host");try{return{actions:(await u(`${o}/walker/list_actions`,{method:"POST",body:JSON.stringify({agent_id:localStorage.getItem("jivas-agent")}),headers:{"Content-Type":"application/json"}}).then(a=>a.json())).reports[0]}}catch{return{actions:[]}}}const $=p(function({loaderData:o}){return e.jsxs(x,{px:"xl",py:"xl",children:[e.jsx(h,{order:3,children:"Actions"}),e.jsx(j,{mt:"xs",mb:"xl"}),e.jsx(b,{cols:{base:1,md:2,lg:4},children:o.actions.sort((t,a)=>{var i,n,l,m;return(((n=(i=t._package)==null?void 0:i.meta)==null?void 0:n.title)||t.label).localeCompare(((m=(l=a._package)==null?void 0:l.meta)==null?void 0:m.title)||a.label)}).filter(t=>t.label!=="ExitInteractAction").map(t=>e.jsx(_,{action:t},t.id))})]})});export{P as clientAction,R as clientLoader,$ as default,O as meta};
