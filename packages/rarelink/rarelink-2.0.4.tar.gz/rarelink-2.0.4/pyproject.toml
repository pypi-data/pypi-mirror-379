[build-system]
requires = ["setuptools>=64", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "rarelink"
version = "2.0.4"                  
description = "RareLink - A REDCap-based Python framework linking international registries to HL7 FHIR and GA4GH Phenopackets"
readme = "README.md"
requires-python = ">=3.10, <3.13"
license = { file = "LICENSE" }
authors = [
    {name = "Adam SL Graefe", email="adam.graefe@charite.de"},
    {name = "Filip Rehburg", email="filip.rehburg@charite.de"},
    {name = "Samer Alkarkoukly", email="mabbouda@uni-koeln.de"},
    {name = "Daniel Danis", email="daniel.danis@bih-charite.de"},
    {name = "Melissa A Haendel", email="mhaendel@email.unc.edu"},
    {name = "Peter N Robinson", email="peter.robinson@bih-charite.de"},
    {name = "Sylvia Thun", email="sylvia.thun@bih-charite.de"},
    {name = "Oya Beyan", email="oya.beyan@uni-koeln.de"}
]
keywords = ["Rare Disease", "Interoperability", "FHIR", "Phenopacket Schema", "REDCap"]
classifiers = [
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
    "Development Status :: 3 - Alpha",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Intended Audience :: Science/Research",
    "Topic :: Scientific/Engineering :: Medical Science Apps."
]

dependencies = [
    "numpy",
    "jupyter", 
    "pandas", 
    "phenopackets", 
    "pyphetools",
    "pytest",
    "requests",
    "config",
    "sphinx-autobuild",
    "sphinx-copybutton",
    "sphinx-rtd-theme",
    "typer",
    "pytest-mock",
    "tqdm",
    "node",
    "npm",
    "linkml>=1.9.0",
    "linkml-runtime>=1.9.0",
    "pydantic<2.11",
    "schema-automator",
    "python-dotenv",
    "docker",
    "rd-cdm>=2.0.2",
]

[project.optional-dependencies]
# Dev/test/docs extras; NOT installed for end users
test = ["pytest>=7,<9", "pytest-mock"]
docs = ["sphinx>=7", "sphinx-rtd-theme>=1.3", "sphinx-copybutton>=0.5"]
dev  = [
  "build", "twine",
  "jupyter",
  "sphinx>=7", "sphinx-rtd-theme>=1.3", "sphinx-copybutton>=0.5",
  "pytest>=7,<9", "pytest-mock",
  "docker",       # if you really need this for dev
]

[project.urls]
Homepage = "https://github.com/BIH-CEI/RareLink"
Repository = "https://github.com/BIH-CEI/RareLink.git"
Documentation = "https://rarelink.readthedocs.io/en/latest/"
Bugtracker = "https://github.com/BIH-CEI/RareLink/issues"

[project.scripts]
rarelink = "rarelink.cli:app"
rarelink-cdm-generate = "rarelink.cdm.codegen_cli:main"

[tool.setuptools]
package-dir = { "" = "src" }
include-package-data = true

[tool.setuptools.packages.find]
where = ["src"]
include = ["rarelink*", "rarelink_cdm*"]

[tool.setuptools.package-data]
"*" = ["*.yaml", "*.yml", "*.json", "*.csv", "*.tsv"]

[tool.setuptools.exclude-package-data]
rarelink = [
  "fsh/output/**",
  "fsh/fsh-generated", 
  "fsh/input-cache",
  "fsh/temp",
  "fsh/template"
]